{"version":3,"file":"db.worker.js","sources":["../node_modules/uuid/lib/rng-browser.js","../node_modules/uuid/lib/bytesToUuid.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../node_modules/immediate/lib/browser.js","../node_modules/lie/lib/browser.js","../node_modules/pouchdb-promise/lib/index.es.js","../node_modules/argsarray/index.js","../node_modules/pouchdb-collections/lib/index.es.js","../node_modules/inherits/inherits_browser.js","../node_modules/pouchdb-errors/lib/index.es.js","../node_modules/pouchdb-utils/lib/index-browser.es.js","../node_modules/pouchdb-merge/lib/index.es.js","../node_modules/pouchdb-debug/node_modules/ms/index.js","../node_modules/pouchdb-debug/node_modules/debug/src/debug.js","../node_modules/pouchdb-debug/node_modules/debug/src/browser.js","../node_modules/pouchdb-debug/lib/index-browser.es.js","../node_modules/pouchdb-collate/lib/index.es.js","../node_modules/pouchdb-selector-core/lib/index.es.js","../node_modules/pouchdb-changes-filter/lib/index-browser.es.js","../node_modules/pouchdb-core/lib/index.es.js","../node_modules/pouchdb-binary-utils/lib/index-browser.es.js","../node_modules/spark-md5/spark-md5.js","../node_modules/pouchdb-md5/lib/index-browser.es.js","../node_modules/pouchdb-adapter-utils/lib/index.es.js","../node_modules/vuvuzela/index.js","../node_modules/pouchdb-json/lib/index.es.js","../node_modules/pouchdb-adapter-idb/lib/index.es.js","../node_modules/pouchdb-ajax/lib/index-browser.es.js","../node_modules/pouchdb-adapter-http/lib/index.es.js","../node_modules/pouchdb-checkpointer/lib/index.es.js","../node_modules/pouchdb-generate-replication-id/lib/index.es.js","../node_modules/pouchdb-replication/lib/index.es.js","../src/db.worker.js"],"sourcesContent":["// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\n// random #'s we need to init node and clockseq\nvar _seedBytes = rng();\n\n// Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\nvar _nodeId = [\n  _seedBytes[0] | 0x01,\n  _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n];\n\n// Per 4.2.2, randomize (14 bit) clockseq\nvar _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n// Previous uuid creation time\nvar _lastMSecs = 0, _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  var node = options.node || _nodeId;\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n","'use strict';\nvar immediate = require('immediate');\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n","import lie from 'lie';\n\n/* istanbul ignore next */\nvar PouchPromise = typeof Promise === 'function' ? Promise : lie;\n\nexport default PouchPromise;\n","'use strict';\n\nmodule.exports = argsArray;\n\nfunction argsArray(fun) {\n  return function () {\n    var len = arguments.length;\n    if (len) {\n      var args = [];\n      var i = -1;\n      while (++i < len) {\n        args[i] = arguments[i];\n      }\n      return fun.call(this, args);\n    } else {\n      return fun.call(this, []);\n    }\n  };\n}","function mangle(key) {\n  return '$' + key;\n}\nfunction unmangle(key) {\n  return key.substring(1);\n}\nfunction Map$1() {\n  this._store = {};\n}\nMap$1.prototype.get = function (key) {\n  var mangled = mangle(key);\n  return this._store[mangled];\n};\nMap$1.prototype.set = function (key, value) {\n  var mangled = mangle(key);\n  this._store[mangled] = value;\n  return true;\n};\nMap$1.prototype.has = function (key) {\n  var mangled = mangle(key);\n  return mangled in this._store;\n};\nMap$1.prototype.delete = function (key) {\n  var mangled = mangle(key);\n  var res = mangled in this._store;\n  delete this._store[mangled];\n  return res;\n};\nMap$1.prototype.forEach = function (cb) {\n  var keys = Object.keys(this._store);\n  for (var i = 0, len = keys.length; i < len; i++) {\n    var key = keys[i];\n    var value = this._store[key];\n    key = unmangle(key);\n    cb(value, key);\n  }\n};\nObject.defineProperty(Map$1.prototype, 'size', {\n  get: function () {\n    return Object.keys(this._store).length;\n  }\n});\n\nfunction Set$1(array) {\n  this._store = new Map$1();\n\n  // init with an array\n  if (array && Array.isArray(array)) {\n    for (var i = 0, len = array.length; i < len; i++) {\n      this.add(array[i]);\n    }\n  }\n}\nSet$1.prototype.add = function (key) {\n  return this._store.set(key, true);\n};\nSet$1.prototype.has = function (key) {\n  return this._store.has(key);\n};\nSet$1.prototype.forEach = function (cb) {\n  this._store.forEach(function (value, key) {\n    cb(key);\n  });\n};\nObject.defineProperty(Set$1.prototype, 'size', {\n  get: function () {\n    return this._store.size;\n  }\n});\n\n/* global Map,Set,Symbol */\n// Based on https://kangax.github.io/compat-table/es6/ we can sniff out\n// incomplete Map/Set implementations which would otherwise cause our tests to fail.\n// Notably they fail in IE11 and iOS 8.4, which this prevents.\nfunction supportsMapAndSet() {\n  if (typeof Symbol === 'undefined' || typeof Map === 'undefined' || typeof Set === 'undefined') {\n    return false;\n  }\n  var prop = Object.getOwnPropertyDescriptor(Map, Symbol.species);\n  return prop && 'get' in prop && Map[Symbol.species] === Map;\n}\n\n// based on https://github.com/montagejs/collections\n/* global Map,Set */\n\nvar ExportedSet;\nvar ExportedMap;\n\n{\n  if (supportsMapAndSet()) { // prefer built-in Map/Set\n    ExportedSet = Set;\n    ExportedMap = Map;\n  } else { // fall back to our polyfill\n    ExportedSet = Set$1;\n    ExportedMap = Map$1;\n  }\n}\n\nexport { ExportedSet as Set, ExportedMap as Map };\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","import inherits from 'inherits';\n\ninherits(PouchError, Error);\n\nfunction PouchError(status, error, reason) {\n  Error.call(this, reason);\n  this.status = status;\n  this.name = error;\n  this.message = reason;\n  this.error = true;\n}\n\nPouchError.prototype.toString = function () {\n  return JSON.stringify({\n    status: this.status,\n    name: this.name,\n    message: this.message,\n    reason: this.reason\n  });\n};\n\nvar UNAUTHORIZED = new PouchError(401, 'unauthorized', \"Name or password is incorrect.\");\nvar MISSING_BULK_DOCS = new PouchError(400, 'bad_request', \"Missing JSON list of 'docs'\");\nvar MISSING_DOC = new PouchError(404, 'not_found', 'missing');\nvar REV_CONFLICT = new PouchError(409, 'conflict', 'Document update conflict');\nvar INVALID_ID = new PouchError(400, 'bad_request', '_id field must contain a string');\nvar MISSING_ID = new PouchError(412, 'missing_id', '_id is required for puts');\nvar RESERVED_ID = new PouchError(400, 'bad_request', 'Only reserved document ids may start with underscore.');\nvar NOT_OPEN = new PouchError(412, 'precondition_failed', 'Database not open');\nvar UNKNOWN_ERROR = new PouchError(500, 'unknown_error', 'Database encountered an unknown error');\nvar BAD_ARG = new PouchError(500, 'badarg', 'Some query argument is invalid');\nvar INVALID_REQUEST = new PouchError(400, 'invalid_request', 'Request was invalid');\nvar QUERY_PARSE_ERROR = new PouchError(400, 'query_parse_error', 'Some query parameter is invalid');\nvar DOC_VALIDATION = new PouchError(500, 'doc_validation', 'Bad special document member');\nvar BAD_REQUEST = new PouchError(400, 'bad_request', 'Something wrong with the request');\nvar NOT_AN_OBJECT = new PouchError(400, 'bad_request', 'Document must be a JSON object');\nvar DB_MISSING = new PouchError(404, 'not_found', 'Database not found');\nvar IDB_ERROR = new PouchError(500, 'indexed_db_went_bad', 'unknown');\nvar WSQ_ERROR = new PouchError(500, 'web_sql_went_bad', 'unknown');\nvar LDB_ERROR = new PouchError(500, 'levelDB_went_went_bad', 'unknown');\nvar FORBIDDEN = new PouchError(403, 'forbidden', 'Forbidden by design doc validate_doc_update function');\nvar INVALID_REV = new PouchError(400, 'bad_request', 'Invalid rev format');\nvar FILE_EXISTS = new PouchError(412, 'file_exists', 'The database could not be created, the file already exists.');\nvar MISSING_STUB = new PouchError(412, 'missing_stub', 'A pre-existing attachment stub wasn\\'t found');\nvar INVALID_URL = new PouchError(413, 'invalid_url', 'Provided URL is invalid');\n\nfunction createError(error, reason) {\n  function CustomPouchError(reason) {\n    // inherit error properties from our parent error manually\n    // so as to allow proper JSON parsing.\n    /* jshint ignore:start */\n    for (var p in error) {\n      if (typeof error[p] !== 'function') {\n        this[p] = error[p];\n      }\n    }\n    /* jshint ignore:end */\n    if (reason !== undefined) {\n      this.reason = reason;\n    }\n  }\n  CustomPouchError.prototype = PouchError.prototype;\n  return new CustomPouchError(reason);\n}\n\nfunction generateErrorFromResponse(err) {\n\n  if (typeof err !== 'object') {\n    var data = err;\n    err = UNKNOWN_ERROR;\n    err.data = data;\n  }\n\n  if ('error' in err && err.error === 'conflict') {\n    err.name = 'conflict';\n    err.status = 409;\n  }\n\n  if (!('name' in err)) {\n    err.name = err.error || 'unknown';\n  }\n\n  if (!('status' in err)) {\n    err.status = 500;\n  }\n\n  if (!('message' in err)) {\n    err.message = err.message || err.reason;\n  }\n\n  return err;\n}\n\nexport { UNAUTHORIZED, MISSING_BULK_DOCS, MISSING_DOC, REV_CONFLICT, INVALID_ID, MISSING_ID, RESERVED_ID, NOT_OPEN, UNKNOWN_ERROR, BAD_ARG, INVALID_REQUEST, QUERY_PARSE_ERROR, DOC_VALIDATION, BAD_REQUEST, NOT_AN_OBJECT, DB_MISSING, WSQ_ERROR, LDB_ERROR, FORBIDDEN, INVALID_REV, FILE_EXISTS, MISSING_STUB, IDB_ERROR, INVALID_URL, createError, generateErrorFromResponse };\n","import uuidV4 from 'uuid';\nimport Promise from 'pouchdb-promise';\nimport getArguments from 'argsarray';\nimport { Map } from 'pouchdb-collections';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\nimport immediate from 'immediate';\nimport { BAD_REQUEST, INVALID_ID, MISSING_ID, RESERVED_ID, createError } from 'pouchdb-errors';\n\nfunction isBinaryObject(object) {\n  return (typeof ArrayBuffer !== 'undefined' && object instanceof ArrayBuffer) ||\n    (typeof Blob !== 'undefined' && object instanceof Blob);\n}\n\nfunction cloneArrayBuffer(buff) {\n  if (typeof buff.slice === 'function') {\n    return buff.slice(0);\n  }\n  // IE10-11 slice() polyfill\n  var target = new ArrayBuffer(buff.byteLength);\n  var targetArray = new Uint8Array(target);\n  var sourceArray = new Uint8Array(buff);\n  targetArray.set(sourceArray);\n  return target;\n}\n\nfunction cloneBinaryObject(object) {\n  if (object instanceof ArrayBuffer) {\n    return cloneArrayBuffer(object);\n  }\n  var size = object.size;\n  var type = object.type;\n  // Blob\n  if (typeof object.slice === 'function') {\n    return object.slice(0, size, type);\n  }\n  // PhantomJS slice() replacement\n  return object.webkitSlice(0, size, type);\n}\n\n// most of this is borrowed from lodash.isPlainObject:\n// https://github.com/fis-components/lodash.isplainobject/\n// blob/29c358140a74f252aeb08c9eb28bef86f2217d4a/index.js\n\nvar funcToString = Function.prototype.toString;\nvar objectCtorString = funcToString.call(Object);\n\nfunction isPlainObject(value) {\n  var proto = Object.getPrototypeOf(value);\n  /* istanbul ignore if */\n  if (proto === null) { // not sure when this happens, but I guess it can\n    return true;\n  }\n  var Ctor = proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nfunction clone(object) {\n  var newObject;\n  var i;\n  var len;\n\n  if (!object || typeof object !== 'object') {\n    return object;\n  }\n\n  if (Array.isArray(object)) {\n    newObject = [];\n    for (i = 0, len = object.length; i < len; i++) {\n      newObject[i] = clone(object[i]);\n    }\n    return newObject;\n  }\n\n  // special case: to avoid inconsistencies between IndexedDB\n  // and other backends, we automatically stringify Dates\n  if (object instanceof Date) {\n    return object.toISOString();\n  }\n\n  if (isBinaryObject(object)) {\n    return cloneBinaryObject(object);\n  }\n\n  if (!isPlainObject(object)) {\n    return object; // don't clone objects like Workers\n  }\n\n  newObject = {};\n  for (i in object) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(object, i)) {\n      var value = clone(object[i]);\n      if (typeof value !== 'undefined') {\n        newObject[i] = value;\n      }\n    }\n  }\n  return newObject;\n}\n\nfunction once(fun) {\n  var called = false;\n  return getArguments(function (args) {\n    /* istanbul ignore if */\n    if (called) {\n      // this is a smoke test and should never actually happen\n      throw new Error('once called more than once');\n    } else {\n      called = true;\n      fun.apply(this, args);\n    }\n  });\n}\n\nfunction toPromise(func) {\n  //create the function we will be returning\n  return getArguments(function (args) {\n    // Clone arguments\n    args = clone(args);\n    var self = this;\n    // if the last argument is a function, assume its a callback\n    var usedCB = (typeof args[args.length - 1] === 'function') ? args.pop() : false;\n    var promise = new Promise(function (fulfill, reject) {\n      var resp;\n      try {\n        var callback = once(function (err, mesg) {\n          if (err) {\n            reject(err);\n          } else {\n            fulfill(mesg);\n          }\n        });\n        // create a callback for this invocation\n        // apply the function in the orig context\n        args.push(callback);\n        resp = func.apply(self, args);\n        if (resp && typeof resp.then === 'function') {\n          fulfill(resp);\n        }\n      } catch (e) {\n        reject(e);\n      }\n    });\n    // if there is a callback, call it back\n    if (usedCB) {\n      promise.then(function (result) {\n        usedCB(null, result);\n      }, usedCB);\n    }\n    return promise;\n  });\n}\n\nfunction logApiCall(self, name, args) {\n  /* istanbul ignore if */\n  if (self.constructor.listeners('debug').length) {\n    var logArgs = ['api', self.name, name];\n    for (var i = 0; i < args.length - 1; i++) {\n      logArgs.push(args[i]);\n    }\n    self.constructor.emit('debug', logArgs);\n\n    // override the callback itself to log the response\n    var origCallback = args[args.length - 1];\n    args[args.length - 1] = function (err, res) {\n      var responseArgs = ['api', self.name, name];\n      responseArgs = responseArgs.concat(\n        err ? ['error', err] : ['success', res]\n      );\n      self.constructor.emit('debug', responseArgs);\n      origCallback(err, res);\n    };\n  }\n}\n\nfunction adapterFun(name, callback) {\n  return toPromise(getArguments(function (args) {\n    if (this._closed) {\n      return Promise.reject(new Error('database is closed'));\n    }\n    if (this._destroyed) {\n      return Promise.reject(new Error('database is destroyed'));\n    }\n    var self = this;\n    logApiCall(self, name, args);\n    if (!this.taskqueue.isReady) {\n      return new Promise(function (fulfill, reject) {\n        self.taskqueue.addTask(function (failed) {\n          if (failed) {\n            reject(failed);\n          } else {\n            fulfill(self[name].apply(self, args));\n          }\n        });\n      });\n    }\n    return callback.apply(this, args);\n  }));\n}\n\n// like underscore/lodash _.pick()\nfunction pick(obj, arr) {\n  var res = {};\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var prop = arr[i];\n    if (prop in obj) {\n      res[prop] = obj[prop];\n    }\n  }\n  return res;\n}\n\n// Most browsers throttle concurrent requests at 6, so it's silly\n// to shim _bulk_get by trying to launch potentially hundreds of requests\n// and then letting the majority time out. We can handle this ourselves.\nvar MAX_NUM_CONCURRENT_REQUESTS = 6;\n\nfunction identityFunction(x) {\n  return x;\n}\n\nfunction formatResultForOpenRevsGet(result) {\n  return [{\n    ok: result\n  }];\n}\n\n// shim for P/CouchDB adapters that don't directly implement _bulk_get\nfunction bulkGet(db, opts, callback) {\n  var requests = opts.docs;\n\n  // consolidate into one request per doc if possible\n  var requestsById = new Map();\n  requests.forEach(function (request) {\n    if (requestsById.has(request.id)) {\n      requestsById.get(request.id).push(request);\n    } else {\n      requestsById.set(request.id, [request]);\n    }\n  });\n\n  var numDocs = requestsById.size;\n  var numDone = 0;\n  var perDocResults = new Array(numDocs);\n\n  function collapseResultsAndFinish() {\n    var results = [];\n    perDocResults.forEach(function (res) {\n      res.docs.forEach(function (info) {\n        results.push({\n          id: res.id,\n          docs: [info]\n        });\n      });\n    });\n    callback(null, {results: results});\n  }\n\n  function checkDone() {\n    if (++numDone === numDocs) {\n      collapseResultsAndFinish();\n    }\n  }\n\n  function gotResult(docIndex, id, docs) {\n    perDocResults[docIndex] = {id: id, docs: docs};\n    checkDone();\n  }\n\n  var allRequests = [];\n  requestsById.forEach(function (value, key) {\n    allRequests.push(key);\n  });\n\n  var i = 0;\n\n  function nextBatch() {\n\n    if (i >= allRequests.length) {\n      return;\n    }\n\n    var upTo = Math.min(i + MAX_NUM_CONCURRENT_REQUESTS, allRequests.length);\n    var batch = allRequests.slice(i, upTo);\n    processBatch(batch, i);\n    i += batch.length;\n  }\n\n  function processBatch(batch, offset) {\n    batch.forEach(function (docId, j) {\n      var docIdx = offset + j;\n      var docRequests = requestsById.get(docId);\n\n      // just use the first request as the \"template\"\n      // TODO: The _bulk_get API allows for more subtle use cases than this,\n      // but for now it is unlikely that there will be a mix of different\n      // \"atts_since\" or \"attachments\" in the same request, since it's just\n      // replicate.js that is using this for the moment.\n      // Also, atts_since is aspirational, since we don't support it yet.\n      var docOpts = pick(docRequests[0], ['atts_since', 'attachments']);\n      docOpts.open_revs = docRequests.map(function (request) {\n        // rev is optional, open_revs disallowed\n        return request.rev;\n      });\n\n      // remove falsey / undefined revisions\n      docOpts.open_revs = docOpts.open_revs.filter(identityFunction);\n\n      var formatResult = identityFunction;\n\n      if (docOpts.open_revs.length === 0) {\n        delete docOpts.open_revs;\n\n        // when fetching only the \"winning\" leaf,\n        // transform the result so it looks like an open_revs\n        // request\n        formatResult = formatResultForOpenRevsGet;\n      }\n\n      // globally-supplied options\n      ['revs', 'attachments', 'binary', 'ajax', 'latest'].forEach(function (param) {\n        if (param in opts) {\n          docOpts[param] = opts[param];\n        }\n      });\n      db.get(docId, docOpts, function (err, res) {\n        var result;\n        /* istanbul ignore if */\n        if (err) {\n          result = [{error: err}];\n        } else {\n          result = formatResult(res);\n        }\n        gotResult(docIdx, docId, result);\n        nextBatch();\n      });\n    });\n  }\n\n  nextBatch();\n\n}\n\nfunction isChromeApp() {\n  return (typeof chrome !== \"undefined\" &&\n    typeof chrome.storage !== \"undefined\" &&\n    typeof chrome.storage.local !== \"undefined\");\n}\n\nvar hasLocal;\n\nif (isChromeApp()) {\n  hasLocal = false;\n} else {\n  try {\n    localStorage.setItem('_pouch_check_localstorage', 1);\n    hasLocal = !!localStorage.getItem('_pouch_check_localstorage');\n  } catch (e) {\n    hasLocal = false;\n  }\n}\n\nfunction hasLocalStorage() {\n  return hasLocal;\n}\n\n// Custom nextTick() shim for browsers. In node, this will just be process.nextTick(). We\n// avoid using process.nextTick() directly because the polyfill is very large and we don't\n// need all of it (see: https://github.com/defunctzombie/node-process).\n// \"immediate\" 3.0.8 is used by lie, and it's a smaller version of the latest \"immediate\"\n// package, so it's the one we use.\n// When we use nextTick() in our codebase, we only care about not releasing Zalgo\n// (see: http://blog.izs.me/post/59142742143/designing-apis-for-asynchrony).\n// Microtask vs macrotask doesn't matter to us. So we're free to use the fastest\n// (least latency) option, which is \"immediate\" due to use of microtasks.\n// All of our nextTicks are isolated to this one function so we can easily swap out one\n// implementation for another.\n\ninherits(Changes, EventEmitter);\n\n/* istanbul ignore next */\nfunction attachBrowserEvents(self) {\n  if (isChromeApp()) {\n    chrome.storage.onChanged.addListener(function (e) {\n      // make sure it's event addressed to us\n      if (e.db_name != null) {\n        //object only has oldValue, newValue members\n        self.emit(e.dbName.newValue);\n      }\n    });\n  } else if (hasLocalStorage()) {\n    if (typeof addEventListener !== 'undefined') {\n      addEventListener(\"storage\", function (e) {\n        self.emit(e.key);\n      });\n    } else { // old IE\n      window.attachEvent(\"storage\", function (e) {\n        self.emit(e.key);\n      });\n    }\n  }\n}\n\nfunction Changes() {\n  EventEmitter.call(this);\n  this._listeners = {};\n\n  attachBrowserEvents(this);\n}\nChanges.prototype.addListener = function (dbName, id, db, opts) {\n  /* istanbul ignore if */\n  if (this._listeners[id]) {\n    return;\n  }\n  var self = this;\n  var inprogress = false;\n  function eventFunction() {\n    /* istanbul ignore if */\n    if (!self._listeners[id]) {\n      return;\n    }\n    if (inprogress) {\n      inprogress = 'waiting';\n      return;\n    }\n    inprogress = true;\n    var changesOpts = pick(opts, [\n      'style', 'include_docs', 'attachments', 'conflicts', 'filter',\n      'doc_ids', 'view', 'since', 'query_params', 'binary'\n    ]);\n\n    /* istanbul ignore next */\n    function onError() {\n      inprogress = false;\n    }\n\n    db.changes(changesOpts).on('change', function (c) {\n      if (c.seq > opts.since && !opts.cancelled) {\n        opts.since = c.seq;\n        opts.onChange(c);\n      }\n    }).on('complete', function () {\n      if (inprogress === 'waiting') {\n        immediate(eventFunction);\n      }\n      inprogress = false;\n    }).on('error', onError);\n  }\n  this._listeners[id] = eventFunction;\n  this.on(dbName, eventFunction);\n};\n\nChanges.prototype.removeListener = function (dbName, id) {\n  /* istanbul ignore if */\n  if (!(id in this._listeners)) {\n    return;\n  }\n  EventEmitter.prototype.removeListener.call(this, dbName,\n    this._listeners[id]);\n  delete this._listeners[id];\n};\n\n\n/* istanbul ignore next */\nChanges.prototype.notifyLocalWindows = function (dbName) {\n  //do a useless change on a storage thing\n  //in order to get other windows's listeners to activate\n  if (isChromeApp()) {\n    chrome.storage.local.set({dbName: dbName});\n  } else if (hasLocalStorage()) {\n    localStorage[dbName] = (localStorage[dbName] === \"a\") ? \"b\" : \"a\";\n  }\n};\n\nChanges.prototype.notify = function (dbName) {\n  this.emit(dbName);\n  this.notifyLocalWindows(dbName);\n};\n\nfunction guardedConsole(method) {\n  /* istanbul ignore else */\n  if (console !== 'undefined' && method in console) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    console[method].apply(console, args);\n  }\n}\n\nfunction randomNumber(min, max) {\n  var maxTimeout = 600000; // Hard-coded default of 10 minutes\n  min = parseInt(min, 10) || 0;\n  max = parseInt(max, 10);\n  if (max !== max || max <= min) {\n    max = (min || 1) << 1; //doubling\n  } else {\n    max = max + 1;\n  }\n  // In order to not exceed maxTimeout, pick a random value between half of maxTimeout and maxTimeout\n  if (max > maxTimeout) {\n    min = maxTimeout >> 1; // divide by two\n    max = maxTimeout;\n  }\n  var ratio = Math.random();\n  var range = max - min;\n\n  return ~~(range * ratio + min); // ~~ coerces to an int, but fast.\n}\n\nfunction defaultBackOff(min) {\n  var max = 0;\n  if (!min) {\n    max = 2000;\n  }\n  return randomNumber(min, max);\n}\n\n// designed to give info to browser users, who are disturbed\n// when they see http errors in the console\nfunction explainError(status, str) {\n  guardedConsole('info', 'The above ' + status + ' is totally normal. ' + str);\n}\n\nvar assign;\n{\n  if (typeof Object.assign === 'function') {\n    assign = Object.assign;\n  } else {\n    // lite Object.assign polyfill based on\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n    assign = function (target) {\n      var to = Object(target);\n\n      for (var index = 1; index < arguments.length; index++) {\n        var nextSource = arguments[index];\n\n        if (nextSource != null) { // Skip over if undefined or null\n          for (var nextKey in nextSource) {\n            // Avoid bugs when hasOwnProperty is shadowed\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n              to[nextKey] = nextSource[nextKey];\n            }\n          }\n        }\n      }\n      return to;\n    };\n  }\n}\n\nvar assign$1 = assign;\n\nfunction tryFilter(filter, doc, req) {\n  try {\n    return !filter(doc, req);\n  } catch (err) {\n    var msg = 'Filter function threw: ' + err.toString();\n    return createError(BAD_REQUEST, msg);\n  }\n}\n\nfunction filterChange(opts) {\n  var req = {};\n  var hasFilter = opts.filter && typeof opts.filter === 'function';\n  req.query = opts.query_params;\n\n  return function filter(change) {\n    if (!change.doc) {\n      // CSG sends events on the changes feed that don't have documents,\n      // this hack makes a whole lot of existing code robust.\n      change.doc = {};\n    }\n\n    var filterReturn = hasFilter && tryFilter(opts.filter, change.doc, req);\n\n    if (typeof filterReturn === 'object') {\n      return filterReturn;\n    }\n\n    if (filterReturn) {\n      return false;\n    }\n\n    if (!opts.include_docs) {\n      delete change.doc;\n    } else if (!opts.attachments) {\n      for (var att in change.doc._attachments) {\n        /* istanbul ignore else */\n        if (change.doc._attachments.hasOwnProperty(att)) {\n          change.doc._attachments[att].stub = true;\n        }\n      }\n    }\n    return true;\n  };\n}\n\nfunction flatten(arrs) {\n  var res = [];\n  for (var i = 0, len = arrs.length; i < len; i++) {\n    res = res.concat(arrs[i]);\n  }\n  return res;\n}\n\n// shim for Function.prototype.name,\n// for browsers that don't support it like IE\n\n/* istanbul ignore next */\nfunction f() {}\n\nvar hasName = f.name;\nvar res;\n\n// We dont run coverage in IE\n/* istanbul ignore else */\nif (hasName) {\n  res = function (fun) {\n    return fun.name;\n  };\n} else {\n  res = function (fun) {\n    return fun.toString().match(/^\\s*function\\s*(\\S*)\\s*\\(/)[1];\n  };\n}\n\nvar res$1 = res;\n\n// Determine id an ID is valid\n//   - invalid IDs begin with an underescore that does not begin '_design' or\n//     '_local'\n//   - any other string value is a valid id\n// Returns the specific error object for each case\nfunction invalidIdError(id) {\n  var err;\n  if (!id) {\n    err = createError(MISSING_ID);\n  } else if (typeof id !== 'string') {\n    err = createError(INVALID_ID);\n  } else if (/^_/.test(id) && !(/^_(design|local)/).test(id)) {\n    err = createError(RESERVED_ID);\n  }\n  if (err) {\n    throw err;\n  }\n}\n\nfunction isCordova() {\n  return (typeof cordova !== \"undefined\" ||\n  typeof PhoneGap !== \"undefined\" ||\n  typeof phonegap !== \"undefined\");\n}\n\n// Checks if a PouchDB object is \"remote\" or not. This is\n// designed to opt-in to certain optimizations, such as\n// avoiding checks for \"dependentDbs\" and other things that\n// we know only apply to local databases. In general, \"remote\"\n// should be true for the http adapter, and for third-party\n// adapters with similar expensive boundaries to cross for\n// every API call, such as socket-pouch and worker-pouch.\n// Previously, this was handled via db.type() === 'http'\n// which is now deprecated.\n\nfunction isRemote(db) {\n  if (typeof db._remote === 'boolean') {\n    return db._remote;\n  }\n  /* istanbul ignore next */\n  if (typeof db.type === 'function') {\n    guardedConsole('warn',\n      'db.type() is deprecated and will be removed in ' +\n      'a future version of PouchDB');\n    return db.type() === 'http';\n  }\n  /* istanbul ignore next */\n  return false;\n}\n\nfunction listenerCount(ee, type) {\n  return 'listenerCount' in ee ? ee.listenerCount(type) :\n                                 EventEmitter.listenerCount(ee, type);\n}\n\nfunction parseDesignDocFunctionName(s) {\n  if (!s) {\n    return null;\n  }\n  var parts = s.split('/');\n  if (parts.length === 2) {\n    return parts;\n  }\n  if (parts.length === 1) {\n    return [s, s];\n  }\n  return null;\n}\n\nfunction normalizeDesignDocFunctionName(s) {\n  var normalized = parseDesignDocFunctionName(s);\n  return normalized ? normalized.join('/') : null;\n}\n\n// originally parseUri 1.2.2, now patched by us\n// (c) Steven Levithan <stevenlevithan.com>\n// MIT License\nvar keys = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\",\n    \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\nvar qName =\"queryKey\";\nvar qParser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n\n// use the \"loose\" parser\n/* eslint maxlen: 0, no-useless-escape: 0 */\nvar parser = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nfunction parseUri(str) {\n  var m = parser.exec(str);\n  var uri = {};\n  var i = 14;\n\n  while (i--) {\n    var key = keys[i];\n    var value = m[i] || \"\";\n    var encoded = ['user', 'password'].indexOf(key) !== -1;\n    uri[key] = encoded ? decodeURIComponent(value) : value;\n  }\n\n  uri[qName] = {};\n  uri[keys[12]].replace(qParser, function ($0, $1, $2) {\n    if ($1) {\n      uri[qName][$1] = $2;\n    }\n  });\n\n  return uri;\n}\n\n// Based on https://github.com/alexdavid/scope-eval v0.0.3\n// (source: https://unpkg.com/scope-eval@0.0.3/scope_eval.js)\n// This is basically just a wrapper around new Function()\n\nfunction scopeEval(source, scope) {\n  var keys = [];\n  var values = [];\n  for (var key in scope) {\n    if (scope.hasOwnProperty(key)) {\n      keys.push(key);\n      values.push(scope[key]);\n    }\n  }\n  keys.push(source);\n  return Function.apply(null, keys).apply(null, values);\n}\n\n// this is essentially the \"update sugar\" function from daleharvey/pouchdb#1388\n// the diffFun tells us what delta to apply to the doc.  it either returns\n// the doc, or false if it doesn't need to do an update after all\nfunction upsert(db, docId, diffFun) {\n  return new Promise(function (fulfill, reject) {\n    db.get(docId, function (err, doc) {\n      if (err) {\n        /* istanbul ignore next */\n        if (err.status !== 404) {\n          return reject(err);\n        }\n        doc = {};\n      }\n\n      // the user might change the _rev, so save it for posterity\n      var docRev = doc._rev;\n      var newDoc = diffFun(doc);\n\n      if (!newDoc) {\n        // if the diffFun returns falsy, we short-circuit as\n        // an optimization\n        return fulfill({updated: false, rev: docRev});\n      }\n\n      // users aren't allowed to modify these values,\n      // so reset them here\n      newDoc._id = docId;\n      newDoc._rev = docRev;\n      fulfill(tryAndPut(db, newDoc, diffFun));\n    });\n  });\n}\n\nfunction tryAndPut(db, doc, diffFun) {\n  return db.put(doc).then(function (res) {\n    return {\n      updated: true,\n      rev: res.rev\n    };\n  }, function (err) {\n    /* istanbul ignore next */\n    if (err.status !== 409) {\n      throw err;\n    }\n    return upsert(db, doc._id, diffFun);\n  });\n}\n\nfunction rev() {\n  return uuidV4.v4().replace(/-/g, '').toLowerCase();\n}\n\nvar uuid = uuidV4.v4;\n\nexport { adapterFun, assign$1 as assign, bulkGet as bulkGetShim, Changes as changesHandler, clone, defaultBackOff, explainError, filterChange, flatten, res$1 as functionName, guardedConsole, hasLocalStorage, invalidIdError, isChromeApp, isCordova, isRemote, listenerCount, immediate as nextTick, normalizeDesignDocFunctionName as normalizeDdocFunctionName, once, parseDesignDocFunctionName as parseDdocFunctionName, parseUri, pick, rev, scopeEval, toPromise, upsert, uuid };\n","// We fetch all leafs of the revision tree, and sort them based on tree length\n// and whether they were deleted, undeleted documents with the longest revision\n// tree (most edits) win\n// The final sort algorithm is slightly documented in a sidebar here:\n// http://guide.couchdb.org/draft/conflicts.html\nfunction winningRev(metadata) {\n  var winningId;\n  var winningPos;\n  var winningDeleted;\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var tree = node.ids;\n    var branches = tree[2];\n    var pos = node.pos;\n    if (branches.length) { // non-leaf\n      for (var i = 0, len = branches.length; i < len; i++) {\n        toVisit.push({pos: pos + 1, ids: branches[i]});\n      }\n      continue;\n    }\n    var deleted = !!tree[1].deleted;\n    var id = tree[0];\n    // sort by deleted, then pos, then id\n    if (!winningId || (winningDeleted !== deleted ? winningDeleted :\n        winningPos !== pos ? winningPos < pos : winningId < id)) {\n      winningId = id;\n      winningPos = pos;\n      winningDeleted = deleted;\n    }\n  }\n\n  return winningPos + '-' + winningId;\n}\n\n// Pretty much all below can be combined into a higher order function to\n// traverse revisions\n// The return value from the callback will be passed as context to all\n// children of that node\nfunction traverseRevTree(revs, callback) {\n  var toVisit = revs.slice();\n\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var branches = tree[2];\n    var newCtx =\n      callback(branches.length === 0, pos, tree[0], node.ctx, tree[1]);\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], ctx: newCtx});\n    }\n  }\n}\n\nfunction sortByPos(a, b) {\n  return a.pos - b.pos;\n}\n\nfunction collectLeaves(revs) {\n  var leaves = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, acc, opts) {\n    if (isLeaf) {\n      leaves.push({rev: pos + \"-\" + id, pos: pos, opts: opts});\n    }\n  });\n  leaves.sort(sortByPos).reverse();\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    delete leaves[i].pos;\n  }\n  return leaves;\n}\n\n// returns revs of all conflicts that is leaves such that\n// 1. are not deleted and\n// 2. are different than winning revision\nfunction collectConflicts(metadata) {\n  var win = winningRev(metadata);\n  var leaves = collectLeaves(metadata.rev_tree);\n  var conflicts = [];\n  for (var i = 0, len = leaves.length; i < len; i++) {\n    var leaf = leaves[i];\n    if (leaf.rev !== win && !leaf.opts.deleted) {\n      conflicts.push(leaf.rev);\n    }\n  }\n  return conflicts;\n}\n\n// compact a tree by marking its non-leafs as missing,\n// and return a list of revs to delete\nfunction compactTree(metadata) {\n  var revs = [];\n  traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                               revHash, ctx, opts) {\n    if (opts.status === 'available' && !isLeaf) {\n      revs.push(pos + '-' + revHash);\n      opts.status = 'missing';\n    }\n  });\n  return revs;\n}\n\n// build up a list of all the paths to the leafs in this revision tree\nfunction rootToLeaf(revs) {\n  var paths = [];\n  var toVisit = revs.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, opts: opts});\n    if (isLeaf) {\n      paths.push({pos: (pos + 1 - history.length), ids: history});\n    }\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: pos + 1, ids: branches[i], history: history});\n    }\n  }\n  return paths.reverse();\n}\n\n// for a better overview of what this is doing, read:\n// https://github.com/apache/couchdb-couch/blob/master/src/couch_key_tree.erl\n//\n// But for a quick intro, CouchDB uses a revision tree to store a documents\n// history, A -> B -> C, when a document has conflicts, that is a branch in the\n// tree, A -> (B1 | B2 -> C), We store these as a nested array in the format\n//\n// KeyTree = [Path ... ]\n// Path = {pos: position_from_root, ids: Tree}\n// Tree = [Key, Opts, [Tree, ...]], in particular single node: [Key, []]\n\nfunction sortByPos$1(a, b) {\n  return a.pos - b.pos;\n}\n\n// classic binary search\nfunction binarySearch(arr, item, comparator) {\n  var low = 0;\n  var high = arr.length;\n  var mid;\n  while (low < high) {\n    mid = (low + high) >>> 1;\n    if (comparator(arr[mid], item) < 0) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return low;\n}\n\n// assuming the arr is sorted, insert the item in the proper place\nfunction insertSorted(arr, item, comparator) {\n  var idx = binarySearch(arr, item, comparator);\n  arr.splice(idx, 0, item);\n}\n\n// Turn a path as a flat array into a tree with a single branch.\n// If any should be stemmed from the beginning of the array, that's passed\n// in as the second argument\nfunction pathToTree(path, numStemmed) {\n  var root;\n  var leaf;\n  for (var i = numStemmed, len = path.length; i < len; i++) {\n    var node = path[i];\n    var currentLeaf = [node.id, node.opts, []];\n    if (leaf) {\n      leaf[2].push(currentLeaf);\n      leaf = currentLeaf;\n    } else {\n      root = leaf = currentLeaf;\n    }\n  }\n  return root;\n}\n\n// compare the IDs of two trees\nfunction compareTree(a, b) {\n  return a[0] < b[0] ? -1 : 1;\n}\n\n// Merge two trees together\n// The roots of tree1 and tree2 must be the same revision\nfunction mergeTree(in_tree1, in_tree2) {\n  var queue = [{tree1: in_tree1, tree2: in_tree2}];\n  var conflicts = false;\n  while (queue.length > 0) {\n    var item = queue.pop();\n    var tree1 = item.tree1;\n    var tree2 = item.tree2;\n\n    if (tree1[1].status || tree2[1].status) {\n      tree1[1].status =\n        (tree1[1].status ===  'available' ||\n        tree2[1].status === 'available') ? 'available' : 'missing';\n    }\n\n    for (var i = 0; i < tree2[2].length; i++) {\n      if (!tree1[2][0]) {\n        conflicts = 'new_leaf';\n        tree1[2][0] = tree2[2][i];\n        continue;\n      }\n\n      var merged = false;\n      for (var j = 0; j < tree1[2].length; j++) {\n        if (tree1[2][j][0] === tree2[2][i][0]) {\n          queue.push({tree1: tree1[2][j], tree2: tree2[2][i]});\n          merged = true;\n        }\n      }\n      if (!merged) {\n        conflicts = 'new_branch';\n        insertSorted(tree1[2], tree2[2][i], compareTree);\n      }\n    }\n  }\n  return {conflicts: conflicts, tree: in_tree1};\n}\n\nfunction doMerge(tree, path, dontExpand) {\n  var restree = [];\n  var conflicts = false;\n  var merged = false;\n  var res;\n\n  if (!tree.length) {\n    return {tree: [path], conflicts: 'new_leaf'};\n  }\n\n  for (var i = 0, len = tree.length; i < len; i++) {\n    var branch = tree[i];\n    if (branch.pos === path.pos && branch.ids[0] === path.ids[0]) {\n      // Paths start at the same position and have the same root, so they need\n      // merged\n      res = mergeTree(branch.ids, path.ids);\n      restree.push({pos: branch.pos, ids: res.tree});\n      conflicts = conflicts || res.conflicts;\n      merged = true;\n    } else if (dontExpand !== true) {\n      // The paths start at a different position, take the earliest path and\n      // traverse up until it as at the same point from root as the path we\n      // want to merge.  If the keys match we return the longer path with the\n      // other merged After stemming we dont want to expand the trees\n\n      var t1 = branch.pos < path.pos ? branch : path;\n      var t2 = branch.pos < path.pos ? path : branch;\n      var diff = t2.pos - t1.pos;\n\n      var candidateParents = [];\n\n      var trees = [];\n      trees.push({ids: t1.ids, diff: diff, parent: null, parentIdx: null});\n      while (trees.length > 0) {\n        var item = trees.pop();\n        if (item.diff === 0) {\n          if (item.ids[0] === t2.ids[0]) {\n            candidateParents.push(item);\n          }\n          continue;\n        }\n        var elements = item.ids[2];\n        for (var j = 0, elementsLen = elements.length; j < elementsLen; j++) {\n          trees.push({\n            ids: elements[j],\n            diff: item.diff - 1,\n            parent: item.ids,\n            parentIdx: j\n          });\n        }\n      }\n\n      var el = candidateParents[0];\n\n      if (!el) {\n        restree.push(branch);\n      } else {\n        res = mergeTree(el.ids, t2.ids);\n        el.parent[2][el.parentIdx] = res.tree;\n        restree.push({pos: t1.pos, ids: t1.ids});\n        conflicts = conflicts || res.conflicts;\n        merged = true;\n      }\n    } else {\n      restree.push(branch);\n    }\n  }\n\n  // We didnt find\n  if (!merged) {\n    restree.push(path);\n  }\n\n  restree.sort(sortByPos$1);\n\n  return {\n    tree: restree,\n    conflicts: conflicts || 'internal_node'\n  };\n}\n\n// To ensure we dont grow the revision tree infinitely, we stem old revisions\nfunction stem(tree, depth) {\n  // First we break out the tree into a complete list of root to leaf paths\n  var paths = rootToLeaf(tree);\n  var stemmedRevs;\n\n  var result;\n  for (var i = 0, len = paths.length; i < len; i++) {\n    // Then for each path, we cut off the start of the path based on the\n    // `depth` to stem to, and generate a new set of flat trees\n    var path = paths[i];\n    var stemmed = path.ids;\n    var node;\n    if (stemmed.length > depth) {\n      // only do the stemming work if we actually need to stem\n      if (!stemmedRevs) {\n        stemmedRevs = {}; // avoid allocating this object unnecessarily\n      }\n      var numStemmed = stemmed.length - depth;\n      node = {\n        pos: path.pos + numStemmed,\n        ids: pathToTree(stemmed, numStemmed)\n      };\n\n      for (var s = 0; s < numStemmed; s++) {\n        var rev = (path.pos + s) + '-' + stemmed[s].id;\n        stemmedRevs[rev] = true;\n      }\n    } else { // no need to actually stem\n      node = {\n        pos: path.pos,\n        ids: pathToTree(stemmed, 0)\n      };\n    }\n\n    // Then we remerge all those flat trees together, ensuring that we dont\n    // connect trees that would go beyond the depth limit\n    if (result) {\n      result = doMerge(result, node, true).tree;\n    } else {\n      result = [node];\n    }\n  }\n\n  // this is memory-heavy per Chrome profiler, avoid unless we actually stemmed\n  if (stemmedRevs) {\n    traverseRevTree(result, function (isLeaf, pos, revHash) {\n      // some revisions may have been removed in a branch but not in another\n      delete stemmedRevs[pos + '-' + revHash];\n    });\n  }\n\n  return {\n    tree: result,\n    revs: stemmedRevs ? Object.keys(stemmedRevs) : []\n  };\n}\n\nfunction merge(tree, path, depth) {\n  var newTree = doMerge(tree, path);\n  var stemmed = stem(newTree.tree, depth);\n  return {\n    tree: stemmed.tree,\n    stemmedRevs: stemmed.revs,\n    conflicts: newTree.conflicts\n  };\n}\n\n// return true if a rev exists in the rev tree, false otherwise\nfunction revExists(revs, rev) {\n  var toVisit = revs.slice();\n  var splitRev = rev.split('-');\n  var targetPos = parseInt(splitRev[0], 10);\n  var targetId = splitRev[1];\n\n  var node;\n  while ((node = toVisit.pop())) {\n    if (node.pos === targetPos && node.ids[0] === targetId) {\n      return true;\n    }\n    var branches = node.ids[2];\n    for (var i = 0, len = branches.length; i < len; i++) {\n      toVisit.push({pos: node.pos + 1, ids: branches[i]});\n    }\n  }\n  return false;\n}\n\nfunction getTrees(node) {\n  return node.ids;\n}\n\n// check if a specific revision of a doc has been deleted\n//  - metadata: the metadata object from the doc store\n//  - rev: (optional) the revision to check. defaults to winning revision\nfunction isDeleted(metadata, rev) {\n  if (!rev) {\n    rev = winningRev(metadata);\n  }\n  var id = rev.substring(rev.indexOf('-') + 1);\n  var toVisit = metadata.rev_tree.map(getTrees);\n\n  var tree;\n  while ((tree = toVisit.pop())) {\n    if (tree[0] === id) {\n      return !!tree[1].deleted;\n    }\n    toVisit = toVisit.concat(tree[2]);\n  }\n}\n\nfunction isLocalId(id) {\n  return (/^_local/).test(id);\n}\n\n// returns the current leaf node for a given revision\nfunction latest(rev, metadata) {\n  var toVisit = metadata.rev_tree.slice();\n  var node;\n  while ((node = toVisit.pop())) {\n    var pos = node.pos;\n    var tree = node.ids;\n    var id = tree[0];\n    var opts = tree[1];\n    var branches = tree[2];\n    var isLeaf = branches.length === 0;\n\n    var history = node.history ? node.history.slice() : [];\n    history.push({id: id, pos: pos, opts: opts});\n\n    if (isLeaf) {\n      for (var i = 0, len = history.length; i < len; i++) {\n        var historyNode = history[i];\n        var historyRev = historyNode.pos + '-' + historyNode.id;\n\n        if (historyRev === rev) {\n          // return the rev of this leaf\n          return pos + '-' + id;\n        }\n      }\n    }\n\n    for (var j = 0, l = branches.length; j < l; j++) {\n      toVisit.push({pos: pos + 1, ids: branches[j], history: history});\n    }\n  }\n\n  /* istanbul ignore next */\n  throw new Error('Unable to resolve latest revision for id ' + metadata.id + ', rev ' + rev);\n}\n\nexport { collectConflicts, collectLeaves, compactTree, isDeleted, isLocalId, merge, revExists, rootToLeaf, traverseRevTree, winningRev, latest };\n","/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window && typeof window.process !== 'undefined' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document && 'WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window && window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","import debug from 'debug';\n\nfunction debugPouch(PouchDB) {\n  PouchDB.debug = debug;\n  var logs = {};\n  /* istanbul ignore next */\n  PouchDB.on('debug', function (args) {\n    // first argument is log identifier\n    var logId = args[0];\n    // rest should be passed verbatim to debug module\n    var logArgs = args.slice(1);\n    if (!logs[logId]) {\n      logs[logId] = debug('pouchdb:' + logId);\n    }\n    logs[logId].apply(null, logArgs);\n  });\n}\n\nexport default debugPouch;\n","function pad(str, padWith, upToLength) {\n  var padding = '';\n  var targetLength = upToLength - str.length;\n  /* istanbul ignore next */\n  while (padding.length < targetLength) {\n    padding += padWith;\n  }\n  return padding;\n}\n\nfunction padLeft(str, padWith, upToLength) {\n  var padding = pad(str, padWith, upToLength);\n  return padding + str;\n}\n\nvar MIN_MAGNITUDE = -324; // verified by -Number.MIN_VALUE\nvar MAGNITUDE_DIGITS = 3; // ditto\nvar SEP = ''; // set to '_' for easier debugging \n\nfunction collate(a, b) {\n\n  if (a === b) {\n    return 0;\n  }\n\n  a = normalizeKey(a);\n  b = normalizeKey(b);\n\n  var ai = collationIndex(a);\n  var bi = collationIndex(b);\n  if ((ai - bi) !== 0) {\n    return ai - bi;\n  }\n  switch (typeof a) {\n    case 'number':\n      return a - b;\n    case 'boolean':\n      return a < b ? -1 : 1;\n    case 'string':\n      return stringCollate(a, b);\n  }\n  return Array.isArray(a) ? arrayCollate(a, b) : objectCollate(a, b);\n}\n\n// couch considers null/NaN/Infinity/-Infinity === undefined,\n// for the purposes of mapreduce indexes. also, dates get stringified.\nfunction normalizeKey(key) {\n  switch (typeof key) {\n    case 'undefined':\n      return null;\n    case 'number':\n      if (key === Infinity || key === -Infinity || isNaN(key)) {\n        return null;\n      }\n      return key;\n    case 'object':\n      var origKey = key;\n      if (Array.isArray(key)) {\n        var len = key.length;\n        key = new Array(len);\n        for (var i = 0; i < len; i++) {\n          key[i] = normalizeKey(origKey[i]);\n        }\n      /* istanbul ignore next */\n      } else if (key instanceof Date) {\n        return key.toJSON();\n      } else if (key !== null) { // generic object\n        key = {};\n        for (var k in origKey) {\n          if (origKey.hasOwnProperty(k)) {\n            var val = origKey[k];\n            if (typeof val !== 'undefined') {\n              key[k] = normalizeKey(val);\n            }\n          }\n        }\n      }\n  }\n  return key;\n}\n\nfunction indexify(key) {\n  if (key !== null) {\n    switch (typeof key) {\n      case 'boolean':\n        return key ? 1 : 0;\n      case 'number':\n        return numToIndexableString(key);\n      case 'string':\n        // We've to be sure that key does not contain \\u0000\n        // Do order-preserving replacements:\n        // 0 -> 1, 1\n        // 1 -> 1, 2\n        // 2 -> 2, 2\n        return key\n          .replace(/\\u0002/g, '\\u0002\\u0002')\n          .replace(/\\u0001/g, '\\u0001\\u0002')\n          .replace(/\\u0000/g, '\\u0001\\u0001');\n      case 'object':\n        var isArray = Array.isArray(key);\n        var arr = isArray ? key : Object.keys(key);\n        var i = -1;\n        var len = arr.length;\n        var result = '';\n        if (isArray) {\n          while (++i < len) {\n            result += toIndexableString(arr[i]);\n          }\n        } else {\n          while (++i < len) {\n            var objKey = arr[i];\n            result += toIndexableString(objKey) +\n                toIndexableString(key[objKey]);\n          }\n        }\n        return result;\n    }\n  }\n  return '';\n}\n\n// convert the given key to a string that would be appropriate\n// for lexical sorting, e.g. within a database, where the\n// sorting is the same given by the collate() function.\nfunction toIndexableString(key) {\n  var zero = '\\u0000';\n  key = normalizeKey(key);\n  return collationIndex(key) + SEP + indexify(key) + zero;\n}\n\nfunction parseNumber(str, i) {\n  var originalIdx = i;\n  var num;\n  var zero = str[i] === '1';\n  if (zero) {\n    num = 0;\n    i++;\n  } else {\n    var neg = str[i] === '0';\n    i++;\n    var numAsString = '';\n    var magAsString = str.substring(i, i + MAGNITUDE_DIGITS);\n    var magnitude = parseInt(magAsString, 10) + MIN_MAGNITUDE;\n    /* istanbul ignore next */\n    if (neg) {\n      magnitude = -magnitude;\n    }\n    i += MAGNITUDE_DIGITS;\n    while (true) {\n      var ch = str[i];\n      if (ch === '\\u0000') {\n        break;\n      } else {\n        numAsString += ch;\n      }\n      i++;\n    }\n    numAsString = numAsString.split('.');\n    if (numAsString.length === 1) {\n      num = parseInt(numAsString, 10);\n    } else {\n      /* istanbul ignore next */\n      num = parseFloat(numAsString[0] + '.' + numAsString[1]);\n    }\n    /* istanbul ignore next */\n    if (neg) {\n      num = num - 10;\n    }\n    /* istanbul ignore next */\n    if (magnitude !== 0) {\n      // parseFloat is more reliable than pow due to rounding errors\n      // e.g. Number.MAX_VALUE would return Infinity if we did\n      // num * Math.pow(10, magnitude);\n      num = parseFloat(num + 'e' + magnitude);\n    }\n  }\n  return {num: num, length : i - originalIdx};\n}\n\n// move up the stack while parsing\n// this function moved outside of parseIndexableString for performance\nfunction pop(stack, metaStack) {\n  var obj = stack.pop();\n\n  if (metaStack.length) {\n    var lastMetaElement = metaStack[metaStack.length - 1];\n    if (obj === lastMetaElement.element) {\n      // popping a meta-element, e.g. an object whose value is another object\n      metaStack.pop();\n      lastMetaElement = metaStack[metaStack.length - 1];\n    }\n    var element = lastMetaElement.element;\n    var lastElementIndex = lastMetaElement.index;\n    if (Array.isArray(element)) {\n      element.push(obj);\n    } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n      var key = stack.pop();\n      element[key] = obj;\n    } else {\n      stack.push(obj); // obj with key only\n    }\n  }\n}\n\nfunction parseIndexableString(str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n\n  /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n  while (true) {\n    var collationIndex = str[i++];\n    if (collationIndex === '\\u0000') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case '1':\n        stack.push(null);\n        break;\n      case '2':\n        stack.push(str[i] === '1');\n        i++;\n        break;\n      case '3':\n        var parsedNum = parseNumber(str, i);\n        stack.push(parsedNum.num);\n        i += parsedNum.length;\n        break;\n      case '4':\n        var parsedStr = '';\n        /*eslint no-constant-condition: [\"error\", { \"checkLoops\": false }]*/\n        while (true) {\n          var ch = str[i];\n          if (ch === '\\u0000') {\n            break;\n          }\n          parsedStr += ch;\n          i++;\n        }\n        // perform the reverse of the order-preserving replacement\n        // algorithm (see above)\n        parsedStr = parsedStr.replace(/\\u0001\\u0001/g, '\\u0000')\n          .replace(/\\u0001\\u0002/g, '\\u0001')\n          .replace(/\\u0002\\u0002/g, '\\u0002');\n        stack.push(parsedStr);\n        break;\n      case '5':\n        var arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '6':\n        var objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      /* istanbul ignore next */\n      default:\n        throw new Error(\n          'bad collationIndex or unexpectedly reached end of input: ' +\n            collationIndex);\n    }\n  }\n}\n\nfunction arrayCollate(a, b) {\n  var len = Math.min(a.length, b.length);\n  for (var i = 0; i < len; i++) {\n    var sort = collate(a[i], b[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n  }\n  return (a.length === b.length) ? 0 :\n    (a.length > b.length) ? 1 : -1;\n}\nfunction stringCollate(a, b) {\n  // See: https://github.com/daleharvey/pouchdb/issues/40\n  // This is incompatible with the CouchDB implementation, but its the\n  // best we can do for now\n  return (a === b) ? 0 : ((a > b) ? 1 : -1);\n}\nfunction objectCollate(a, b) {\n  var ak = Object.keys(a), bk = Object.keys(b);\n  var len = Math.min(ak.length, bk.length);\n  for (var i = 0; i < len; i++) {\n    // First sort the keys\n    var sort = collate(ak[i], bk[i]);\n    if (sort !== 0) {\n      return sort;\n    }\n    // if the keys are equal sort the values\n    sort = collate(a[ak[i]], b[bk[i]]);\n    if (sort !== 0) {\n      return sort;\n    }\n\n  }\n  return (ak.length === bk.length) ? 0 :\n    (ak.length > bk.length) ? 1 : -1;\n}\n// The collation is defined by erlangs ordered terms\n// the atoms null, true, false come first, then numbers, strings,\n// arrays, then objects\n// null/undefined/NaN/Infinity/-Infinity are all considered null\nfunction collationIndex(x) {\n  var id = ['boolean', 'number', 'string', 'object'];\n  var idx = id.indexOf(typeof x);\n  //false if -1 otherwise true, but fast!!!!1\n  if (~idx) {\n    if (x === null) {\n      return 1;\n    }\n    if (Array.isArray(x)) {\n      return 5;\n    }\n    return idx < 3 ? (idx + 2) : (idx + 3);\n  }\n  /* istanbul ignore next */\n  if (Array.isArray(x)) {\n    return 5;\n  }\n}\n\n// conversion:\n// x yyy zz...zz\n// x = 0 for negative, 1 for 0, 2 for positive\n// y = exponent (for negative numbers negated) moved so that it's >= 0\n// z = mantisse\nfunction numToIndexableString(num) {\n\n  if (num === 0) {\n    return '1';\n  }\n\n  // convert number to exponential format for easier and\n  // more succinct string sorting\n  var expFormat = num.toExponential().split(/e\\+?/);\n  var magnitude = parseInt(expFormat[1], 10);\n\n  var neg = num < 0;\n\n  var result = neg ? '0' : '2';\n\n  // first sort by magnitude\n  // it's easier if all magnitudes are positive\n  var magForComparison = ((neg ? -magnitude : magnitude) - MIN_MAGNITUDE);\n  var magString = padLeft((magForComparison).toString(), '0', MAGNITUDE_DIGITS);\n\n  result += SEP + magString;\n\n  // then sort by the factor\n  var factor = Math.abs(parseFloat(expFormat[0])); // [1..10)\n  /* istanbul ignore next */\n  if (neg) { // for negative reverse ordering\n    factor = 10 - factor;\n  }\n\n  var factorStr = factor.toFixed(20);\n\n  // strip zeros from the end\n  factorStr = factorStr.replace(/\\.?0+$/, '');\n\n  result += SEP + factorStr;\n\n  return result;\n}\n\nexport { collate, normalizeKey, toIndexableString, parseIndexableString };\n","import { clone } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\n// this would just be \"return doc[field]\", but fields\n// can be \"deep\" due to dot notation\nfunction getFieldFromDoc(doc, parsedField) {\n  var value = doc;\n  for (var i = 0, len = parsedField.length; i < len; i++) {\n    var key = parsedField[i];\n    value = value[key];\n    if (!value) {\n      break;\n    }\n  }\n  return value;\n}\n\nfunction setFieldInDoc(doc, parsedField, value) {\n  for (var i = 0, len = parsedField.length; i < len-1; i++) {\n    var elem = parsedField[i];\n    doc = doc[elem] = {};\n  }\n  doc[parsedField[len-1]] = value;\n}\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Converts a string in dot notation to an array of its components, with backslash escaping\nfunction parseField(fieldName) {\n  // fields may be deep (e.g. \"foo.bar.baz\"), so parse\n  var fields = [];\n  var current = '';\n  for (var i = 0, len = fieldName.length; i < len; i++) {\n    var ch = fieldName[i];\n    if (ch === '.') {\n      if (i > 0 && fieldName[i - 1] === '\\\\') { // escaped delimiter\n        current = current.substring(0, current.length - 1) + '.';\n      } else { // not escaped, so delimiter\n        fields.push(current);\n        current = '';\n      }\n    } else { // normal character\n      current += ch;\n    }\n  }\n  fields.push(current);\n  return fields;\n}\n\nvar combinationFields = ['$or', '$nor', '$not'];\nfunction isCombinationalField(field) {\n  return combinationFields.indexOf(field) > -1;\n}\n\nfunction getKey(obj) {\n  return Object.keys(obj)[0];\n}\n\nfunction getValue(obj) {\n  return obj[getKey(obj)];\n}\n\n\n// flatten an array of selectors joined by an $and operator\nfunction mergeAndedSelectors(selectors) {\n\n  // sort to ensure that e.g. if the user specified\n  // $and: [{$gt: 'a'}, {$gt: 'b'}], then it's collapsed into\n  // just {$gt: 'b'}\n  var res = {};\n\n  selectors.forEach(function (selector) {\n    Object.keys(selector).forEach(function (field) {\n      var matcher = selector[field];\n      if (typeof matcher !== 'object') {\n        matcher = {$eq: matcher};\n      }\n\n      if (isCombinationalField(field)) {\n        if (matcher instanceof Array) {\n          res[field] = matcher.map(function (m) {\n            return mergeAndedSelectors([m]);\n          });\n        } else {\n          res[field] = mergeAndedSelectors([matcher]);\n        }\n      } else {\n        var fieldMatchers = res[field] = res[field] || {};\n        Object.keys(matcher).forEach(function (operator) {\n          var value = matcher[operator];\n\n          if (operator === '$gt' || operator === '$gte') {\n            return mergeGtGte(operator, value, fieldMatchers);\n          } else if (operator === '$lt' || operator === '$lte') {\n            return mergeLtLte(operator, value, fieldMatchers);\n          } else if (operator === '$ne') {\n            return mergeNe(value, fieldMatchers);\n          } else if (operator === '$eq') {\n            return mergeEq(value, fieldMatchers);\n          }\n          fieldMatchers[operator] = value;\n        });\n      }\n    });\n  });\n\n  return res;\n}\n\n\n\n// collapse logically equivalent gt/gte values\nfunction mergeGtGte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$gte !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gte) { // more specificity\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value >= fieldMatchers.$gte) { // more specificity\n        delete fieldMatchers.$gte;\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$gt !== 'undefined') {\n    if (operator === '$gte') {\n      if (value > fieldMatchers.$gt) { // more specificity\n        delete fieldMatchers.$gt;\n        fieldMatchers.$gte = value;\n      }\n    } else { // operator === '$gt'\n      if (value > fieldMatchers.$gt) { // more specificity\n        fieldMatchers.$gt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// collapse logically equivalent lt/lte values\nfunction mergeLtLte(operator, value, fieldMatchers) {\n  if (typeof fieldMatchers.$eq !== 'undefined') {\n    return; // do nothing\n  }\n  if (typeof fieldMatchers.$lte !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lte) { // more specificity\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value <= fieldMatchers.$lte) { // more specificity\n        delete fieldMatchers.$lte;\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else if (typeof fieldMatchers.$lt !== 'undefined') {\n    if (operator === '$lte') {\n      if (value < fieldMatchers.$lt) { // more specificity\n        delete fieldMatchers.$lt;\n        fieldMatchers.$lte = value;\n      }\n    } else { // operator === '$gt'\n      if (value < fieldMatchers.$lt) { // more specificity\n        fieldMatchers.$lt = value;\n      }\n    }\n  } else {\n    fieldMatchers[operator] = value;\n  }\n}\n\n// combine $ne values into one array\nfunction mergeNe(value, fieldMatchers) {\n  if ('$ne' in fieldMatchers) {\n    // there are many things this could \"not\" be\n    fieldMatchers.$ne.push(value);\n  } else { // doesn't exist yet\n    fieldMatchers.$ne = [value];\n  }\n}\n\n// add $eq into the mix\nfunction mergeEq(value, fieldMatchers) {\n  // these all have less specificity than the $eq\n  // TODO: check for user errors here\n  delete fieldMatchers.$gt;\n  delete fieldMatchers.$gte;\n  delete fieldMatchers.$lt;\n  delete fieldMatchers.$lte;\n  delete fieldMatchers.$ne;\n  fieldMatchers.$eq = value;\n}\n\n\n//\n// normalize the selector\n//\nfunction massageSelector(input) {\n  var result = clone(input);\n  var wasAnded = false;\n  if ('$and' in result) {\n    result = mergeAndedSelectors(result['$and']);\n    wasAnded = true;\n  }\n\n  ['$or', '$nor'].forEach(function (orOrNor) {\n    if (orOrNor in result) {\n      // message each individual selector\n      // e.g. {foo: 'bar'} becomes {foo: {$eq: 'bar'}}\n      result[orOrNor].forEach(function (subSelector) {\n        var fields = Object.keys(subSelector);\n        for (var i = 0; i < fields.length; i++) {\n          var field = fields[i];\n          var matcher = subSelector[field];\n          if (typeof matcher !== 'object' || matcher === null) {\n            subSelector[field] = {$eq: matcher};\n          }\n        }\n      });\n    }\n  });\n\n  if ('$not' in result) {\n    //This feels a little like forcing, but it will work for now,\n    //I would like to come back to this and make the merging of selectors a little more generic\n    result['$not'] = mergeAndedSelectors([result['$not']]);\n  }\n\n  var fields = Object.keys(result);\n\n  for (var i = 0; i < fields.length; i++) {\n    var field = fields[i];\n    var matcher = result[field];\n\n    if (typeof matcher !== 'object' || matcher === null) {\n      matcher = {$eq: matcher};\n    } else if ('$ne' in matcher && !wasAnded) {\n      // I put these in an array, since there may be more than one\n      // but in the \"mergeAnded\" operation, I already take care of that\n      matcher.$ne = [matcher.$ne];\n    }\n    result[field] = matcher;\n  }\n\n  return result;\n}\n\n// create a comparator based on the sort object\nfunction createFieldSorter(sort) {\n\n  function getFieldValuesAsArray(doc) {\n    return sort.map(function (sorting) {\n      var fieldName = getKey(sorting);\n      var parsedField = parseField(fieldName);\n      var docFieldValue = getFieldFromDoc(doc, parsedField);\n      return docFieldValue;\n    });\n  }\n\n  return function (aRow, bRow) {\n    var aFieldValues = getFieldValuesAsArray(aRow.doc);\n    var bFieldValues = getFieldValuesAsArray(bRow.doc);\n    var collation = collate(aFieldValues, bFieldValues);\n    if (collation !== 0) {\n      return collation;\n    }\n    // this is what mango seems to do\n    return compare(aRow.doc._id, bRow.doc._id);\n  };\n}\n\nfunction filterInMemoryFields(rows, requestDef, inMemoryFields) {\n  rows = rows.filter(function (row) {\n    return rowFilter(row.doc, requestDef.selector, inMemoryFields);\n  });\n\n  if (requestDef.sort) {\n    // in-memory sort\n    var fieldSorter = createFieldSorter(requestDef.sort);\n    rows = rows.sort(fieldSorter);\n    if (typeof requestDef.sort[0] !== 'string' &&\n        getValue(requestDef.sort[0]) === 'desc') {\n      rows = rows.reverse();\n    }\n  }\n\n  if ('limit' in requestDef || 'skip' in requestDef) {\n    // have to do the limit in-memory\n    var skip = requestDef.skip || 0;\n    var limit = ('limit' in requestDef ? requestDef.limit : rows.length) + skip;\n    rows = rows.slice(skip, limit);\n  }\n  return rows;\n}\n\nfunction rowFilter(doc, selector, inMemoryFields) {\n  return inMemoryFields.every(function (field) {\n    var matcher = selector[field];\n    var parsedField = parseField(field);\n    var docFieldValue = getFieldFromDoc(doc, parsedField);\n    if (isCombinationalField(field)) {\n      return matchCominationalSelector(field, matcher, doc);\n    }\n\n    return matchSelector(matcher, doc, parsedField, docFieldValue);\n  });\n}\n\nfunction matchSelector(matcher, doc, parsedField, docFieldValue) {\n  if (!matcher) {\n    // no filtering necessary; this field is just needed for sorting\n    return true;\n  }\n\n  return Object.keys(matcher).every(function (userOperator) {\n    var userValue = matcher[userOperator];\n    return match(userOperator, doc, userValue, parsedField, docFieldValue);\n  });\n}\n\nfunction matchCominationalSelector(field, matcher, doc) {\n\n  if (field === '$or') {\n    return matcher.some(function (orMatchers) {\n      return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n    });\n  }\n\n  if (field === '$not') {\n    return !rowFilter(doc, matcher, Object.keys(matcher));\n  }\n\n  //`$nor`\n  return !matcher.find(function (orMatchers) {\n    return rowFilter(doc, orMatchers, Object.keys(orMatchers));\n  });\n\n}\n\nfunction match(userOperator, doc, userValue, parsedField, docFieldValue) {\n  if (!matchers[userOperator]) {\n    throw new Error('unknown operator \"' + userOperator +\n      '\" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, ' +\n      '$nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');\n  }\n  return matchers[userOperator](doc, userValue, parsedField, docFieldValue);\n}\n\nfunction fieldExists(docFieldValue) {\n  return typeof docFieldValue !== 'undefined' && docFieldValue !== null;\n}\n\nfunction fieldIsNotUndefined(docFieldValue) {\n  return typeof docFieldValue !== 'undefined';\n}\n\nfunction modField(docFieldValue, userValue) {\n  var divisor = userValue[0];\n  var mod = userValue[1];\n  if (divisor === 0) {\n    throw new Error('Bad divisor, cannot divide by zero');\n  }\n\n  if (parseInt(divisor, 10) !== divisor ) {\n    throw new Error('Divisor is not an integer');\n  }\n\n  if (parseInt(mod, 10) !== mod ) {\n    throw new Error('Modulus is not an integer');\n  }\n\n  if (parseInt(docFieldValue, 10) !== docFieldValue) {\n    return false;\n  }\n\n  return docFieldValue % divisor === mod;\n}\n\nfunction arrayContainsValue(docFieldValue, userValue) {\n  return userValue.some(function (val) {\n    if (docFieldValue instanceof Array) {\n      return docFieldValue.indexOf(val) > -1;\n    }\n\n    return docFieldValue === val;\n  });\n}\n\nfunction arrayContainsAllValues(docFieldValue, userValue) {\n  return userValue.every(function (val) {\n    return docFieldValue.indexOf(val) > -1;\n  });\n}\n\nfunction arraySize(docFieldValue, userValue) {\n  return docFieldValue.length === userValue;\n}\n\nfunction regexMatch(docFieldValue, userValue) {\n  var re = new RegExp(userValue);\n\n  return re.test(docFieldValue);\n}\n\nfunction typeMatch(docFieldValue, userValue) {\n\n  switch (userValue) {\n    case 'null':\n      return docFieldValue === null;\n    case 'boolean':\n      return typeof (docFieldValue) === 'boolean';\n    case 'number':\n      return typeof (docFieldValue) === 'number';\n    case 'string':\n      return typeof (docFieldValue) === 'string';\n    case 'array':\n      return docFieldValue instanceof Array;\n    case 'object':\n      return ({}).toString.call(docFieldValue) === '[object Object]';\n  }\n\n  throw new Error(userValue + ' not supported as a type.' +\n                  'Please use one of object, string, array, number, boolean or null.');\n\n}\n\nvar matchers = {\n\n  '$elemMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.some(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.some(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$allMatch': function (doc, userValue, parsedField, docFieldValue) {\n    if (!Array.isArray(docFieldValue)) {\n      return false;\n    }\n\n    /* istanbul ignore next */\n    if (docFieldValue.length === 0) {\n      return false;\n    }\n\n    if (typeof docFieldValue[0] === 'object') {\n      return docFieldValue.every(function (val) {\n        return rowFilter(val, userValue, Object.keys(userValue));\n      });\n    }\n\n    return docFieldValue.every(function (val) {\n      return matchSelector(userValue, doc, parsedField, val);\n    });\n  },\n\n  '$eq': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) === 0;\n  },\n\n  '$gte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) >= 0;\n  },\n\n  '$gt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) > 0;\n  },\n\n  '$lte': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) <= 0;\n  },\n\n  '$lt': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldIsNotUndefined(docFieldValue) && collate(docFieldValue, userValue) < 0;\n  },\n\n  '$exists': function (doc, userValue, parsedField, docFieldValue) {\n    //a field that is null is still considered to exist\n    if (userValue) {\n      return fieldIsNotUndefined(docFieldValue);\n    }\n\n    return !fieldIsNotUndefined(docFieldValue);\n  },\n\n  '$mod': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && modField(docFieldValue, userValue);\n  },\n\n  '$ne': function (doc, userValue, parsedField, docFieldValue) {\n    return userValue.every(function (neValue) {\n      return collate(docFieldValue, neValue) !== 0;\n    });\n  },\n  '$in': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$nin': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && !arrayContainsValue(docFieldValue, userValue);\n  },\n\n  '$size': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && arraySize(docFieldValue, userValue);\n  },\n\n  '$all': function (doc, userValue, parsedField, docFieldValue) {\n    return Array.isArray(docFieldValue) && arrayContainsAllValues(docFieldValue, userValue);\n  },\n\n  '$regex': function (doc, userValue, parsedField, docFieldValue) {\n    return fieldExists(docFieldValue) && regexMatch(docFieldValue, userValue);\n  },\n\n  '$type': function (doc, userValue, parsedField, docFieldValue) {\n    return typeMatch(docFieldValue, userValue);\n  }\n};\n\n// return true if the given doc matches the supplied selector\nfunction matchesSelector(doc, selector) {\n  /* istanbul ignore if */\n  if (typeof selector !== 'object') {\n    // match the CouchDB error message\n    throw new Error('Selector error: expected a JSON object');\n  }\n\n  selector = massageSelector(selector);\n  var row = {\n    'doc': doc\n  };\n\n  var rowsMatched = filterInMemoryFields([row], { 'selector': selector }, Object.keys(selector));\n  return rowsMatched && rowsMatched.length === 1;\n}\n\nexport { massageSelector, matchesSelector, filterInMemoryFields, createFieldSorter, rowFilter, isCombinationalField, getKey, getValue, getFieldFromDoc, setFieldInDoc, compare, parseField };\n","import { BAD_REQUEST, MISSING_DOC, createError, generateErrorFromResponse } from 'pouchdb-errors';\nimport { isRemote, normalizeDdocFunctionName, parseDdocFunctionName, scopeEval } from 'pouchdb-utils';\nimport { matchesSelector } from 'pouchdb-selector-core';\n\nfunction evalFilter(input) {\n  return scopeEval('\"use strict\";\\nreturn ' + input + ';', {});\n}\n\nfunction evalView(input) {\n  var code = [\n    'return function(doc) {',\n    '  \"use strict\";',\n    '  var emitted = false;',\n    '  var emit = function (a, b) {',\n    '    emitted = true;',\n    '  };',\n    '  var view = ' + input + ';',\n    '  view(doc);',\n    '  if (emitted) {',\n    '    return true;',\n    '  }',\n    '};'\n  ].join('\\n');\n\n  return scopeEval(code, {});\n}\n\nfunction validate(opts, callback) {\n  if (opts.selector) {\n    if (opts.filter && opts.filter !== '_selector') {\n      var filterName = typeof opts.filter === 'string' ?\n        opts.filter : 'function';\n      return callback(new Error('selector invalid for filter \"' + filterName + '\"'));\n    }\n  }\n  callback();\n}\n\nfunction normalize(opts) {\n  if (opts.view && !opts.filter) {\n    opts.filter = '_view';\n  }\n\n  if (opts.selector && !opts.filter) {\n    opts.filter = '_selector';\n  }\n\n  if (opts.filter && typeof opts.filter === 'string') {\n    if (opts.filter === '_view') {\n      opts.view = normalizeDdocFunctionName(opts.view);\n    } else {\n      opts.filter = normalizeDdocFunctionName(opts.filter);\n    }\n  }\n}\n\nfunction shouldFilter(changesHandler, opts) {\n  return opts.filter && typeof opts.filter === 'string' &&\n    !opts.doc_ids && !isRemote(changesHandler.db);\n}\n\nfunction filter(changesHandler, opts) {\n  var callback = opts.complete;\n  if (opts.filter === '_view') {\n    if (!opts.view || typeof opts.view !== 'string') {\n      var err = createError(BAD_REQUEST,\n        '`view` filter parameter not found or invalid.');\n      return callback(err);\n    }\n    // fetch a view from a design doc, make it behave like a filter\n    var viewName = parseDdocFunctionName(opts.view);\n    changesHandler.db.get('_design/' + viewName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var mapFun = ddoc && ddoc.views && ddoc.views[viewName[1]] &&\n        ddoc.views[viewName[1]].map;\n      if (!mapFun) {\n        return callback(createError(MISSING_DOC,\n          (ddoc.views ? 'missing json key: ' + viewName[1] :\n            'missing json key: views')));\n      }\n      opts.filter = evalView(mapFun);\n      changesHandler.doChanges(opts);\n    });\n  } else if (opts.selector) {\n    opts.filter = function (doc) {\n      return matchesSelector(doc, opts.selector);\n    };\n    changesHandler.doChanges(opts);\n  } else {\n    // fetch a filter from a design doc\n    var filterName = parseDdocFunctionName(opts.filter);\n    changesHandler.db.get('_design/' + filterName[0], function (err, ddoc) {\n      /* istanbul ignore if */\n      if (changesHandler.isCancelled) {\n        return callback(null, {status: 'cancelled'});\n      }\n      /* istanbul ignore next */\n      if (err) {\n        return callback(generateErrorFromResponse(err));\n      }\n      var filterFun = ddoc && ddoc.filters && ddoc.filters[filterName[1]];\n      if (!filterFun) {\n        return callback(createError(MISSING_DOC,\n          ((ddoc && ddoc.filters) ? 'missing json key: ' + filterName[1]\n            : 'missing json key: filters')));\n      }\n      opts.filter = evalFilter(filterFun);\n      changesHandler.doChanges(opts);\n    });\n  }\n}\n\nfunction applyChangesFilterPlugin(PouchDB) {\n  PouchDB._changesFilterPlugin = {\n    validate: validate,\n    normalize: normalize,\n    shouldFilter: shouldFilter,\n    filter: filter\n  };\n}\n\nexport default applyChangesFilterPlugin;\n","import { adapterFun, assign, bulkGetShim, clone, guardedConsole, hasLocalStorage, invalidIdError, isRemote, listenerCount, nextTick, once, pick, rev, upsert } from 'pouchdb-utils';\nimport { Map } from 'pouchdb-collections';\nimport inherits from 'inherits';\nimport Promise from 'pouchdb-promise';\nimport { EventEmitter } from 'events';\nimport getArguments from 'argsarray';\nimport { collectConflicts, collectLeaves, isDeleted, isLocalId, rootToLeaf, traverseRevTree } from 'pouchdb-merge';\nimport { BAD_REQUEST, INVALID_ID, INVALID_REV, MISSING_BULK_DOCS, MISSING_DOC, NOT_AN_OBJECT, QUERY_PARSE_ERROR, REV_CONFLICT, UNKNOWN_ERROR, createError } from 'pouchdb-errors';\nimport pouchDebug from 'pouchdb-debug';\nimport pouchChangesFilter from 'pouchdb-changes-filter';\n\ninherits(Changes, EventEmitter);\n\nfunction tryCatchInChangeListener(self, change) {\n  // isolate try/catches to avoid V8 deoptimizations\n  try {\n    self.emit('change', change);\n  } catch (e) {\n    guardedConsole('error', 'Error in .on(\"change\", function):', e);\n  }\n}\n\nfunction Changes(db, opts, callback) {\n  EventEmitter.call(this);\n  var self = this;\n  this.db = db;\n  opts = opts ? clone(opts) : {};\n  var complete = opts.complete = once(function (err, resp) {\n    if (err) {\n      if (listenerCount(self, 'error') > 0) {\n        self.emit('error', err);\n      }\n    } else {\n      self.emit('complete', resp);\n    }\n    self.removeAllListeners();\n    db.removeListener('destroyed', onDestroy);\n  });\n  if (callback) {\n    self.on('complete', function (resp) {\n      callback(null, resp);\n    });\n    self.on('error', callback);\n  }\n  function onDestroy() {\n    self.cancel();\n  }\n  db.once('destroyed', onDestroy);\n\n  opts.onChange = function (change) {\n    /* istanbul ignore if */\n    if (self.isCancelled) {\n      return;\n    }\n    tryCatchInChangeListener(self, change);\n  };\n\n  var promise = new Promise(function (fulfill, reject) {\n    opts.complete = function (err, res) {\n      if (err) {\n        reject(err);\n      } else {\n        fulfill(res);\n      }\n    };\n  });\n  self.once('cancel', function () {\n    db.removeListener('destroyed', onDestroy);\n    opts.complete(null, {status: 'cancelled'});\n  });\n  this.then = promise.then.bind(promise);\n  this['catch'] = promise['catch'].bind(promise);\n  this.then(function (result) {\n    complete(null, result);\n  }, complete);\n\n\n\n  if (!db.taskqueue.isReady) {\n    db.taskqueue.addTask(function (failed) {\n      if (failed) {\n        opts.complete(failed);\n      } else if (self.isCancelled) {\n        self.emit('cancel');\n      } else {\n        self.validateChanges(opts);\n      }\n    });\n  } else {\n    self.validateChanges(opts);\n  }\n}\nChanges.prototype.cancel = function () {\n  this.isCancelled = true;\n  if (this.db.taskqueue.isReady) {\n    this.emit('cancel');\n  }\n};\nfunction processChange(doc, metadata, opts) {\n  var changeList = [{rev: doc._rev}];\n  if (opts.style === 'all_docs') {\n    changeList = collectLeaves(metadata.rev_tree)\n    .map(function (x) { return {rev: x.rev}; });\n  }\n  var change = {\n    id: metadata.id,\n    changes: changeList,\n    doc: doc\n  };\n\n  if (isDeleted(metadata, doc._rev)) {\n    change.deleted = true;\n  }\n  if (opts.conflicts) {\n    change.doc._conflicts = collectConflicts(metadata);\n    if (!change.doc._conflicts.length) {\n      delete change.doc._conflicts;\n    }\n  }\n  return change;\n}\n\nChanges.prototype.validateChanges = function (opts) {\n  var callback = opts.complete;\n  var self = this;\n\n  /* istanbul ignore else */\n  if (PouchDB$2._changesFilterPlugin) {\n    PouchDB$2._changesFilterPlugin.validate(opts, function (err) {\n      if (err) {\n        return callback(err);\n      }\n      self.doChanges(opts);\n    });\n  } else {\n    self.doChanges(opts);\n  }\n};\n\nChanges.prototype.doChanges = function (opts) {\n  var self = this;\n  var callback = opts.complete;\n\n  opts = clone(opts);\n  if ('live' in opts && !('continuous' in opts)) {\n    opts.continuous = opts.live;\n  }\n  opts.processChange = processChange;\n\n  if (opts.since === 'latest') {\n    opts.since = 'now';\n  }\n  if (!opts.since) {\n    opts.since = 0;\n  }\n  if (opts.since === 'now') {\n    this.db.info().then(function (info) {\n      /* istanbul ignore if */\n      if (self.isCancelled) {\n        callback(null, {status: 'cancelled'});\n        return;\n      }\n      opts.since = info.update_seq;\n      self.doChanges(opts);\n    }, callback);\n    return;\n  }\n\n  /* istanbul ignore else */\n  if (PouchDB$2._changesFilterPlugin) {\n    PouchDB$2._changesFilterPlugin.normalize(opts);\n    if (PouchDB$2._changesFilterPlugin.shouldFilter(this, opts)) {\n      return PouchDB$2._changesFilterPlugin.filter(this, opts);\n    }\n  } else {\n    ['doc_ids', 'filter', 'selector', 'view'].forEach(function (key) {\n      if (key in opts) {\n        guardedConsole('warn',\n          'The \"' + key + '\" option was passed in to changes/replicate, ' +\n          'but pouchdb-changes-filter plugin is not installed, so it ' +\n          'was ignored. Please install the plugin to enable filtering.'\n        );\n      }\n    });\n  }\n\n  if (!('descending' in opts)) {\n    opts.descending = false;\n  }\n\n  // 0 and 1 should return 1 document\n  opts.limit = opts.limit === 0 ? 1 : opts.limit;\n  opts.complete = callback;\n  var newPromise = this.db._changes(opts);\n  /* istanbul ignore else */\n  if (newPromise && typeof newPromise.cancel === 'function') {\n    var cancel = self.cancel;\n    self.cancel = getArguments(function (args) {\n      newPromise.cancel();\n      cancel.apply(this, args);\n    });\n  }\n};\n\n/*\n * A generic pouch adapter\n */\n\nfunction compare(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n}\n\n// Wrapper for functions that call the bulkdocs api with a single doc,\n// if the first result is an error, return an error\nfunction yankError(callback, docId) {\n  return function (err, results) {\n    if (err || (results[0] && results[0].error)) {\n      err = err || results[0];\n      err.docId = docId;\n      callback(err);\n    } else {\n      callback(null, results.length ? results[0]  : results);\n    }\n  };\n}\n\n// clean docs given to us by the user\nfunction cleanDocs(docs) {\n  for (var i = 0; i < docs.length; i++) {\n    var doc = docs[i];\n    if (doc._deleted) {\n      delete doc._attachments; // ignore atts for deleted docs\n    } else if (doc._attachments) {\n      // filter out extraneous keys from _attachments\n      var atts = Object.keys(doc._attachments);\n      for (var j = 0; j < atts.length; j++) {\n        var att = atts[j];\n        doc._attachments[att] = pick(doc._attachments[att],\n          ['data', 'digest', 'content_type', 'length', 'revpos', 'stub']);\n      }\n    }\n  }\n}\n\n// compare two docs, first by _id then by _rev\nfunction compareByIdThenRev(a, b) {\n  var idCompare = compare(a._id, b._id);\n  if (idCompare !== 0) {\n    return idCompare;\n  }\n  var aStart = a._revisions ? a._revisions.start : 0;\n  var bStart = b._revisions ? b._revisions.start : 0;\n  return compare(aStart, bStart);\n}\n\n// for every node in a revision tree computes its distance from the closest\n// leaf\nfunction computeHeight(revs) {\n  var height = {};\n  var edges = [];\n  traverseRevTree(revs, function (isLeaf, pos, id, prnt) {\n    var rev$$1 = pos + \"-\" + id;\n    if (isLeaf) {\n      height[rev$$1] = 0;\n    }\n    if (prnt !== undefined) {\n      edges.push({from: prnt, to: rev$$1});\n    }\n    return rev$$1;\n  });\n\n  edges.reverse();\n  edges.forEach(function (edge) {\n    if (height[edge.from] === undefined) {\n      height[edge.from] = 1 + height[edge.to];\n    } else {\n      height[edge.from] = Math.min(height[edge.from], 1 + height[edge.to]);\n    }\n  });\n  return height;\n}\n\nfunction allDocsKeysQuery(api, opts, callback) {\n  var keys =  ('limit' in opts) ?\n      opts.keys.slice(opts.skip, opts.limit + opts.skip) :\n      (opts.skip > 0) ? opts.keys.slice(opts.skip) : opts.keys;\n  if (opts.descending) {\n    keys.reverse();\n  }\n  if (!keys.length) {\n    return api._allDocs({limit: 0}, callback);\n  }\n  var finalResults = {\n    offset: opts.skip\n  };\n  return Promise.all(keys.map(function (key) {\n    var subOpts = assign({key: key, deleted: 'ok'}, opts);\n    ['limit', 'skip', 'keys'].forEach(function (optKey) {\n      delete subOpts[optKey];\n    });\n    return new Promise(function (resolve, reject) {\n      api._allDocs(subOpts, function (err, res) {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err);\n        }\n        finalResults.total_rows = res.total_rows;\n        resolve(res.rows[0] || {key: key, error: 'not_found'});\n      });\n    });\n  })).then(function (results) {\n    finalResults.rows = results;\n    return finalResults;\n  });\n}\n\n// all compaction is done in a queue, to avoid attaching\n// too many listeners at once\nfunction doNextCompaction(self) {\n  var task = self._compactionQueue[0];\n  var opts = task.opts;\n  var callback = task.callback;\n  self.get('_local/compaction').catch(function () {\n    return false;\n  }).then(function (doc) {\n    if (doc && doc.last_seq) {\n      opts.last_seq = doc.last_seq;\n    }\n    self._compact(opts, function (err, res) {\n      /* istanbul ignore if */\n      if (err) {\n        callback(err);\n      } else {\n        callback(null, res);\n      }\n      nextTick(function () {\n        self._compactionQueue.shift();\n        if (self._compactionQueue.length) {\n          doNextCompaction(self);\n        }\n      });\n    });\n  });\n}\n\nfunction attachmentNameError(name) {\n  if (name.charAt(0) === '_') {\n    return name + ' is not a valid attachment name, attachment ' +\n      'names cannot start with \\'_\\'';\n  }\n  return false;\n}\n\ninherits(AbstractPouchDB, EventEmitter);\n\nfunction AbstractPouchDB() {\n  EventEmitter.call(this);\n}\n\nAbstractPouchDB.prototype.post =\n  adapterFun('post', function (doc, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return callback(createError(NOT_AN_OBJECT));\n  }\n  this.bulkDocs({docs: [doc]}, opts, yankError(callback, doc._id));\n});\n\nAbstractPouchDB.prototype.put = adapterFun('put', function (doc, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof doc !== 'object' || Array.isArray(doc)) {\n    return cb(createError(NOT_AN_OBJECT));\n  }\n  invalidIdError(doc._id);\n  if (isLocalId(doc._id) && typeof this._putLocal === 'function') {\n    if (doc._deleted) {\n      return this._removeLocal(doc, cb);\n    } else {\n      return this._putLocal(doc, cb);\n    }\n  }\n  var self = this;\n  if (opts.force && doc._rev) {\n    transformForceOptionToNewEditsOption();\n    putDoc(function (err) {\n      var result = err ? null : {ok: true, id: doc._id, rev: doc._rev};\n      cb(err, result);\n    });\n  } else {\n    putDoc(cb);\n  }\n\n  function transformForceOptionToNewEditsOption() {\n    var parts = doc._rev.split('-');\n    var oldRevId = parts[1];\n    var oldRevNum = parseInt(parts[0], 10);\n\n    var newRevNum = oldRevNum + 1;\n    var newRevId = rev();\n\n    doc._revisions = {\n      start: newRevNum,\n      ids: [newRevId, oldRevId]\n    };\n    doc._rev = newRevNum + '-' + newRevId;\n    opts.new_edits = false;\n  }\n  function putDoc(next) {\n    if (typeof self._put === 'function' && opts.new_edits !== false) {\n      self._put(doc, opts, next);\n    } else {\n      self.bulkDocs({docs: [doc]}, opts, yankError(next, doc._id));\n    }\n  }\n});\n\nAbstractPouchDB.prototype.putAttachment =\n  adapterFun('putAttachment', function (docId, attachmentId, rev$$1,\n                                              blob, type) {\n  var api = this;\n  if (typeof type === 'function') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  // Lets fix in https://github.com/pouchdb/pouchdb/issues/3267\n  /* istanbul ignore if */\n  if (typeof type === 'undefined') {\n    type = blob;\n    blob = rev$$1;\n    rev$$1 = null;\n  }\n  if (!type) {\n    guardedConsole('warn', 'Attachment', attachmentId, 'on document', docId, 'is missing content_type');\n  }\n\n  function createAttachment(doc) {\n    var prevrevpos = '_rev' in doc ? parseInt(doc._rev, 10) : 0;\n    doc._attachments = doc._attachments || {};\n    doc._attachments[attachmentId] = {\n      content_type: type,\n      data: blob,\n      revpos: ++prevrevpos\n    };\n    return api.put(doc);\n  }\n\n  return api.get(docId).then(function (doc) {\n    if (doc._rev !== rev$$1) {\n      throw createError(REV_CONFLICT);\n    }\n\n    return createAttachment(doc);\n  }, function (err) {\n     // create new doc\n    /* istanbul ignore else */\n    if (err.reason === MISSING_DOC.message) {\n      return createAttachment({_id: docId});\n    } else {\n      throw err;\n    }\n  });\n});\n\nAbstractPouchDB.prototype.removeAttachment =\n  adapterFun('removeAttachment', function (docId, attachmentId, rev$$1,\n                                                 callback) {\n  var self = this;\n  self.get(docId, function (err, obj) {\n    /* istanbul ignore if */\n    if (err) {\n      callback(err);\n      return;\n    }\n    if (obj._rev !== rev$$1) {\n      callback(createError(REV_CONFLICT));\n      return;\n    }\n    /* istanbul ignore if */\n    if (!obj._attachments) {\n      return callback();\n    }\n    delete obj._attachments[attachmentId];\n    if (Object.keys(obj._attachments).length === 0) {\n      delete obj._attachments;\n    }\n    self.put(obj, callback);\n  });\n});\n\nAbstractPouchDB.prototype.remove =\n  adapterFun('remove', function (docOrId, optsOrRev, opts, callback) {\n  var doc;\n  if (typeof optsOrRev === 'string') {\n    // id, rev, opts, callback style\n    doc = {\n      _id: docOrId,\n      _rev: optsOrRev\n    };\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n  } else {\n    // doc, opts, callback style\n    doc = docOrId;\n    if (typeof optsOrRev === 'function') {\n      callback = optsOrRev;\n      opts = {};\n    } else {\n      callback = opts;\n      opts = optsOrRev;\n    }\n  }\n  opts = opts || {};\n  opts.was_delete = true;\n  var newDoc = {_id: doc._id, _rev: (doc._rev || opts.rev)};\n  newDoc._deleted = true;\n  if (isLocalId(newDoc._id) && typeof this._removeLocal === 'function') {\n    return this._removeLocal(doc, callback);\n  }\n  this.bulkDocs({docs: [newDoc]}, opts, yankError(callback, newDoc._id));\n});\n\nAbstractPouchDB.prototype.revsDiff =\n  adapterFun('revsDiff', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  var ids = Object.keys(req);\n\n  if (!ids.length) {\n    return callback(null, {});\n  }\n\n  var count = 0;\n  var missing = new Map();\n\n  function addToMissing(id, revId) {\n    if (!missing.has(id)) {\n      missing.set(id, {missing: []});\n    }\n    missing.get(id).missing.push(revId);\n  }\n\n  function processDoc(id, rev_tree) {\n    // Is this fast enough? Maybe we should switch to a set simulated by a map\n    var missingForId = req[id].slice(0);\n    traverseRevTree(rev_tree, function (isLeaf, pos, revHash, ctx,\n      opts) {\n        var rev$$1 = pos + '-' + revHash;\n        var idx = missingForId.indexOf(rev$$1);\n        if (idx === -1) {\n          return;\n        }\n\n        missingForId.splice(idx, 1);\n        /* istanbul ignore if */\n        if (opts.status !== 'available') {\n          addToMissing(id, rev$$1);\n        }\n      });\n\n    // Traversing the tree is synchronous, so now `missingForId` contains\n    // revisions that were not found in the tree\n    missingForId.forEach(function (rev$$1) {\n      addToMissing(id, rev$$1);\n    });\n  }\n\n  ids.map(function (id) {\n    this._getRevisionTree(id, function (err, rev_tree) {\n      if (err && err.status === 404 && err.message === 'missing') {\n        missing.set(id, {missing: req[id]});\n      } else if (err) {\n        /* istanbul ignore next */\n        return callback(err);\n      } else {\n        processDoc(id, rev_tree);\n      }\n\n      if (++count === ids.length) {\n        // convert LazyMap to object\n        var missingObj = {};\n        missing.forEach(function (value, key) {\n          missingObj[key] = value;\n        });\n        return callback(null, missingObj);\n      }\n    });\n  }, this);\n});\n\n// _bulk_get API for faster replication, as described in\n// https://github.com/apache/couchdb-chttpd/pull/33\n// At the \"abstract\" level, it will just run multiple get()s in\n// parallel, because this isn't much of a performance cost\n// for local databases (except the cost of multiple transactions, which is\n// small). The http adapter overrides this in order\n// to do a more efficient single HTTP request.\nAbstractPouchDB.prototype.bulkGet =\n  adapterFun('bulkGet', function (opts, callback) {\n  bulkGetShim(this, opts, callback);\n});\n\n// compact one document and fire callback\n// by compacting we mean removing all revisions which\n// are further from the leaf in revision tree than max_height\nAbstractPouchDB.prototype.compactDocument =\n  adapterFun('compactDocument', function (docId, maxHeight, callback) {\n  var self = this;\n  this._getRevisionTree(docId, function (err, revTree) {\n    /* istanbul ignore if */\n    if (err) {\n      return callback(err);\n    }\n    var height = computeHeight(revTree);\n    var candidates = [];\n    var revs = [];\n    Object.keys(height).forEach(function (rev$$1) {\n      if (height[rev$$1] > maxHeight) {\n        candidates.push(rev$$1);\n      }\n    });\n\n    traverseRevTree(revTree, function (isLeaf, pos, revHash, ctx, opts) {\n      var rev$$1 = pos + '-' + revHash;\n      if (opts.status === 'available' && candidates.indexOf(rev$$1) !== -1) {\n        revs.push(rev$$1);\n      }\n    });\n    self._doCompaction(docId, revs, callback);\n  });\n});\n\n// compact the whole database using single document\n// compaction\nAbstractPouchDB.prototype.compact =\n  adapterFun('compact', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  self._compactionQueue = self._compactionQueue || [];\n  self._compactionQueue.push({opts: opts, callback: callback});\n  if (self._compactionQueue.length === 1) {\n    doNextCompaction(self);\n  }\n});\nAbstractPouchDB.prototype._compact = function (opts, callback) {\n  var self = this;\n  var changesOpts = {\n    return_docs: false,\n    last_seq: opts.last_seq || 0\n  };\n  var promises = [];\n\n  function onChange(row) {\n    promises.push(self.compactDocument(row.id, 0));\n  }\n  function onComplete(resp) {\n    var lastSeq = resp.last_seq;\n    Promise.all(promises).then(function () {\n      return upsert(self, '_local/compaction', function deltaFunc(doc) {\n        if (!doc.last_seq || doc.last_seq < lastSeq) {\n          doc.last_seq = lastSeq;\n          return doc;\n        }\n        return false; // somebody else got here first, don't update\n      });\n    }).then(function () {\n      callback(null, {ok: true});\n    }).catch(callback);\n  }\n  self.changes(changesOpts)\n    .on('change', onChange)\n    .on('complete', onComplete)\n    .on('error', callback);\n};\n\n/* Begin api wrappers. Specific functionality to storage belongs in the\n   _[method] */\nAbstractPouchDB.prototype.get = adapterFun('get', function (id, opts, cb) {\n  if (typeof opts === 'function') {\n    cb = opts;\n    opts = {};\n  }\n  if (typeof id !== 'string') {\n    return cb(createError(INVALID_ID));\n  }\n  if (isLocalId(id) && typeof this._getLocal === 'function') {\n    return this._getLocal(id, cb);\n  }\n  var leaves = [], self = this;\n\n  function finishOpenRevs() {\n    var result = [];\n    var count = leaves.length;\n    /* istanbul ignore if */\n    if (!count) {\n      return cb(null, result);\n    }\n\n    // order with open_revs is unspecified\n    leaves.forEach(function (leaf) {\n      self.get(id, {\n        rev: leaf,\n        revs: opts.revs,\n        latest: opts.latest,\n        attachments: opts.attachments\n      }, function (err, doc) {\n        if (!err) {\n          // using latest=true can produce duplicates\n          var existing;\n          for (var i = 0, l = result.length; i < l; i++) {\n            if (result[i].ok && result[i].ok._rev === doc._rev) {\n              existing = true;\n              break;\n            }\n          }\n          if (!existing) {\n            result.push({ok: doc});\n          }\n        } else {\n          result.push({missing: leaf});\n        }\n        count--;\n        if (!count) {\n          cb(null, result);\n        }\n      });\n    });\n  }\n\n  if (opts.open_revs) {\n    if (opts.open_revs === \"all\") {\n      this._getRevisionTree(id, function (err, rev_tree) {\n        if (err) {\n          return cb(err);\n        }\n        leaves = collectLeaves(rev_tree).map(function (leaf) {\n          return leaf.rev;\n        });\n        finishOpenRevs();\n      });\n    } else {\n      if (Array.isArray(opts.open_revs)) {\n        leaves = opts.open_revs;\n        for (var i = 0; i < leaves.length; i++) {\n          var l = leaves[i];\n          // looks like it's the only thing couchdb checks\n          if (!(typeof (l) === \"string\" && /^\\d+-/.test(l))) {\n            return cb(createError(INVALID_REV));\n          }\n        }\n        finishOpenRevs();\n      } else {\n        return cb(createError(UNKNOWN_ERROR, 'function_clause'));\n      }\n    }\n    return; // open_revs does not like other options\n  }\n\n  return this._get(id, opts, function (err, result) {\n    if (err) {\n      err.docId = id;\n      return cb(err);\n    }\n\n    var doc = result.doc;\n    var metadata = result.metadata;\n    var ctx = result.ctx;\n\n    if (opts.conflicts) {\n      var conflicts = collectConflicts(metadata);\n      if (conflicts.length) {\n        doc._conflicts = conflicts;\n      }\n    }\n\n    if (isDeleted(metadata, doc._rev)) {\n      doc._deleted = true;\n    }\n\n    if (opts.revs || opts.revs_info) {\n      var splittedRev = doc._rev.split('-');\n      var revNo       = parseInt(splittedRev[0], 10);\n      var revHash     = splittedRev[1];\n\n      var paths = rootToLeaf(metadata.rev_tree);\n      var path = null;\n\n      for (var i = 0; i < paths.length; i++) {\n        var currentPath = paths[i];\n        var hashIndex = currentPath.ids.map(function (x) { return x.id; })\n          .indexOf(revHash);\n        var hashFoundAtRevPos = hashIndex === (revNo - 1);\n\n        if (hashFoundAtRevPos || (!path && hashIndex !== -1)) {\n          path = currentPath;\n        }\n      }\n\n      var indexOfRev = path.ids.map(function (x) { return x.id; })\n        .indexOf(doc._rev.split('-')[1]) + 1;\n      var howMany = path.ids.length - indexOfRev;\n      path.ids.splice(indexOfRev, howMany);\n      path.ids.reverse();\n\n      if (opts.revs) {\n        doc._revisions = {\n          start: (path.pos + path.ids.length) - 1,\n          ids: path.ids.map(function (rev$$1) {\n            return rev$$1.id;\n          })\n        };\n      }\n      if (opts.revs_info) {\n        var pos =  path.pos + path.ids.length;\n        doc._revs_info = path.ids.map(function (rev$$1) {\n          pos--;\n          return {\n            rev: pos + '-' + rev$$1.id,\n            status: rev$$1.opts.status\n          };\n        });\n      }\n    }\n\n    if (opts.attachments && doc._attachments) {\n      var attachments = doc._attachments;\n      var count = Object.keys(attachments).length;\n      if (count === 0) {\n        return cb(null, doc);\n      }\n      Object.keys(attachments).forEach(function (key) {\n        this._getAttachment(doc._id, key, attachments[key], {\n          // Previously the revision handling was done in adapter.js\n          // getAttachment, however since idb-next doesnt we need to\n          // pass the rev through\n          rev: doc._rev,\n          binary: opts.binary,\n          ctx: ctx\n        }, function (err, data) {\n          var att = doc._attachments[key];\n          att.data = data;\n          delete att.stub;\n          delete att.length;\n          if (!--count) {\n            cb(null, doc);\n          }\n        });\n      }, self);\n    } else {\n      if (doc._attachments) {\n        for (var key in doc._attachments) {\n          /* istanbul ignore else */\n          if (doc._attachments.hasOwnProperty(key)) {\n            doc._attachments[key].stub = true;\n          }\n        }\n      }\n      cb(null, doc);\n    }\n  });\n});\n\n// TODO: I dont like this, it forces an extra read for every\n// attachment read and enforces a confusing api between\n// adapter.js and the adapter implementation\nAbstractPouchDB.prototype.getAttachment =\n  adapterFun('getAttachment', function (docId, attachmentId, opts, callback) {\n  var self = this;\n  if (opts instanceof Function) {\n    callback = opts;\n    opts = {};\n  }\n  this._get(docId, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (res.doc._attachments && res.doc._attachments[attachmentId]) {\n      opts.ctx = res.ctx;\n      opts.binary = true;\n      self._getAttachment(docId, attachmentId,\n                          res.doc._attachments[attachmentId], opts, callback);\n    } else {\n      return callback(createError(MISSING_DOC));\n    }\n  });\n});\n\nAbstractPouchDB.prototype.allDocs =\n  adapterFun('allDocs', function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  opts.skip = typeof opts.skip !== 'undefined' ? opts.skip : 0;\n  if (opts.start_key) {\n    opts.startkey = opts.start_key;\n  }\n  if (opts.end_key) {\n    opts.endkey = opts.end_key;\n  }\n  if ('keys' in opts) {\n    if (!Array.isArray(opts.keys)) {\n      return callback(new TypeError('options.keys must be an array'));\n    }\n    var incompatibleOpt =\n      ['startkey', 'endkey', 'key'].filter(function (incompatibleOpt) {\n      return incompatibleOpt in opts;\n    })[0];\n    if (incompatibleOpt) {\n      callback(createError(QUERY_PARSE_ERROR,\n        'Query parameter `' + incompatibleOpt +\n        '` is not compatible with multi-get'\n      ));\n      return;\n    }\n    if (!isRemote(this)) {\n      return allDocsKeysQuery(this, opts, callback);\n    }\n  }\n\n  return this._allDocs(opts, callback);\n});\n\nAbstractPouchDB.prototype.changes = function (opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  return new Changes(this, opts, callback);\n};\n\nAbstractPouchDB.prototype.close = adapterFun('close', function (callback) {\n  this._closed = true;\n  this.emit('closed');\n  return this._close(callback);\n});\n\nAbstractPouchDB.prototype.info = adapterFun('info', function (callback) {\n  var self = this;\n  this._info(function (err, info) {\n    if (err) {\n      return callback(err);\n    }\n    // assume we know better than the adapter, unless it informs us\n    info.db_name = info.db_name || self.name;\n    info.auto_compaction = !!(self.auto_compaction && !isRemote(self));\n    info.adapter = self.adapter;\n    callback(null, info);\n  });\n});\n\nAbstractPouchDB.prototype.id = adapterFun('id', function (callback) {\n  return this._id(callback);\n});\n\n/* istanbul ignore next */\nAbstractPouchDB.prototype.type = function () {\n  return (typeof this._type === 'function') ? this._type() : this.adapter;\n};\n\nAbstractPouchDB.prototype.bulkDocs =\n  adapterFun('bulkDocs', function (req, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  opts = opts || {};\n\n  if (Array.isArray(req)) {\n    req = {\n      docs: req\n    };\n  }\n\n  if (!req || !req.docs || !Array.isArray(req.docs)) {\n    return callback(createError(MISSING_BULK_DOCS));\n  }\n\n  for (var i = 0; i < req.docs.length; ++i) {\n    if (typeof req.docs[i] !== 'object' || Array.isArray(req.docs[i])) {\n      return callback(createError(NOT_AN_OBJECT));\n    }\n  }\n\n  var attachmentError;\n  req.docs.forEach(function (doc) {\n    if (doc._attachments) {\n      Object.keys(doc._attachments).forEach(function (name) {\n        attachmentError = attachmentError || attachmentNameError(name);\n        if (!doc._attachments[name].content_type) {\n          guardedConsole('warn', 'Attachment', name, 'on document', doc._id, 'is missing content_type');\n        }\n      });\n    }\n  });\n\n  if (attachmentError) {\n    return callback(createError(BAD_REQUEST, attachmentError));\n  }\n\n  if (!('new_edits' in opts)) {\n    if ('new_edits' in req) {\n      opts.new_edits = req.new_edits;\n    } else {\n      opts.new_edits = true;\n    }\n  }\n\n  var adapter = this;\n  if (!opts.new_edits && !isRemote(adapter)) {\n    // ensure revisions of the same doc are sorted, so that\n    // the local adapter processes them correctly (#2935)\n    req.docs.sort(compareByIdThenRev);\n  }\n\n  cleanDocs(req.docs);\n\n  // in the case of conflicts, we want to return the _ids to the user\n  // however, the underlying adapter may destroy the docs array, so\n  // create a copy here\n  var ids = req.docs.map(function (doc) {\n    return doc._id;\n  });\n\n  return this._bulkDocs(req, opts, function (err, res) {\n    if (err) {\n      return callback(err);\n    }\n    if (!opts.new_edits) {\n      // this is what couch does when new_edits is false\n      res = res.filter(function (x) {\n        return x.error;\n      });\n    }\n    // add ids for error/conflict responses (not required for CouchDB)\n    if (!isRemote(adapter)) {\n      for (var i = 0, l = res.length; i < l; i++) {\n        res[i].id = res[i].id || ids[i];\n      }\n    }\n\n    callback(null, res);\n  });\n});\n\nAbstractPouchDB.prototype.registerDependentDatabase =\n  adapterFun('registerDependentDatabase', function (dependentDb,\n                                                          callback) {\n  var depDB = new this.constructor(dependentDb, this.__opts);\n\n  function diffFun(doc) {\n    doc.dependentDbs = doc.dependentDbs || {};\n    if (doc.dependentDbs[dependentDb]) {\n      return false; // no update required\n    }\n    doc.dependentDbs[dependentDb] = true;\n    return doc;\n  }\n  upsert(this, '_local/_pouch_dependentDbs', diffFun)\n    .then(function () {\n      callback(null, {db: depDB});\n    }).catch(callback);\n});\n\nAbstractPouchDB.prototype.destroy =\n  adapterFun('destroy', function (opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n\n  var self = this;\n  var usePrefix = 'use_prefix' in self ? self.use_prefix : true;\n\n  function destroyDb() {\n    // call destroy method of the particular adaptor\n    self._destroy(opts, function (err, resp) {\n      if (err) {\n        return callback(err);\n      }\n      self._destroyed = true;\n      self.emit('destroyed');\n      callback(null, resp || { 'ok': true });\n    });\n  }\n\n  if (isRemote(self)) {\n    // no need to check for dependent DBs if it's a remote DB\n    return destroyDb();\n  }\n\n  self.get('_local/_pouch_dependentDbs', function (err, localDoc) {\n    if (err) {\n      /* istanbul ignore if */\n      if (err.status !== 404) {\n        return callback(err);\n      } else { // no dependencies\n        return destroyDb();\n      }\n    }\n    var dependentDbs = localDoc.dependentDbs;\n    var PouchDB = self.constructor;\n    var deletedMap = Object.keys(dependentDbs).map(function (name) {\n      // use_prefix is only false in the browser\n      /* istanbul ignore next */\n      var trueName = usePrefix ?\n        name.replace(new RegExp('^' + PouchDB.prefix), '') : name;\n      return new PouchDB(trueName, self.__opts).destroy();\n    });\n    Promise.all(deletedMap).then(destroyDb, callback);\n  });\n});\n\nfunction TaskQueue$1() {\n  this.isReady = false;\n  this.failed = false;\n  this.queue = [];\n}\n\nTaskQueue$1.prototype.execute = function () {\n  var fun;\n  if (this.failed) {\n    while ((fun = this.queue.shift())) {\n      fun(this.failed);\n    }\n  } else {\n    while ((fun = this.queue.shift())) {\n      fun();\n    }\n  }\n};\n\nTaskQueue$1.prototype.fail = function (err) {\n  this.failed = err;\n  this.execute();\n};\n\nTaskQueue$1.prototype.ready = function (db) {\n  this.isReady = true;\n  this.db = db;\n  this.execute();\n};\n\nTaskQueue$1.prototype.addTask = function (fun) {\n  this.queue.push(fun);\n  if (this.failed) {\n    this.execute();\n  }\n};\n\nfunction parseAdapter(name, opts) {\n  var match = name.match(/([a-z-]*):\\/\\/(.*)/);\n  if (match) {\n    // the http adapter expects the fully qualified name\n    return {\n      name: /https?/.test(match[1]) ? match[1] + '://' + match[2] : match[2],\n      adapter: match[1]\n    };\n  }\n\n  var adapters = PouchDB$2.adapters;\n  var preferredAdapters = PouchDB$2.preferredAdapters;\n  var prefix = PouchDB$2.prefix;\n  var adapterName = opts.adapter;\n\n  if (!adapterName) { // automatically determine adapter\n    for (var i = 0; i < preferredAdapters.length; ++i) {\n      adapterName = preferredAdapters[i];\n      // check for browsers that have been upgraded from websql-only to websql+idb\n      /* istanbul ignore if */\n      if (adapterName === 'idb' && 'websql' in adapters &&\n          hasLocalStorage() && localStorage['_pouch__websqldb_' + prefix + name]) {\n        // log it, because this can be confusing during development\n        guardedConsole('log', 'PouchDB is downgrading \"' + name + '\" to WebSQL to' +\n          ' avoid data loss, because it was already opened with WebSQL.');\n        continue; // keep using websql to avoid user data loss\n      }\n      break;\n    }\n  }\n\n  var adapter = adapters[adapterName];\n\n  // if adapter is invalid, then an error will be thrown later\n  var usePrefix = (adapter && 'use_prefix' in adapter) ?\n    adapter.use_prefix : true;\n\n  return {\n    name: usePrefix ? (prefix + name) : name,\n    adapter: adapterName\n  };\n}\n\n// OK, so here's the deal. Consider this code:\n//     var db1 = new PouchDB('foo');\n//     var db2 = new PouchDB('foo');\n//     db1.destroy();\n// ^ these two both need to emit 'destroyed' events,\n// as well as the PouchDB constructor itself.\n// So we have one db object (whichever one got destroy() called on it)\n// responsible for emitting the initial event, which then gets emitted\n// by the constructor, which then broadcasts it to any other dbs\n// that may have been created with the same name.\nfunction prepareForDestruction(self) {\n\n  function onDestroyed(from_constructor) {\n    self.removeListener('closed', onClosed);\n    if (!from_constructor) {\n      self.constructor.emit('destroyed', self.name);\n    }\n  }\n\n  function onClosed() {\n    self.removeListener('destroyed', onDestroyed);\n    self.constructor.emit('unref', self);\n  }\n\n  self.once('destroyed', onDestroyed);\n  self.once('closed', onClosed);\n  self.constructor.emit('ref', self);\n}\n\ninherits(PouchDB$2, AbstractPouchDB);\nfunction PouchDB$2(name, opts) {\n  // In Node our test suite only tests this for PouchAlt unfortunately\n  /* istanbul ignore if */\n  if (!(this instanceof PouchDB$2)) {\n    return new PouchDB$2(name, opts);\n  }\n\n  var self = this;\n  opts = opts || {};\n\n  if (name && typeof name === 'object') {\n    opts = name;\n    name = opts.name;\n    delete opts.name;\n  }\n\n  this.__opts = opts = clone(opts);\n\n  self.auto_compaction = opts.auto_compaction;\n  self.prefix = PouchDB$2.prefix;\n\n  if (typeof name !== 'string') {\n    throw new Error('Missing/invalid DB name');\n  }\n\n  var prefixedName = (opts.prefix || '') + name;\n  var backend = parseAdapter(prefixedName, opts);\n\n  opts.name = backend.name;\n  opts.adapter = opts.adapter || backend.adapter;\n\n  self.name = name;\n  self._adapter = opts.adapter;\n  PouchDB$2.emit('debug', ['adapter', 'Picked adapter: ', opts.adapter]);\n\n  if (!PouchDB$2.adapters[opts.adapter] ||\n      !PouchDB$2.adapters[opts.adapter].valid()) {\n    throw new Error('Invalid Adapter: ' + opts.adapter);\n  }\n\n  AbstractPouchDB.call(self);\n  self.taskqueue = new TaskQueue$1();\n\n  self.adapter = opts.adapter;\n\n  PouchDB$2.adapters[opts.adapter].call(self, opts, function (err) {\n    if (err) {\n      return self.taskqueue.fail(err);\n    }\n    prepareForDestruction(self);\n\n    self.emit('created', self);\n    PouchDB$2.emit('created', self.name);\n    self.taskqueue.ready(self);\n  });\n\n}\n\nPouchDB$2.adapters = {};\nPouchDB$2.preferredAdapters = [];\n\nPouchDB$2.prefix = '_pouch_';\n\nvar eventEmitter = new EventEmitter();\n\nfunction setUpEventEmitter(Pouch) {\n  Object.keys(EventEmitter.prototype).forEach(function (key) {\n    if (typeof EventEmitter.prototype[key] === 'function') {\n      Pouch[key] = eventEmitter[key].bind(eventEmitter);\n    }\n  });\n\n  // these are created in constructor.js, and allow us to notify each DB with\n  // the same name that it was destroyed, via the constructor object\n  var destructListeners = Pouch._destructionListeners = new Map();\n\n  Pouch.on('ref', function onConstructorRef(db) {\n    if (!destructListeners.has(db.name)) {\n      destructListeners.set(db.name, []);\n    }\n    destructListeners.get(db.name).push(db);\n  });\n\n  Pouch.on('unref', function onConstructorUnref(db) {\n    if (!destructListeners.has(db.name)) {\n      return;\n    }\n    var dbList = destructListeners.get(db.name);\n    var pos = dbList.indexOf(db);\n    if (pos < 0) {\n      /* istanbul ignore next */\n      return;\n    }\n    dbList.splice(pos, 1);\n    if (dbList.length > 1) {\n      /* istanbul ignore next */\n      destructListeners.set(db.name, dbList);\n    } else {\n      destructListeners.delete(db.name);\n    }\n  });\n\n  Pouch.on('destroyed', function onConstructorDestroyed(name) {\n    if (!destructListeners.has(name)) {\n      return;\n    }\n    var dbList = destructListeners.get(name);\n    destructListeners.delete(name);\n    dbList.forEach(function (db) {\n      db.emit('destroyed',true);\n    });\n  });\n}\n\nsetUpEventEmitter(PouchDB$2);\n\nPouchDB$2.adapter = function (id, obj, addToPreferredAdapters) {\n  /* istanbul ignore else */\n  if (obj.valid()) {\n    PouchDB$2.adapters[id] = obj;\n    if (addToPreferredAdapters) {\n      PouchDB$2.preferredAdapters.push(id);\n    }\n  }\n};\n\nPouchDB$2.plugin = function (obj) {\n  if (typeof obj === 'function') { // function style for plugins\n    obj(PouchDB$2);\n  } else if (typeof obj !== 'object' || Object.keys(obj).length === 0) {\n    throw new Error('Invalid plugin: got \"' + obj + '\", expected an object or a function');\n  } else {\n    Object.keys(obj).forEach(function (id) { // object style for plugins\n      PouchDB$2.prototype[id] = obj[id];\n    });\n  }\n  if (this.__defaults) {\n    PouchDB$2.__defaults = assign({}, this.__defaults);\n  }\n  return PouchDB$2;\n};\n\nPouchDB$2.defaults = function (defaultOpts) {\n  function PouchAlt(name, opts) {\n    if (!(this instanceof PouchAlt)) {\n      return new PouchAlt(name, opts);\n    }\n\n    opts = opts || {};\n\n    if (name && typeof name === 'object') {\n      opts = name;\n      name = opts.name;\n      delete opts.name;\n    }\n\n    opts = assign({}, PouchAlt.__defaults, opts);\n    PouchDB$2.call(this, name, opts);\n  }\n\n  inherits(PouchAlt, PouchDB$2);\n\n  PouchAlt.preferredAdapters = PouchDB$2.preferredAdapters.slice();\n  Object.keys(PouchDB$2).forEach(function (key) {\n    if (!(key in PouchAlt)) {\n      PouchAlt[key] = PouchDB$2[key];\n    }\n  });\n\n  // make default options transitive\n  // https://github.com/pouchdb/pouchdb/issues/5922\n  PouchAlt.__defaults = assign({}, this.__defaults, defaultOpts);\n\n  return PouchAlt;\n};\n\n// managed automatically by set-version.js\nvar version = \"6.3.4\";\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB$2.plugin(pouchDebug);\n\n// TODO: remove from pouchdb-core (breaking)\nPouchDB$2.plugin(pouchChangesFilter);\n\nPouchDB$2.version = version;\n\nexport default PouchDB$2;\n","var thisAtob = function (str) {\n  return atob(str);\n};\n\nvar thisBtoa = function (str) {\n  return btoa(str);\n};\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor (e.g.\n// old QtWebKit versions, Android < 4.4).\nfunction createBlob(parts, properties) {\n  /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n  parts = parts || [];\n  properties = properties || {};\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== \"TypeError\") {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder :\n                  typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder :\n                  typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder :\n                  WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction binaryStringToArrayBuffer(bin) {\n  var length = bin.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  for (var i = 0; i < length; i++) {\n    arr[i] = bin.charCodeAt(i);\n  }\n  return buf;\n}\n\nfunction binStringToBluffer(binString, type) {\n  return createBlob([binaryStringToArrayBuffer(binString)], {type: type});\n}\n\nfunction b64ToBluffer(b64, type) {\n  return binStringToBluffer(thisAtob(b64), type);\n}\n\n//Can't find original post, but this is close\n//http://stackoverflow.com/questions/6965107/ (continues on next line)\n//converting-between-strings-and-arraybuffers\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  for (var i = 0; i < length; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n\n// shim for browsers that don't support it\nfunction readAsBinaryString(blob, callback) {\n  if (typeof FileReader === 'undefined') {\n    // fix for Firefox in a web worker\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=901097\n    return callback(arrayBufferToBinaryString(\n      new FileReaderSync().readAsArrayBuffer(blob)));\n  }\n\n  var reader = new FileReader();\n  var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n  reader.onloadend = function (e) {\n    var result = e.target.result || '';\n    if (hasBinaryString) {\n      return callback(result);\n    }\n    callback(arrayBufferToBinaryString(result));\n  };\n  if (hasBinaryString) {\n    reader.readAsBinaryString(blob);\n  } else {\n    reader.readAsArrayBuffer(blob);\n  }\n}\n\nfunction blobToBinaryString(blobOrBuffer, callback) {\n  readAsBinaryString(blobOrBuffer, function (bin) {\n    callback(bin);\n  });\n}\n\nfunction blobToBase64(blobOrBuffer, callback) {\n  blobToBinaryString(blobOrBuffer, function (base64) {\n    callback(thisBtoa(base64));\n  });\n}\n\n// simplified API. universal browser support is assumed\nfunction readAsArrayBuffer(blob, callback) {\n  if (typeof FileReader === 'undefined') {\n    // fix for Firefox in a web worker:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=901097\n    return callback(new FileReaderSync().readAsArrayBuffer(blob));\n  }\n\n  var reader = new FileReader();\n  reader.onloadend = function (e) {\n    var result = e.target.result || new ArrayBuffer(0);\n    callback(result);\n  };\n  reader.readAsArrayBuffer(blob);\n}\n\n// this is not used in the browser\nfunction typedBuffer() {\n}\n\nexport { thisAtob as atob, thisBtoa as btoa, b64ToBluffer as base64StringToBlobOrBuffer, binaryStringToArrayBuffer, binStringToBluffer as binaryStringToBlobOrBuffer, createBlob as blob, blobToBase64 as blobOrBufferToBase64, blobToBinaryString as blobOrBufferToBinaryString, readAsArrayBuffer, readAsBinaryString, typedBuffer };\n","(function (factory) {\n    if (typeof exports === 'object') {\n        // Node/CommonJS\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD\n        define(factory);\n    } else {\n        // Browser globals (with support for web workers)\n        var glob;\n\n        try {\n            glob = window;\n        } catch (e) {\n            glob = self;\n        }\n\n        glob.SparkMD5 = factory();\n    }\n}(function (undefined) {\n\n    'use strict';\n\n    /*\n     * Fastest md5 implementation around (JKM md5).\n     * Credits: Joseph Myers\n     *\n     * @see http://www.myersdaily.org/joseph/javascript/md5-text.html\n     * @see http://jsperf.com/md5-shootout/7\n     */\n\n    /* this function is much faster,\n      so if possible we use it. Some IEs\n      are the only ones I know of that\n      need the idiotic second function,\n      generated by an if clause.  */\n    var add32 = function (a, b) {\n        return (a + b) & 0xFFFFFFFF;\n    },\n        hex_chr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\n\n\n    function cmn(q, a, b, x, s, t) {\n        a = add32(add32(a, q), add32(x, t));\n        return add32((a << s) | (a >>> (32 - s)), b);\n    }\n\n    function md5cycle(x, k) {\n        var a = x[0],\n            b = x[1],\n            c = x[2],\n            d = x[3];\n\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a  = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d  = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c  = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b  = (b << 22 | b >>> 10) + c | 0;\n\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a  = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d  = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c  = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b  = (b << 20 | b >>> 12) + c | 0;\n\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a  = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d  = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c  = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b  = (b << 23 | b >>> 9) + c | 0;\n\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b  = (b << 21 |b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a  = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d  = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c  = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b  = (b << 21 | b >>> 11) + c | 0;\n\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    }\n\n    function md5blk(s) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = s.charCodeAt(i) + (s.charCodeAt(i + 1) << 8) + (s.charCodeAt(i + 2) << 16) + (s.charCodeAt(i + 3) << 24);\n        }\n        return md5blks;\n    }\n\n    function md5blk_array(a) {\n        var md5blks = [],\n            i; /* Andy King said do it this way. */\n\n        for (i = 0; i < 64; i += 4) {\n            md5blks[i >> 2] = a[i] + (a[i + 1] << 8) + (a[i + 2] << 16) + (a[i + 3] << 24);\n        }\n        return md5blks;\n    }\n\n    function md51(s) {\n        var n = s.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk(s.substring(i - 64, i)));\n        }\n        s = s.substring(i - 64);\n        length = s.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= s.charCodeAt(i) << ((i % 4) << 3);\n        }\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n        return state;\n    }\n\n    function md51_array(a) {\n        var n = a.length,\n            state = [1732584193, -271733879, -1732584194, 271733878],\n            i,\n            length,\n            tail,\n            tmp,\n            lo,\n            hi;\n\n        for (i = 64; i <= n; i += 64) {\n            md5cycle(state, md5blk_array(a.subarray(i - 64, i)));\n        }\n\n        // Not sure if it is a bug, however IE10 will always produce a sub array of length 1\n        // containing the last element of the parent array if the sub array specified starts\n        // beyond the length of the parent array - weird.\n        // https://connect.microsoft.com/IE/feedback/details/771452/typed-array-subarray-issue\n        a = (i - 64) < n ? a.subarray(i - 64) : new Uint8Array(0);\n\n        length = a.length;\n        tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= a[i] << ((i % 4) << 3);\n        }\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(state, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Beware that the final length might not fit in 32 bits so we take care of that\n        tmp = n * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n\n        md5cycle(state, tail);\n\n        return state;\n    }\n\n    function rhex(n) {\n        var s = '',\n            j;\n        for (j = 0; j < 4; j += 1) {\n            s += hex_chr[(n >> (j * 8 + 4)) & 0x0F] + hex_chr[(n >> (j * 8)) & 0x0F];\n        }\n        return s;\n    }\n\n    function hex(x) {\n        var i;\n        for (i = 0; i < x.length; i += 1) {\n            x[i] = rhex(x[i]);\n        }\n        return x.join('');\n    }\n\n    // In some cases the fast add32 function cannot be used..\n    if (hex(md51('hello')) !== '5d41402abc4b2a76b9719d911017c592') {\n        add32 = function (x, y) {\n            var lsw = (x & 0xFFFF) + (y & 0xFFFF),\n                msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n            return (msw << 16) | (lsw & 0xFFFF);\n        };\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * ArrayBuffer slice polyfill.\n     *\n     * @see https://github.com/ttaubert/node-arraybuffer-slice\n     */\n\n    if (typeof ArrayBuffer !== 'undefined' && !ArrayBuffer.prototype.slice) {\n        (function () {\n            function clamp(val, length) {\n                val = (val | 0) || 0;\n\n                if (val < 0) {\n                    return Math.max(val + length, 0);\n                }\n\n                return Math.min(val, length);\n            }\n\n            ArrayBuffer.prototype.slice = function (from, to) {\n                var length = this.byteLength,\n                    begin = clamp(from, length),\n                    end = length,\n                    num,\n                    target,\n                    targetArray,\n                    sourceArray;\n\n                if (to !== undefined) {\n                    end = clamp(to, length);\n                }\n\n                if (begin > end) {\n                    return new ArrayBuffer(0);\n                }\n\n                num = end - begin;\n                target = new ArrayBuffer(num);\n                targetArray = new Uint8Array(target);\n\n                sourceArray = new Uint8Array(this, begin, num);\n                targetArray.set(sourceArray);\n\n                return target;\n            };\n        })();\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * Helpers.\n     */\n\n    function toUtf8(str) {\n        if (/[\\u0080-\\uFFFF]/.test(str)) {\n            str = unescape(encodeURIComponent(str));\n        }\n\n        return str;\n    }\n\n    function utf8Str2ArrayBuffer(str, returnUInt8Array) {\n        var length = str.length,\n           buff = new ArrayBuffer(length),\n           arr = new Uint8Array(buff),\n           i;\n\n        for (i = 0; i < length; i += 1) {\n            arr[i] = str.charCodeAt(i);\n        }\n\n        return returnUInt8Array ? arr : buff;\n    }\n\n    function arrayBuffer2Utf8Str(buff) {\n        return String.fromCharCode.apply(null, new Uint8Array(buff));\n    }\n\n    function concatenateArrayBuffers(first, second, returnUInt8Array) {\n        var result = new Uint8Array(first.byteLength + second.byteLength);\n\n        result.set(new Uint8Array(first));\n        result.set(new Uint8Array(second), first.byteLength);\n\n        return returnUInt8Array ? result : result.buffer;\n    }\n\n    function hexToBinaryString(hex) {\n        var bytes = [],\n            length = hex.length,\n            x;\n\n        for (x = 0; x < length - 1; x += 2) {\n            bytes.push(parseInt(hex.substr(x, 2), 16));\n        }\n\n        return String.fromCharCode.apply(String, bytes);\n    }\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation.\n     *\n     * Use this class to perform an incremental md5, otherwise use the\n     * static methods instead.\n     */\n\n    function SparkMD5() {\n        // call reset to init the instance\n        this.reset();\n    }\n\n    /**\n     * Appends a string.\n     * A conversion will be applied if an utf8 string is detected.\n     *\n     * @param {String} str The string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.append = function (str) {\n        // Converts the string to utf8 bytes if necessary\n        // Then append as binary\n        this.appendBinary(toUtf8(str));\n\n        return this;\n    };\n\n    /**\n     * Appends a binary string.\n     *\n     * @param {String} contents The binary string to be appended\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.appendBinary = function (contents) {\n        this._buff += contents;\n        this._length += contents.length;\n\n        var length = this._buff.length,\n            i;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk(this._buff.substring(i - 64, i)));\n        }\n\n        this._buff = this._buff.substring(i - 64);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            i,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff.charCodeAt(i) << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.reset = function () {\n        this._buff = '';\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.prototype.getState = function () {\n        return {\n            buff: this._buff,\n            length: this._length,\n            hash: this._hash\n        };\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5} The instance itself\n     */\n    SparkMD5.prototype.setState = function (state) {\n        this._buff = state.buff;\n        this._length = state.length;\n        this._hash = state.hash;\n\n        return this;\n    };\n\n    /**\n     * Releases memory used by the incremental buffer and other additional\n     * resources. If you plan to use the instance again, use reset instead.\n     */\n    SparkMD5.prototype.destroy = function () {\n        delete this._hash;\n        delete this._buff;\n        delete this._length;\n    };\n\n    /**\n     * Finish the final calculation based on the tail.\n     *\n     * @param {Array}  tail   The tail (will be modified)\n     * @param {Number} length The length of the remaining buffer\n     */\n    SparkMD5.prototype._finish = function (tail, length) {\n        var i = length,\n            tmp,\n            lo,\n            hi;\n\n        tail[i >> 2] |= 0x80 << ((i % 4) << 3);\n        if (i > 55) {\n            md5cycle(this._hash, tail);\n            for (i = 0; i < 16; i += 1) {\n                tail[i] = 0;\n            }\n        }\n\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        tmp = this._length * 8;\n        tmp = tmp.toString(16).match(/(.*?)(.{0,8})$/);\n        lo = parseInt(tmp[2], 16);\n        hi = parseInt(tmp[1], 16) || 0;\n\n        tail[14] = lo;\n        tail[15] = hi;\n        md5cycle(this._hash, tail);\n    };\n\n    /**\n     * Performs the md5 hash on a string.\n     * A conversion will be applied if utf8 string is detected.\n     *\n     * @param {String}  str The string\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hash = function (str, raw) {\n        // Converts the string to utf8 bytes if necessary\n        // Then compute it using the binary function\n        return SparkMD5.hashBinary(toUtf8(str), raw);\n    };\n\n    /**\n     * Performs the md5 hash on a binary string.\n     *\n     * @param {String}  content The binary string\n     * @param {Boolean} raw     True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.hashBinary = function (content, raw) {\n        var hash = md51(content),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    // ---------------------------------------------------\n\n    /**\n     * SparkMD5 OOP implementation for array buffers.\n     *\n     * Use this class to perform an incremental md5 ONLY for array buffers.\n     */\n    SparkMD5.ArrayBuffer = function () {\n        // call reset to init the instance\n        this.reset();\n    };\n\n    /**\n     * Appends an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array to be appended\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.append = function (arr) {\n        var buff = concatenateArrayBuffers(this._buff.buffer, arr, true),\n            length = buff.length,\n            i;\n\n        this._length += arr.byteLength;\n\n        for (i = 64; i <= length; i += 64) {\n            md5cycle(this._hash, md5blk_array(buff.subarray(i - 64, i)));\n        }\n\n        this._buff = (i - 64) < length ? new Uint8Array(buff.buffer.slice(i - 64)) : new Uint8Array(0);\n\n        return this;\n    };\n\n    /**\n     * Finishes the incremental computation, reseting the internal state and\n     * returning the result.\n     *\n     * @param {Boolean} raw True to get the raw string, false to get the hex string\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.prototype.end = function (raw) {\n        var buff = this._buff,\n            length = buff.length,\n            tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n            i,\n            ret;\n\n        for (i = 0; i < length; i += 1) {\n            tail[i >> 2] |= buff[i] << ((i % 4) << 3);\n        }\n\n        this._finish(tail, length);\n        ret = hex(this._hash);\n\n        if (raw) {\n            ret = hexToBinaryString(ret);\n        }\n\n        this.reset();\n\n        return ret;\n    };\n\n    /**\n     * Resets the internal state of the computation.\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.reset = function () {\n        this._buff = new Uint8Array(0);\n        this._length = 0;\n        this._hash = [1732584193, -271733879, -1732584194, 271733878];\n\n        return this;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @return {Object} The state\n     */\n    SparkMD5.ArrayBuffer.prototype.getState = function () {\n        var state = SparkMD5.prototype.getState.call(this);\n\n        // Convert buffer to a string\n        state.buff = arrayBuffer2Utf8Str(state.buff);\n\n        return state;\n    };\n\n    /**\n     * Gets the internal state of the computation.\n     *\n     * @param {Object} state The state\n     *\n     * @return {SparkMD5.ArrayBuffer} The instance itself\n     */\n    SparkMD5.ArrayBuffer.prototype.setState = function (state) {\n        // Convert string to buffer\n        state.buff = utf8Str2ArrayBuffer(state.buff, true);\n\n        return SparkMD5.prototype.setState.call(this, state);\n    };\n\n    SparkMD5.ArrayBuffer.prototype.destroy = SparkMD5.prototype.destroy;\n\n    SparkMD5.ArrayBuffer.prototype._finish = SparkMD5.prototype._finish;\n\n    /**\n     * Performs the md5 hash on an array buffer.\n     *\n     * @param {ArrayBuffer} arr The array buffer\n     * @param {Boolean}     raw True to get the raw string, false to get the hex one\n     *\n     * @return {String} The result\n     */\n    SparkMD5.ArrayBuffer.hash = function (arr, raw) {\n        var hash = md51_array(new Uint8Array(arr)),\n            ret = hex(hash);\n\n        return raw ? hexToBinaryString(ret) : ret;\n    };\n\n    return SparkMD5;\n}));\n","import { btoa, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport Md5 from 'spark-md5';\n\nvar setImmediateShim = global.setImmediate || global.setTimeout;\nvar MD5_CHUNK_SIZE = 32768;\n\nfunction rawToBase64(raw) {\n  return btoa(raw);\n}\n\nfunction sliceBlob(blob, start, end) {\n  if (blob.webkitSlice) {\n    return blob.webkitSlice(start, end);\n  }\n  return blob.slice(start, end);\n}\n\nfunction appendBlob(buffer, blob, start, end, callback) {\n  if (start > 0 || end < blob.size) {\n    // only slice blob if we really need to\n    blob = sliceBlob(blob, start, end);\n  }\n  readAsArrayBuffer(blob, function (arrayBuffer) {\n    buffer.append(arrayBuffer);\n    callback();\n  });\n}\n\nfunction appendString(buffer, string, start, end, callback) {\n  if (start > 0 || end < string.length) {\n    // only create a substring if we really need to\n    string = string.substring(start, end);\n  }\n  buffer.appendBinary(string);\n  callback();\n}\n\nfunction binaryMd5(data, callback) {\n  var inputIsString = typeof data === 'string';\n  var len = inputIsString ? data.length : data.size;\n  var chunkSize = Math.min(MD5_CHUNK_SIZE, len);\n  var chunks = Math.ceil(len / chunkSize);\n  var currentChunk = 0;\n  var buffer = inputIsString ? new Md5() : new Md5.ArrayBuffer();\n\n  var append = inputIsString ? appendString : appendBlob;\n\n  function next() {\n    setImmediateShim(loadNextChunk);\n  }\n\n  function done() {\n    var raw = buffer.end(true);\n    var base64 = rawToBase64(raw);\n    callback(base64);\n    buffer.destroy();\n  }\n\n  function loadNextChunk() {\n    var start = currentChunk * chunkSize;\n    var end = start + chunkSize;\n    currentChunk++;\n    if (currentChunk < chunks) {\n      append(buffer, data, start, end, next);\n    } else {\n      append(buffer, data, start, end, done);\n    }\n  }\n  loadNextChunk();\n}\n\nfunction stringMd5(string) {\n  return Md5.hash(string);\n}\n\nexport { binaryMd5, stringMd5 };\n","import { invalidIdError, normalizeDdocFunctionName, parseDdocFunctionName, rev, uuid } from 'pouchdb-utils';\nimport { BAD_ARG, DOC_VALIDATION, INVALID_REV, MISSING_DOC, REV_CONFLICT, createError } from 'pouchdb-errors';\nimport { isDeleted, isLocalId, merge, revExists, winningRev } from 'pouchdb-merge';\nimport { atob, binaryStringToBlobOrBuffer, blobOrBufferToBase64, blobOrBufferToBinaryString, btoa } from 'pouchdb-binary-utils';\nimport { binaryMd5 } from 'pouchdb-md5';\nimport { Map } from 'pouchdb-collections';\n\nfunction toObject(array) {\n  return array.reduce(function (obj, item) {\n    obj[item] = true;\n    return obj;\n  }, {});\n}\n// List of top level reserved words for doc\nvar reservedWords = toObject([\n  '_id',\n  '_rev',\n  '_attachments',\n  '_deleted',\n  '_revisions',\n  '_revs_info',\n  '_conflicts',\n  '_deleted_conflicts',\n  '_local_seq',\n  '_rev_tree',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats',\n  // Specific to Couchbase Sync Gateway\n  '_removed'\n]);\n\n// List of reserved words that should end up the document\nvar dataWords = toObject([\n  '_attachments',\n  //replication documents\n  '_replication_id',\n  '_replication_state',\n  '_replication_state_time',\n  '_replication_state_reason',\n  '_replication_stats'\n]);\n\nfunction parseRevisionInfo(rev$$1) {\n  if (!/^\\d+-./.test(rev$$1)) {\n    return createError(INVALID_REV);\n  }\n  var idx = rev$$1.indexOf('-');\n  var left = rev$$1.substring(0, idx);\n  var right = rev$$1.substring(idx + 1);\n  return {\n    prefix: parseInt(left, 10),\n    id: right\n  };\n}\n\nfunction makeRevTreeFromRevisions(revisions, opts) {\n  var pos = revisions.start - revisions.ids.length + 1;\n\n  var revisionIds = revisions.ids;\n  var ids = [revisionIds[0], opts, []];\n\n  for (var i = 1, len = revisionIds.length; i < len; i++) {\n    ids = [revisionIds[i], {status: 'missing'}, [ids]];\n  }\n\n  return [{\n    pos: pos,\n    ids: ids\n  }];\n}\n\n// Preprocess documents, parse their revisions, assign an id and a\n// revision for new writes that are missing them, etc\nfunction parseDoc(doc, newEdits) {\n\n  var nRevNum;\n  var newRevId;\n  var revInfo;\n  var opts = {status: 'available'};\n  if (doc._deleted) {\n    opts.deleted = true;\n  }\n\n  if (newEdits) {\n    if (!doc._id) {\n      doc._id = uuid();\n    }\n    newRevId = rev();\n    if (doc._rev) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      doc._rev_tree = [{\n        pos: revInfo.prefix,\n        ids: [revInfo.id, {status: 'missing'}, [[newRevId, opts, []]]]\n      }];\n      nRevNum = revInfo.prefix + 1;\n    } else {\n      doc._rev_tree = [{\n        pos: 1,\n        ids : [newRevId, opts, []]\n      }];\n      nRevNum = 1;\n    }\n  } else {\n    if (doc._revisions) {\n      doc._rev_tree = makeRevTreeFromRevisions(doc._revisions, opts);\n      nRevNum = doc._revisions.start;\n      newRevId = doc._revisions.ids[0];\n    }\n    if (!doc._rev_tree) {\n      revInfo = parseRevisionInfo(doc._rev);\n      if (revInfo.error) {\n        return revInfo;\n      }\n      nRevNum = revInfo.prefix;\n      newRevId = revInfo.id;\n      doc._rev_tree = [{\n        pos: nRevNum,\n        ids: [newRevId, opts, []]\n      }];\n    }\n  }\n\n  invalidIdError(doc._id);\n\n  doc._rev = nRevNum + '-' + newRevId;\n\n  var result = {metadata : {}, data : {}};\n  for (var key in doc) {\n    /* istanbul ignore else */\n    if (Object.prototype.hasOwnProperty.call(doc, key)) {\n      var specialKey = key[0] === '_';\n      if (specialKey && !reservedWords[key]) {\n        var error = createError(DOC_VALIDATION, key);\n        error.message = DOC_VALIDATION.message + ': ' + key;\n        throw error;\n      } else if (specialKey && !dataWords[key]) {\n        result.metadata[key.slice(1)] = doc[key];\n      } else {\n        result.data[key] = doc[key];\n      }\n    }\n  }\n  return result;\n}\n\nfunction parseBase64(data) {\n  try {\n    return atob(data);\n  } catch (e) {\n    var err = createError(BAD_ARG,\n      'Attachment is not a valid base64 string');\n    return {error: err};\n  }\n}\n\nfunction preprocessString(att, blobType, callback) {\n  var asBinary = parseBase64(att.data);\n  if (asBinary.error) {\n    return callback(asBinary.error);\n  }\n\n  att.length = asBinary.length;\n  if (blobType === 'blob') {\n    att.data = binaryStringToBlobOrBuffer(asBinary, att.content_type);\n  } else if (blobType === 'base64') {\n    att.data = btoa(asBinary);\n  } else { // binary\n    att.data = asBinary;\n  }\n  binaryMd5(asBinary, function (result) {\n    att.digest = 'md5-' + result;\n    callback();\n  });\n}\n\nfunction preprocessBlob(att, blobType, callback) {\n  binaryMd5(att.data, function (md5) {\n    att.digest = 'md5-' + md5;\n    // size is for blobs (browser), length is for buffers (node)\n    att.length = att.data.size || att.data.length || 0;\n    if (blobType === 'binary') {\n      blobOrBufferToBinaryString(att.data, function (binString) {\n        att.data = binString;\n        callback();\n      });\n    } else if (blobType === 'base64') {\n      blobOrBufferToBase64(att.data, function (b64) {\n        att.data = b64;\n        callback();\n      });\n    } else {\n      callback();\n    }\n  });\n}\n\nfunction preprocessAttachment(att, blobType, callback) {\n  if (att.stub) {\n    return callback();\n  }\n  if (typeof att.data === 'string') { // input is a base64 string\n    preprocessString(att, blobType, callback);\n  } else { // input is a blob\n    preprocessBlob(att, blobType, callback);\n  }\n}\n\nfunction preprocessAttachments(docInfos, blobType, callback) {\n\n  if (!docInfos.length) {\n    return callback();\n  }\n\n  var docv = 0;\n  var overallErr;\n\n  docInfos.forEach(function (docInfo) {\n    var attachments = docInfo.data && docInfo.data._attachments ?\n      Object.keys(docInfo.data._attachments) : [];\n    var recv = 0;\n\n    if (!attachments.length) {\n      return done();\n    }\n\n    function processedAttachment(err) {\n      overallErr = err;\n      recv++;\n      if (recv === attachments.length) {\n        done();\n      }\n    }\n\n    for (var key in docInfo.data._attachments) {\n      if (docInfo.data._attachments.hasOwnProperty(key)) {\n        preprocessAttachment(docInfo.data._attachments[key],\n          blobType, processedAttachment);\n      }\n    }\n  });\n\n  function done() {\n    docv++;\n    if (docInfos.length === docv) {\n      if (overallErr) {\n        callback(overallErr);\n      } else {\n        callback();\n      }\n    }\n  }\n}\n\nfunction updateDoc(revLimit, prev, docInfo, results,\n                   i, cb, writeDoc, newEdits) {\n\n  if (revExists(prev.rev_tree, docInfo.metadata.rev)) {\n    results[i] = docInfo;\n    return cb();\n  }\n\n  // sometimes this is pre-calculated. historically not always\n  var previousWinningRev = prev.winningRev || winningRev(prev);\n  var previouslyDeleted = 'deleted' in prev ? prev.deleted :\n    isDeleted(prev, previousWinningRev);\n  var deleted = 'deleted' in docInfo.metadata ? docInfo.metadata.deleted :\n    isDeleted(docInfo.metadata);\n  var isRoot = /^1-/.test(docInfo.metadata.rev);\n\n  if (previouslyDeleted && !deleted && newEdits && isRoot) {\n    var newDoc = docInfo.data;\n    newDoc._rev = previousWinningRev;\n    newDoc._id = docInfo.metadata.id;\n    docInfo = parseDoc(newDoc, newEdits);\n  }\n\n  var merged = merge(prev.rev_tree, docInfo.metadata.rev_tree[0], revLimit);\n\n  var inConflict = newEdits && ((\n    (previouslyDeleted && deleted && merged.conflicts !== 'new_leaf') ||\n    (!previouslyDeleted && merged.conflicts !== 'new_leaf') ||\n    (previouslyDeleted && !deleted && merged.conflicts === 'new_branch')));\n\n  if (inConflict) {\n    var err = createError(REV_CONFLICT);\n    results[i] = err;\n    return cb();\n  }\n\n  var newRev = docInfo.metadata.rev;\n  docInfo.metadata.rev_tree = merged.tree;\n  docInfo.stemmedRevs = merged.stemmedRevs || [];\n  /* istanbul ignore else */\n  if (prev.rev_map) {\n    docInfo.metadata.rev_map = prev.rev_map; // used only by leveldb\n  }\n\n  // recalculate\n  var winningRev$$1 = winningRev(docInfo.metadata);\n  var winningRevIsDeleted = isDeleted(docInfo.metadata, winningRev$$1);\n\n  // calculate the total number of documents that were added/removed,\n  // from the perspective of total_rows/doc_count\n  var delta = (previouslyDeleted === winningRevIsDeleted) ? 0 :\n    previouslyDeleted < winningRevIsDeleted ? -1 : 1;\n\n  var newRevIsDeleted;\n  if (newRev === winningRev$$1) {\n    // if the new rev is the same as the winning rev, we can reuse that value\n    newRevIsDeleted = winningRevIsDeleted;\n  } else {\n    // if they're not the same, then we need to recalculate\n    newRevIsDeleted = isDeleted(docInfo.metadata, newRev);\n  }\n\n  writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n    true, delta, i, cb);\n}\n\nfunction rootIsMissing(docInfo) {\n  return docInfo.metadata.rev_tree[0].ids[1].status === 'missing';\n}\n\nfunction processDocs(revLimit, docInfos, api, fetchedDocs, tx, results,\n                     writeDoc, opts, overallCallback) {\n\n  // Default to 1000 locally\n  revLimit = revLimit || 1000;\n\n  function insertDoc(docInfo, resultsIdx, callback) {\n    // Cant insert new deleted documents\n    var winningRev$$1 = winningRev(docInfo.metadata);\n    var deleted = isDeleted(docInfo.metadata, winningRev$$1);\n    if ('was_delete' in opts && deleted) {\n      results[resultsIdx] = createError(MISSING_DOC, 'deleted');\n      return callback();\n    }\n\n    // 4712 - detect whether a new document was inserted with a _rev\n    var inConflict = newEdits && rootIsMissing(docInfo);\n\n    if (inConflict) {\n      var err = createError(REV_CONFLICT);\n      results[resultsIdx] = err;\n      return callback();\n    }\n\n    var delta = deleted ? 0 : 1;\n\n    writeDoc(docInfo, winningRev$$1, deleted, deleted, false,\n      delta, resultsIdx, callback);\n  }\n\n  var newEdits = opts.new_edits;\n  var idsToDocs = new Map();\n\n  var docsDone = 0;\n  var docsToDo = docInfos.length;\n\n  function checkAllDocsDone() {\n    if (++docsDone === docsToDo && overallCallback) {\n      overallCallback();\n    }\n  }\n\n  docInfos.forEach(function (currentDoc, resultsIdx) {\n\n    if (currentDoc._id && isLocalId(currentDoc._id)) {\n      var fun = currentDoc._deleted ? '_removeLocal' : '_putLocal';\n      api[fun](currentDoc, {ctx: tx}, function (err, res) {\n        results[resultsIdx] = err || res;\n        checkAllDocsDone();\n      });\n      return;\n    }\n\n    var id = currentDoc.metadata.id;\n    if (idsToDocs.has(id)) {\n      docsToDo--; // duplicate\n      idsToDocs.get(id).push([currentDoc, resultsIdx]);\n    } else {\n      idsToDocs.set(id, [[currentDoc, resultsIdx]]);\n    }\n  });\n\n  // in the case of new_edits, the user can provide multiple docs\n  // with the same id. these need to be processed sequentially\n  idsToDocs.forEach(function (docs, id) {\n    var numDone = 0;\n\n    function docWritten() {\n      if (++numDone < docs.length) {\n        nextDoc();\n      } else {\n        checkAllDocsDone();\n      }\n    }\n    function nextDoc() {\n      var value = docs[numDone];\n      var currentDoc = value[0];\n      var resultsIdx = value[1];\n\n      if (fetchedDocs.has(id)) {\n        updateDoc(revLimit, fetchedDocs.get(id), currentDoc, results,\n          resultsIdx, docWritten, writeDoc, newEdits);\n      } else {\n        // Ensure stemming applies to new writes as well\n        var merged = merge([], currentDoc.metadata.rev_tree[0], revLimit);\n        currentDoc.metadata.rev_tree = merged.tree;\n        currentDoc.stemmedRevs = merged.stemmedRevs || [];\n        insertDoc(currentDoc, resultsIdx, docWritten);\n      }\n    }\n    nextDoc();\n  });\n}\n\nexport { invalidIdError, isDeleted, isLocalId, normalizeDdocFunctionName, parseDdocFunctionName, parseDoc, preprocessAttachments, processDocs, updateDoc };\n","'use strict';\n\n/**\n * Stringify/parse functions that don't operate\n * recursively, so they avoid call stack exceeded\n * errors.\n */\nexports.stringify = function stringify(input) {\n  var queue = [];\n  queue.push({obj: input});\n\n  var res = '';\n  var next, obj, prefix, val, i, arrayPrefix, keys, k, key, value, objPrefix;\n  while ((next = queue.pop())) {\n    obj = next.obj;\n    prefix = next.prefix || '';\n    val = next.val || '';\n    res += prefix;\n    if (val) {\n      res += val;\n    } else if (typeof obj !== 'object') {\n      res += typeof obj === 'undefined' ? null : JSON.stringify(obj);\n    } else if (obj === null) {\n      res += 'null';\n    } else if (Array.isArray(obj)) {\n      queue.push({val: ']'});\n      for (i = obj.length - 1; i >= 0; i--) {\n        arrayPrefix = i === 0 ? '' : ',';\n        queue.push({obj: obj[i], prefix: arrayPrefix});\n      }\n      queue.push({val: '['});\n    } else { // object\n      keys = [];\n      for (k in obj) {\n        if (obj.hasOwnProperty(k)) {\n          keys.push(k);\n        }\n      }\n      queue.push({val: '}'});\n      for (i = keys.length - 1; i >= 0; i--) {\n        key = keys[i];\n        value = obj[key];\n        objPrefix = (i > 0 ? ',' : '');\n        objPrefix += JSON.stringify(key) + ':';\n        queue.push({obj: value, prefix: objPrefix});\n      }\n      queue.push({val: '{'});\n    }\n  }\n  return res;\n};\n\n// Convenience function for the parse function.\n// This pop function is basically copied from\n// pouchCollate.parseIndexableString\nfunction pop(obj, stack, metaStack) {\n  var lastMetaElement = metaStack[metaStack.length - 1];\n  if (obj === lastMetaElement.element) {\n    // popping a meta-element, e.g. an object whose value is another object\n    metaStack.pop();\n    lastMetaElement = metaStack[metaStack.length - 1];\n  }\n  var element = lastMetaElement.element;\n  var lastElementIndex = lastMetaElement.index;\n  if (Array.isArray(element)) {\n    element.push(obj);\n  } else if (lastElementIndex === stack.length - 2) { // obj with key+value\n    var key = stack.pop();\n    element[key] = obj;\n  } else {\n    stack.push(obj); // obj with key only\n  }\n}\n\nexports.parse = function (str) {\n  var stack = [];\n  var metaStack = []; // stack for arrays and objects\n  var i = 0;\n  var collationIndex,parsedNum,numChar;\n  var parsedString,lastCh,numConsecutiveSlashes,ch;\n  var arrayElement, objElement;\n  while (true) {\n    collationIndex = str[i++];\n    if (collationIndex === '}' ||\n        collationIndex === ']' ||\n        typeof collationIndex === 'undefined') {\n      if (stack.length === 1) {\n        return stack.pop();\n      } else {\n        pop(stack.pop(), stack, metaStack);\n        continue;\n      }\n    }\n    switch (collationIndex) {\n      case ' ':\n      case '\\t':\n      case '\\n':\n      case ':':\n      case ',':\n        break;\n      case 'n':\n        i += 3; // 'ull'\n        pop(null, stack, metaStack);\n        break;\n      case 't':\n        i += 3; // 'rue'\n        pop(true, stack, metaStack);\n        break;\n      case 'f':\n        i += 4; // 'alse'\n        pop(false, stack, metaStack);\n        break;\n      case '0':\n      case '1':\n      case '2':\n      case '3':\n      case '4':\n      case '5':\n      case '6':\n      case '7':\n      case '8':\n      case '9':\n      case '-':\n        parsedNum = '';\n        i--;\n        while (true) {\n          numChar = str[i++];\n          if (/[\\d\\.\\-e\\+]/.test(numChar)) {\n            parsedNum += numChar;\n          } else {\n            i--;\n            break;\n          }\n        }\n        pop(parseFloat(parsedNum), stack, metaStack);\n        break;\n      case '\"':\n        parsedString = '';\n        lastCh = void 0;\n        numConsecutiveSlashes = 0;\n        while (true) {\n          ch = str[i++];\n          if (ch !== '\"' || (lastCh === '\\\\' &&\n              numConsecutiveSlashes % 2 === 1)) {\n            parsedString += ch;\n            lastCh = ch;\n            if (lastCh === '\\\\') {\n              numConsecutiveSlashes++;\n            } else {\n              numConsecutiveSlashes = 0;\n            }\n          } else {\n            break;\n          }\n        }\n        pop(JSON.parse('\"' + parsedString + '\"'), stack, metaStack);\n        break;\n      case '[':\n        arrayElement = { element: [], index: stack.length };\n        stack.push(arrayElement.element);\n        metaStack.push(arrayElement);\n        break;\n      case '{':\n        objElement = { element: {}, index: stack.length };\n        stack.push(objElement.element);\n        metaStack.push(objElement);\n        break;\n      default:\n        throw new Error(\n          'unexpectedly reached end of input: ' + collationIndex);\n    }\n  }\n};\n","import vuvuzela from 'vuvuzela';\n\nfunction safeJsonParse(str) {\n  // This try/catch guards against stack overflow errors.\n  // JSON.parse() is faster than vuvuzela.parse() but vuvuzela\n  // cannot overflow.\n  try {\n    return JSON.parse(str);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.parse(str);\n  }\n}\n\nfunction safeJsonStringify(json) {\n  try {\n    return JSON.stringify(json);\n  } catch (e) {\n    /* istanbul ignore next */\n    return vuvuzela.stringify(json);\n  }\n}\n\nexport { safeJsonParse, safeJsonStringify };\n","import { Map, Set } from 'pouchdb-collections';\nimport { assign, changesHandler, clone, filterChange, guardedConsole, hasLocalStorage, nextTick, pick, toPromise, uuid } from 'pouchdb-utils';\nimport { collectConflicts, compactTree, isDeleted, isLocalId, latest, traverseRevTree, winningRev } from 'pouchdb-merge';\nimport { IDB_ERROR, MISSING_DOC, MISSING_STUB, REV_CONFLICT, createError } from 'pouchdb-errors';\nimport { isLocalId as isLocalId$1, parseDoc, preprocessAttachments, processDocs } from 'pouchdb-adapter-utils';\nimport Promise from 'pouchdb-promise';\nimport { safeJsonParse, safeJsonStringify } from 'pouchdb-json';\nimport { base64StringToBlobOrBuffer, blob, btoa, readAsBinaryString } from 'pouchdb-binary-utils';\n\n// IndexedDB requires a versioned database structure, so we use the\n// version here to manage migrations.\nvar ADAPTER_VERSION = 5;\n\n// The object stores created for each database\n// DOC_STORE stores the document meta data, its revision history and state\n// Keyed by document id\nvar DOC_STORE = 'document-store';\n// BY_SEQ_STORE stores a particular version of a document, keyed by its\n// sequence id\nvar BY_SEQ_STORE = 'by-sequence';\n// Where we store attachments\nvar ATTACH_STORE = 'attach-store';\n// Where we store many-to-many relations\n// between attachment digests and seqs\nvar ATTACH_AND_SEQ_STORE = 'attach-seq-store';\n\n// Where we store database-wide meta data in a single record\n// keyed by id: META_STORE\nvar META_STORE = 'meta-store';\n// Where we store local documents\nvar LOCAL_STORE = 'local-store';\n// Where we detect blob support\nvar DETECT_BLOB_SUPPORT_STORE = 'detect-blob-support';\n\nfunction idbError(callback) {\n  return function (evt) {\n    var message = 'unknown_error';\n    if (evt.target && evt.target.error) {\n      message = evt.target.error.name || evt.target.error.message;\n    }\n    callback(createError(IDB_ERROR, message, evt.type));\n  };\n}\n\n// Unfortunately, the metadata has to be stringified\n// when it is put into the database, because otherwise\n// IndexedDB can throw errors for deeply-nested objects.\n// Originally we just used JSON.parse/JSON.stringify; now\n// we use this custom vuvuzela library that avoids recursion.\n// If we could do it all over again, we'd probably use a\n// format for the revision trees other than JSON.\nfunction encodeMetadata(metadata, winningRev$$1, deleted) {\n  return {\n    data: safeJsonStringify(metadata),\n    winningRev: winningRev$$1,\n    deletedOrLocal: deleted ? '1' : '0',\n    seq: metadata.seq, // highest seq for this doc\n    id: metadata.id\n  };\n}\n\nfunction decodeMetadata(storedObject) {\n  if (!storedObject) {\n    return null;\n  }\n  var metadata = safeJsonParse(storedObject.data);\n  metadata.winningRev = storedObject.winningRev;\n  metadata.deleted = storedObject.deletedOrLocal === '1';\n  metadata.seq = storedObject.seq;\n  return metadata;\n}\n\n// read the doc back out from the database. we don't store the\n// _id or _rev because we already have _doc_id_rev.\nfunction decodeDoc(doc) {\n  if (!doc) {\n    return doc;\n  }\n  var idx = doc._doc_id_rev.lastIndexOf(':');\n  doc._id = doc._doc_id_rev.substring(0, idx - 1);\n  doc._rev = doc._doc_id_rev.substring(idx + 1);\n  delete doc._doc_id_rev;\n  return doc;\n}\n\n// Read a blob from the database, encoding as necessary\n// and translating from base64 if the IDB doesn't support\n// native Blobs\nfunction readBlobData(body, type, asBlob, callback) {\n  if (asBlob) {\n    if (!body) {\n      callback(blob([''], {type: type}));\n    } else if (typeof body !== 'string') { // we have blob support\n      callback(body);\n    } else { // no blob support\n      callback(base64StringToBlobOrBuffer(body, type));\n    }\n  } else { // as base64 string\n    if (!body) {\n      callback('');\n    } else if (typeof body !== 'string') { // we have blob support\n      readAsBinaryString(body, function (binary) {\n        callback(btoa(binary));\n      });\n    } else { // no blob support\n      callback(body);\n    }\n  }\n}\n\nfunction fetchAttachmentsIfNecessary(doc, opts, txn, cb) {\n  var attachments = Object.keys(doc._attachments || {});\n  if (!attachments.length) {\n    return cb && cb();\n  }\n  var numDone = 0;\n\n  function checkDone() {\n    if (++numDone === attachments.length && cb) {\n      cb();\n    }\n  }\n\n  function fetchAttachment(doc, att) {\n    var attObj = doc._attachments[att];\n    var digest = attObj.digest;\n    var req = txn.objectStore(ATTACH_STORE).get(digest);\n    req.onsuccess = function (e) {\n      attObj.body = e.target.result.body;\n      checkDone();\n    };\n  }\n\n  attachments.forEach(function (att) {\n    if (opts.attachments && opts.include_docs) {\n      fetchAttachment(doc, att);\n    } else {\n      doc._attachments[att].stub = true;\n      checkDone();\n    }\n  });\n}\n\n// IDB-specific postprocessing necessary because\n// we don't know whether we stored a true Blob or\n// a base64-encoded string, and if it's a Blob it\n// needs to be read outside of the transaction context\nfunction postProcessAttachments(results, asBlob) {\n  return Promise.all(results.map(function (row) {\n    if (row.doc && row.doc._attachments) {\n      var attNames = Object.keys(row.doc._attachments);\n      return Promise.all(attNames.map(function (att) {\n        var attObj = row.doc._attachments[att];\n        if (!('body' in attObj)) { // already processed\n          return;\n        }\n        var body = attObj.body;\n        var type = attObj.content_type;\n        return new Promise(function (resolve) {\n          readBlobData(body, type, asBlob, function (data) {\n            row.doc._attachments[att] = assign(\n              pick(attObj, ['digest', 'content_type']),\n              {data: data}\n            );\n            resolve();\n          });\n        });\n      }));\n    }\n  }));\n}\n\nfunction compactRevs(revs, docId, txn) {\n\n  var possiblyOrphanedDigests = [];\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var attStore = txn.objectStore(ATTACH_STORE);\n  var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n  var count = revs.length;\n\n  function checkDone() {\n    count--;\n    if (!count) { // done processing all revs\n      deleteOrphanedAttachments();\n    }\n  }\n\n  function deleteOrphanedAttachments() {\n    if (!possiblyOrphanedDigests.length) {\n      return;\n    }\n    possiblyOrphanedDigests.forEach(function (digest) {\n      var countReq = attAndSeqStore.index('digestSeq').count(\n        IDBKeyRange.bound(\n          digest + '::', digest + '::\\uffff', false, false));\n      countReq.onsuccess = function (e) {\n        var count = e.target.result;\n        if (!count) {\n          // orphaned\n          attStore.delete(digest);\n        }\n      };\n    });\n  }\n\n  revs.forEach(function (rev) {\n    var index = seqStore.index('_doc_id_rev');\n    var key = docId + \"::\" + rev;\n    index.getKey(key).onsuccess = function (e) {\n      var seq = e.target.result;\n      if (typeof seq !== 'number') {\n        return checkDone();\n      }\n      seqStore.delete(seq);\n\n      var cursor = attAndSeqStore.index('seq')\n        .openCursor(IDBKeyRange.only(seq));\n\n      cursor.onsuccess = function (event) {\n        var cursor = event.target.result;\n        if (cursor) {\n          var digest = cursor.value.digestSeq.split('::')[0];\n          possiblyOrphanedDigests.push(digest);\n          attAndSeqStore.delete(cursor.primaryKey);\n          cursor.continue();\n        } else { // done\n          checkDone();\n        }\n      };\n    };\n  });\n}\n\nfunction openTransactionSafely(idb, stores, mode) {\n  try {\n    return {\n      txn: idb.transaction(stores, mode)\n    };\n  } catch (err) {\n    return {\n      error: err\n    };\n  }\n}\n\nvar changesHandler$1 = new changesHandler();\n\nfunction idbBulkDocs(dbOpts, req, opts, api, idb, callback) {\n  var docInfos = req.docs;\n  var txn;\n  var docStore;\n  var bySeqStore;\n  var attachStore;\n  var attachAndSeqStore;\n  var metaStore;\n  var docInfoError;\n  var metaDoc;\n\n  for (var i = 0, len = docInfos.length; i < len; i++) {\n    var doc = docInfos[i];\n    if (doc._id && isLocalId$1(doc._id)) {\n      continue;\n    }\n    doc = docInfos[i] = parseDoc(doc, opts.new_edits);\n    if (doc.error && !docInfoError) {\n      docInfoError = doc;\n    }\n  }\n\n  if (docInfoError) {\n    return callback(docInfoError);\n  }\n\n  var allDocsProcessed = false;\n  var docCountDelta = 0;\n  var results = new Array(docInfos.length);\n  var fetchedDocs = new Map();\n  var preconditionErrored = false;\n  var blobType = api._meta.blobSupport ? 'blob' : 'base64';\n\n  preprocessAttachments(docInfos, blobType, function (err) {\n    if (err) {\n      return callback(err);\n    }\n    startTransaction();\n  });\n\n  function startTransaction() {\n\n    var stores = [\n      DOC_STORE, BY_SEQ_STORE,\n      ATTACH_STORE,\n      LOCAL_STORE, ATTACH_AND_SEQ_STORE,\n      META_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    txn = txnResult.txn;\n    txn.onabort = idbError(callback);\n    txn.ontimeout = idbError(callback);\n    txn.oncomplete = complete;\n    docStore = txn.objectStore(DOC_STORE);\n    bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    attachStore = txn.objectStore(ATTACH_STORE);\n    attachAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n    metaStore = txn.objectStore(META_STORE);\n\n    metaStore.get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result;\n      updateDocCountIfReady();\n    };\n\n    verifyAttachments(function (err) {\n      if (err) {\n        preconditionErrored = true;\n        return callback(err);\n      }\n      fetchExistingDocs();\n    });\n  }\n\n  function onAllDocsProcessed() {\n    allDocsProcessed = true;\n    updateDocCountIfReady();\n  }\n\n  function idbProcessDocs() {\n    processDocs(dbOpts.revs_limit, docInfos, api, fetchedDocs,\n                txn, results, writeDoc, opts, onAllDocsProcessed);\n  }\n\n  function updateDocCountIfReady() {\n    if (!metaDoc || !allDocsProcessed) {\n      return;\n    }\n    // caching the docCount saves a lot of time in allDocs() and\n    // info(), which is why we go to all the trouble of doing this\n    metaDoc.docCount += docCountDelta;\n    metaStore.put(metaDoc);\n  }\n\n  function fetchExistingDocs() {\n\n    if (!docInfos.length) {\n      return;\n    }\n\n    var numFetched = 0;\n\n    function checkDone() {\n      if (++numFetched === docInfos.length) {\n        idbProcessDocs();\n      }\n    }\n\n    function readMetadata(event) {\n      var metadata = decodeMetadata(event.target.result);\n\n      if (metadata) {\n        fetchedDocs.set(metadata.id, metadata);\n      }\n      checkDone();\n    }\n\n    for (var i = 0, len = docInfos.length; i < len; i++) {\n      var docInfo = docInfos[i];\n      if (docInfo._id && isLocalId$1(docInfo._id)) {\n        checkDone(); // skip local docs\n        continue;\n      }\n      var req = docStore.get(docInfo.metadata.id);\n      req.onsuccess = readMetadata;\n    }\n  }\n\n  function complete() {\n    if (preconditionErrored) {\n      return;\n    }\n\n    changesHandler$1.notify(api._meta.name);\n    callback(null, results);\n  }\n\n  function verifyAttachment(digest, callback) {\n\n    var req = attachStore.get(digest);\n    req.onsuccess = function (e) {\n      if (!e.target.result) {\n        var err = createError(MISSING_STUB,\n          'unknown stub attachment with digest ' +\n          digest);\n        err.status = 412;\n        callback(err);\n      } else {\n        callback();\n      }\n    };\n  }\n\n  function verifyAttachments(finish) {\n\n\n    var digests = [];\n    docInfos.forEach(function (docInfo) {\n      if (docInfo.data && docInfo.data._attachments) {\n        Object.keys(docInfo.data._attachments).forEach(function (filename) {\n          var att = docInfo.data._attachments[filename];\n          if (att.stub) {\n            digests.push(att.digest);\n          }\n        });\n      }\n    });\n    if (!digests.length) {\n      return finish();\n    }\n    var numDone = 0;\n    var err;\n\n    function checkDone() {\n      if (++numDone === digests.length) {\n        finish(err);\n      }\n    }\n    digests.forEach(function (digest) {\n      verifyAttachment(digest, function (attErr) {\n        if (attErr && !err) {\n          err = attErr;\n        }\n        checkDone();\n      });\n    });\n  }\n\n  function writeDoc(docInfo, winningRev$$1, winningRevIsDeleted, newRevIsDeleted,\n                    isUpdate, delta, resultsIdx, callback) {\n\n    docInfo.metadata.winningRev = winningRev$$1;\n    docInfo.metadata.deleted = winningRevIsDeleted;\n\n    var doc = docInfo.data;\n    doc._id = docInfo.metadata.id;\n    doc._rev = docInfo.metadata.rev;\n\n    if (newRevIsDeleted) {\n      doc._deleted = true;\n    }\n\n    var hasAttachments = doc._attachments &&\n      Object.keys(doc._attachments).length;\n    if (hasAttachments) {\n      return writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n        isUpdate, resultsIdx, callback);\n    }\n\n    docCountDelta += delta;\n    updateDocCountIfReady();\n\n    finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n      isUpdate, resultsIdx, callback);\n  }\n\n  function finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n                     isUpdate, resultsIdx, callback) {\n\n    var doc = docInfo.data;\n    var metadata = docInfo.metadata;\n\n    doc._doc_id_rev = metadata.id + '::' + metadata.rev;\n    delete doc._id;\n    delete doc._rev;\n\n    function afterPutDoc(e) {\n      var revsToDelete = docInfo.stemmedRevs || [];\n\n      if (isUpdate && api.auto_compaction) {\n        revsToDelete = revsToDelete.concat(compactTree(docInfo.metadata));\n      }\n\n      if (revsToDelete && revsToDelete.length) {\n        compactRevs(revsToDelete, docInfo.metadata.id, txn);\n      }\n\n      metadata.seq = e.target.result;\n      // Current _rev is calculated from _rev_tree on read\n      // delete metadata.rev;\n      var metadataToStore = encodeMetadata(metadata, winningRev$$1,\n        winningRevIsDeleted);\n      var metaDataReq = docStore.put(metadataToStore);\n      metaDataReq.onsuccess = afterPutMetadata;\n    }\n\n    function afterPutDocError(e) {\n      // ConstraintError, need to update, not put (see #1638 for details)\n      e.preventDefault(); // avoid transaction abort\n      e.stopPropagation(); // avoid transaction onerror\n      var index = bySeqStore.index('_doc_id_rev');\n      var getKeyReq = index.getKey(doc._doc_id_rev);\n      getKeyReq.onsuccess = function (e) {\n        var putReq = bySeqStore.put(doc, e.target.result);\n        putReq.onsuccess = afterPutDoc;\n      };\n    }\n\n    function afterPutMetadata() {\n      results[resultsIdx] = {\n        ok: true,\n        id: metadata.id,\n        rev: metadata.rev\n      };\n      fetchedDocs.set(docInfo.metadata.id, docInfo.metadata);\n      insertAttachmentMappings(docInfo, metadata.seq, callback);\n    }\n\n    var putReq = bySeqStore.put(doc);\n\n    putReq.onsuccess = afterPutDoc;\n    putReq.onerror = afterPutDocError;\n  }\n\n  function writeAttachments(docInfo, winningRev$$1, winningRevIsDeleted,\n                            isUpdate, resultsIdx, callback) {\n\n\n    var doc = docInfo.data;\n\n    var numDone = 0;\n    var attachments = Object.keys(doc._attachments);\n\n    function collectResults() {\n      if (numDone === attachments.length) {\n        finishDoc(docInfo, winningRev$$1, winningRevIsDeleted,\n          isUpdate, resultsIdx, callback);\n      }\n    }\n\n    function attachmentSaved() {\n      numDone++;\n      collectResults();\n    }\n\n    attachments.forEach(function (key) {\n      var att = docInfo.data._attachments[key];\n      if (!att.stub) {\n        var data = att.data;\n        delete att.data;\n        att.revpos = parseInt(winningRev$$1, 10);\n        var digest = att.digest;\n        saveAttachment(digest, data, attachmentSaved);\n      } else {\n        numDone++;\n        collectResults();\n      }\n    });\n  }\n\n  // map seqs to attachment digests, which\n  // we will need later during compaction\n  function insertAttachmentMappings(docInfo, seq, callback) {\n\n    var attsAdded = 0;\n    var attsToAdd = Object.keys(docInfo.data._attachments || {});\n\n    if (!attsToAdd.length) {\n      return callback();\n    }\n\n    function checkDone() {\n      if (++attsAdded === attsToAdd.length) {\n        callback();\n      }\n    }\n\n    function add(att) {\n      var digest = docInfo.data._attachments[att].digest;\n      var req = attachAndSeqStore.put({\n        seq: seq,\n        digestSeq: digest + '::' + seq\n      });\n\n      req.onsuccess = checkDone;\n      req.onerror = function (e) {\n        // this callback is for a constaint error, which we ignore\n        // because this docid/rev has already been associated with\n        // the digest (e.g. when new_edits == false)\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n        checkDone();\n      };\n    }\n    for (var i = 0; i < attsToAdd.length; i++) {\n      add(attsToAdd[i]); // do in parallel\n    }\n  }\n\n  function saveAttachment(digest, data, callback) {\n\n\n    var getKeyReq = attachStore.count(digest);\n    getKeyReq.onsuccess = function (e) {\n      var count = e.target.result;\n      if (count) {\n        return callback(); // already exists\n      }\n      var newAtt = {\n        digest: digest,\n        body: data\n      };\n      var putReq = attachStore.put(newAtt);\n      putReq.onsuccess = callback;\n    };\n  }\n}\n\n// Abstraction over IDBCursor and getAll()/getAllKeys() that allows us to batch our operations\n// while falling back to a normal IDBCursor operation on browsers that don't support getAll() or\n// getAllKeys(). This allows for a much faster implementation than just straight-up cursors, because\n// we're not processing each document one-at-a-time.\nfunction runBatchedCursor(objectStore, keyRange, descending, batchSize, onBatch) {\n\n  // Bail out of getAll()/getAllKeys() in the following cases:\n  // 1) either method is unsupported - we need both\n  // 2) batchSize is 1 (might as well use IDBCursor), or batchSize is -1 (i.e. batchSize unlimited,\n  //    not really clear the user wants a batched approach where the entire DB is read into memory,\n  //    perhaps they are filtering on a per-doc basis)\n  // 3) descending  no real way to do this via getAll()/getAllKeys()\n\n  var useGetAll = typeof objectStore.getAll === 'function' &&\n    typeof objectStore.getAllKeys === 'function' &&\n    batchSize > 1 && !descending;\n\n  var keysBatch;\n  var valuesBatch;\n  var pseudoCursor;\n\n  function onGetAll(e) {\n    valuesBatch = e.target.result;\n    if (keysBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function onGetAllKeys(e) {\n    keysBatch = e.target.result;\n    if (valuesBatch) {\n      onBatch(keysBatch, valuesBatch, pseudoCursor);\n    }\n  }\n\n  function continuePseudoCursor() {\n    if (!keysBatch.length) { // no more results\n      return onBatch();\n    }\n    // fetch next batch, exclusive start\n    var lastKey = keysBatch[keysBatch.length - 1];\n    var newKeyRange;\n    if (keyRange && keyRange.upper) {\n      try {\n        newKeyRange = IDBKeyRange.bound(lastKey, keyRange.upper,\n          true, keyRange.upperOpen);\n      } catch (e) {\n        if (e.name === \"DataError\" && e.code === 0) {\n          return onBatch(); // we're done, startkey and endkey are equal\n        }\n      }\n    } else {\n      newKeyRange = IDBKeyRange.lowerBound(lastKey, true);\n    }\n    keyRange = newKeyRange;\n    keysBatch = null;\n    valuesBatch = null;\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  }\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (!cursor) { // done\n      return onBatch();\n    }\n    // regular IDBCursor acts like a batch where batch size is always 1\n    onBatch([cursor.key], [cursor.value], cursor);\n  }\n\n  if (useGetAll) {\n    pseudoCursor = {\"continue\": continuePseudoCursor};\n    objectStore.getAll(keyRange, batchSize).onsuccess = onGetAll;\n    objectStore.getAllKeys(keyRange, batchSize).onsuccess = onGetAllKeys;\n  } else if (descending) {\n    objectStore.openCursor(keyRange, 'prev').onsuccess = onCursor;\n  } else {\n    objectStore.openCursor(keyRange).onsuccess = onCursor;\n  }\n}\n\n// simple shim for objectStore.getAll(), falling back to IDBCursor\nfunction getAll(objectStore, keyRange, onSuccess) {\n  if (typeof objectStore.getAll === 'function') {\n    // use native getAll\n    objectStore.getAll(keyRange).onsuccess = onSuccess;\n    return;\n  }\n  // fall back to cursors\n  var values = [];\n\n  function onCursor(e) {\n    var cursor = e.target.result;\n    if (cursor) {\n      values.push(cursor.value);\n      cursor.continue();\n    } else {\n      onSuccess({\n        target: {\n          result: values\n        }\n      });\n    }\n  }\n\n  objectStore.openCursor(keyRange).onsuccess = onCursor;\n}\n\nfunction createKeyRange(start, end, inclusiveEnd, key, descending) {\n  try {\n    if (start && end) {\n      if (descending) {\n        return IDBKeyRange.bound(end, start, !inclusiveEnd, false);\n      } else {\n        return IDBKeyRange.bound(start, end, false, !inclusiveEnd);\n      }\n    } else if (start) {\n      if (descending) {\n        return IDBKeyRange.upperBound(start);\n      } else {\n        return IDBKeyRange.lowerBound(start);\n      }\n    } else if (end) {\n      if (descending) {\n        return IDBKeyRange.lowerBound(end, !inclusiveEnd);\n      } else {\n        return IDBKeyRange.upperBound(end, !inclusiveEnd);\n      }\n    } else if (key) {\n      return IDBKeyRange.only(key);\n    }\n  } catch (e) {\n    return {error: e};\n  }\n  return null;\n}\n\nfunction idbAllDocs(opts, idb, callback) {\n  var start = 'startkey' in opts ? opts.startkey : false;\n  var end = 'endkey' in opts ? opts.endkey : false;\n  var key = 'key' in opts ? opts.key : false;\n  var skip = opts.skip || 0;\n  var limit = typeof opts.limit === 'number' ? opts.limit : -1;\n  var inclusiveEnd = opts.inclusive_end !== false;\n\n  var keyRange = createKeyRange(start, end, inclusiveEnd, key, opts.descending);\n  var keyRangeError = keyRange && keyRange.error;\n  if (keyRangeError && !(keyRangeError.name === \"DataError\" &&\n      keyRangeError.code === 0)) {\n    // DataError with error code 0 indicates start is less than end, so\n    // can just do an empty query. Else need to throw\n    return callback(createError(IDB_ERROR,\n      keyRangeError.name, keyRangeError.message));\n  }\n\n  var stores = [DOC_STORE, BY_SEQ_STORE, META_STORE];\n\n  if (opts.attachments) {\n    stores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, stores, 'readonly');\n  if (txnResult.error) {\n    return callback(txnResult.error);\n  }\n  var txn = txnResult.txn;\n  txn.oncomplete = onTxnComplete;\n  txn.onabort = idbError(callback);\n  var docStore = txn.objectStore(DOC_STORE);\n  var seqStore = txn.objectStore(BY_SEQ_STORE);\n  var metaStore = txn.objectStore(META_STORE);\n  var docIdRevIndex = seqStore.index('_doc_id_rev');\n  var results = [];\n  var docCount;\n\n  metaStore.get(META_STORE).onsuccess = function (e) {\n    docCount = e.target.result.docCount;\n  };\n\n  // if the user specifies include_docs=true, then we don't\n  // want to block the main cursor while we're fetching the doc\n  function fetchDocAsynchronously(metadata, row, winningRev$$1) {\n    var key = metadata.id + \"::\" + winningRev$$1;\n    docIdRevIndex.get(key).onsuccess =  function onGetDoc(e) {\n      row.doc = decodeDoc(e.target.result);\n      if (opts.conflicts) {\n        var conflicts = collectConflicts(metadata);\n        if (conflicts.length) {\n          row.doc._conflicts = conflicts;\n        }\n      }\n      fetchAttachmentsIfNecessary(row.doc, opts, txn);\n    };\n  }\n\n  function allDocsInner(winningRev$$1, metadata) {\n    var row = {\n      id: metadata.id,\n      key: metadata.id,\n      value: {\n        rev: winningRev$$1\n      }\n    };\n    var deleted = metadata.deleted;\n    if (opts.deleted === 'ok') {\n      results.push(row);\n      // deleted docs are okay with \"keys\" requests\n      if (deleted) {\n        row.value.deleted = true;\n        row.doc = null;\n      } else if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    } else if (!deleted && skip-- <= 0) {\n      results.push(row);\n      if (opts.include_docs) {\n        fetchDocAsynchronously(metadata, row, winningRev$$1);\n      }\n    }\n  }\n\n  function processBatch(batchValues) {\n    for (var i = 0, len = batchValues.length; i < len; i++) {\n      if (results.length === limit) {\n        break;\n      }\n      var batchValue = batchValues[i];\n      var metadata = decodeMetadata(batchValue);\n      var winningRev$$1 = metadata.winningRev;\n      allDocsInner(winningRev$$1, metadata);\n    }\n  }\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor) {\n      return;\n    }\n    processBatch(batchValues);\n    if (results.length < limit) {\n      cursor.continue();\n    }\n  }\n\n  function onGetAll(e) {\n    var values = e.target.result;\n    if (opts.descending) {\n      values = values.reverse();\n    }\n    processBatch(values);\n  }\n\n  function onResultsReady() {\n    callback(null, {\n      total_rows: docCount,\n      offset: opts.skip,\n      rows: results\n    });\n  }\n\n  function onTxnComplete() {\n    if (opts.attachments) {\n      postProcessAttachments(results, opts.binary).then(onResultsReady);\n    } else {\n      onResultsReady();\n    }\n  }\n\n  // don't bother doing any requests if start > end or limit === 0\n  if (keyRangeError || limit === 0) {\n    return;\n  }\n  if (limit === -1) { // just fetch everything\n    return getAll(docStore, keyRange, onGetAll);\n  }\n  // else do a cursor\n  // choose a batch size based on the skip, since we'll need to skip that many\n  runBatchedCursor(docStore, keyRange, opts.descending, limit + skip, onBatch);\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\nfunction checkBlobSupport(txn) {\n  return new Promise(function (resolve) {\n    var blob$$1 = blob(['']);\n    var req = txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1, 'key');\n\n    req.onsuccess = function () {\n      var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n      var matchedEdge = navigator.userAgent.match(/Edge\\//);\n      // MS Edge pretends to be Chrome 42:\n      // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n      resolve(matchedEdge || !matchedChrome ||\n        parseInt(matchedChrome[1], 10) >= 43);\n    };\n\n    txn.onabort = function (e) {\n      // If the transaction aborts now its due to not being able to\n      // write to the database, likely due to the disk being full\n      e.preventDefault();\n      e.stopPropagation();\n      resolve(false);\n    };\n  }).catch(function () {\n    return false; // error, so assume unsupported\n  });\n}\n\nfunction countDocs(txn, cb) {\n  var index = txn.objectStore(DOC_STORE).index('deletedOrLocal');\n  index.count(IDBKeyRange.only('0')).onsuccess = function (e) {\n    cb(e.target.result);\n  };\n}\n\n// This task queue ensures that IDB open calls are done in their own tick\n// and sequentially - i.e. we wait for the async IDB open to *fully* complete\n// before calling the next one. This works around IE/Edge race conditions in IDB.\n\nvar running = false;\nvar queue = [];\n\nfunction tryCode(fun, err, res, PouchDB) {\n  try {\n    fun(err, res);\n  } catch (err) {\n    // Shouldn't happen, but in some odd cases\n    // IndexedDB implementations might throw a sync\n    // error, in which case this will at least log it.\n    PouchDB.emit('error', err);\n  }\n}\n\nfunction applyNext() {\n  if (running || !queue.length) {\n    return;\n  }\n  running = true;\n  queue.shift()();\n}\n\nfunction enqueueTask(action, callback, PouchDB) {\n  queue.push(function runAction() {\n    action(function runCallback(err, res) {\n      tryCode(callback, err, res, PouchDB);\n      running = false;\n      nextTick(function runNext() {\n        applyNext(PouchDB);\n      });\n    });\n  });\n  applyNext();\n}\n\nfunction changes(opts, api, dbName, idb) {\n  opts = clone(opts);\n\n  if (opts.continuous) {\n    var id = dbName + ':' + uuid();\n    changesHandler$1.addListener(dbName, id, api, opts);\n    changesHandler$1.notify(dbName);\n    return {\n      cancel: function () {\n        changesHandler$1.removeListener(dbName, id);\n      }\n    };\n  }\n\n  var docIds = opts.doc_ids && new Set(opts.doc_ids);\n\n  opts.since = opts.since || 0;\n  var lastSeq = opts.since;\n\n  var limit = 'limit' in opts ? opts.limit : -1;\n  if (limit === 0) {\n    limit = 1; // per CouchDB _changes spec\n  }\n  var returnDocs;\n  if ('return_docs' in opts) {\n    returnDocs = opts.return_docs;\n  } else if ('returnDocs' in opts) {\n    // TODO: Remove 'returnDocs' in favor of 'return_docs' in a future release\n    returnDocs = opts.returnDocs;\n  } else {\n    returnDocs = true;\n  }\n\n  var results = [];\n  var numResults = 0;\n  var filter = filterChange(opts);\n  var docIdsToMetadata = new Map();\n\n  var txn;\n  var bySeqStore;\n  var docStore;\n  var docIdRevIndex;\n\n  function onBatch(batchKeys, batchValues, cursor) {\n    if (!cursor || !batchKeys.length) { // done\n      return;\n    }\n\n    var winningDocs = new Array(batchKeys.length);\n    var metadatas = new Array(batchKeys.length);\n\n    function processMetadataAndWinningDoc(metadata, winningDoc) {\n      var change = opts.processChange(winningDoc, metadata, opts);\n      lastSeq = change.seq = metadata.seq;\n\n      var filtered = filter(change);\n      if (typeof filtered === 'object') { // anything but true/false indicates error\n        return opts.complete(filtered);\n      }\n\n      if (filtered) {\n        numResults++;\n        if (returnDocs) {\n          results.push(change);\n        }\n        // process the attachment immediately\n        // for the benefit of live listeners\n        if (opts.attachments && opts.include_docs) {\n          fetchAttachmentsIfNecessary(winningDoc, opts, txn, function () {\n            postProcessAttachments([change], opts.binary).then(function () {\n              opts.onChange(change);\n            });\n          });\n        } else {\n          opts.onChange(change);\n        }\n      }\n    }\n\n    function onBatchDone() {\n      for (var i = 0, len = winningDocs.length; i < len; i++) {\n        if (numResults === limit) {\n          break;\n        }\n        var winningDoc = winningDocs[i];\n        if (!winningDoc) {\n          continue;\n        }\n        var metadata = metadatas[i];\n        processMetadataAndWinningDoc(metadata, winningDoc);\n      }\n\n      if (numResults !== limit) {\n        cursor.continue();\n      }\n    }\n\n    // Fetch all metadatas/winningdocs from this batch in parallel, then process\n    // them all only once all data has been collected. This is done in parallel\n    // because it's faster than doing it one-at-a-time.\n    var numDone = 0;\n    batchValues.forEach(function (value, i) {\n      var doc = decodeDoc(value);\n      var seq = batchKeys[i];\n      fetchWinningDocAndMetadata(doc, seq, function (metadata, winningDoc) {\n        metadatas[i] = metadata;\n        winningDocs[i] = winningDoc;\n        if (++numDone === batchKeys.length) {\n          onBatchDone();\n        }\n      });\n    });\n  }\n\n  function onGetMetadata(doc, seq, metadata, cb) {\n    if (metadata.seq !== seq) {\n      // some other seq is later\n      return cb();\n    }\n\n    if (metadata.winningRev === doc._rev) {\n      // this is the winning doc\n      return cb(metadata, doc);\n    }\n\n    // fetch winning doc in separate request\n    var docIdRev = doc._id + '::' + metadata.winningRev;\n    var req = docIdRevIndex.get(docIdRev);\n    req.onsuccess = function (e) {\n      cb(metadata, decodeDoc(e.target.result));\n    };\n  }\n\n  function fetchWinningDocAndMetadata(doc, seq, cb) {\n    if (docIds && !docIds.has(doc._id)) {\n      return cb();\n    }\n\n    var metadata = docIdsToMetadata.get(doc._id);\n    if (metadata) { // cached\n      return onGetMetadata(doc, seq, metadata, cb);\n    }\n    // metadata not cached, have to go fetch it\n    docStore.get(doc._id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      docIdsToMetadata.set(doc._id, metadata);\n      onGetMetadata(doc, seq, metadata, cb);\n    };\n  }\n\n  function finish() {\n    opts.complete(null, {\n      results: results,\n      last_seq: lastSeq\n    });\n  }\n\n  function onTxnComplete() {\n    if (!opts.continuous && opts.attachments) {\n      // cannot guarantee that postProcessing was already done,\n      // so do it again\n      postProcessAttachments(results).then(finish);\n    } else {\n      finish();\n    }\n  }\n\n  var objectStores = [DOC_STORE, BY_SEQ_STORE];\n  if (opts.attachments) {\n    objectStores.push(ATTACH_STORE);\n  }\n  var txnResult = openTransactionSafely(idb, objectStores, 'readonly');\n  if (txnResult.error) {\n    return opts.complete(txnResult.error);\n  }\n  txn = txnResult.txn;\n  txn.onabort = idbError(opts.complete);\n  txn.oncomplete = onTxnComplete;\n\n  bySeqStore = txn.objectStore(BY_SEQ_STORE);\n  docStore = txn.objectStore(DOC_STORE);\n  docIdRevIndex = bySeqStore.index('_doc_id_rev');\n\n  var keyRange = (opts.since && !opts.descending) ?\n    IDBKeyRange.lowerBound(opts.since, true) : null;\n\n  runBatchedCursor(bySeqStore, keyRange, opts.descending, limit, onBatch);\n}\n\nvar cachedDBs = new Map();\nvar blobSupportPromise;\nvar openReqList = new Map();\n\nfunction IdbPouch(opts, callback) {\n  var api = this;\n\n  enqueueTask(function (thisCallback) {\n    init(api, opts, thisCallback);\n  }, callback, api.constructor);\n}\n\nfunction init(api, opts, callback) {\n\n  var dbName = opts.name;\n\n  var idb = null;\n  api._meta = null;\n\n  // called when creating a fresh new database\n  function createSchema(db) {\n    var docStore = db.createObjectStore(DOC_STORE, {keyPath : 'id'});\n    db.createObjectStore(BY_SEQ_STORE, {autoIncrement: true})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n    db.createObjectStore(ATTACH_STORE, {keyPath: 'digest'});\n    db.createObjectStore(META_STORE, {keyPath: 'id', autoIncrement: false});\n    db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n\n    // added in v2\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    // added in v3\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'});\n\n    // added in v4\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 2\n  // unfortunately \"deletedOrLocal\" is a misnomer now that we no longer\n  // store local docs in the main doc-store, but whaddyagonnado\n  function addDeletedOrLocalIndex(txn, callback) {\n    var docStore = txn.objectStore(DOC_STORE);\n    docStore.createIndex('deletedOrLocal', 'deletedOrLocal', {unique : false});\n\n    docStore.openCursor().onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var deleted = isDeleted(metadata);\n        metadata.deletedOrLocal = deleted ? \"1\" : \"0\";\n        docStore.put(metadata);\n        cursor.continue();\n      } else {\n        callback();\n      }\n    };\n  }\n\n  // migration to version 3 (part 1)\n  function createLocalStoreSchema(db) {\n    db.createObjectStore(LOCAL_STORE, {keyPath: '_id'})\n      .createIndex('_doc_id_rev', '_doc_id_rev', {unique: true});\n  }\n\n  // migration to version 3 (part 2)\n  function migrateLocalStore(txn, cb) {\n    var localStore = txn.objectStore(LOCAL_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (event) {\n      var cursor = event.target.result;\n      if (cursor) {\n        var metadata = cursor.value;\n        var docId = metadata.id;\n        var local = isLocalId(docId);\n        var rev = winningRev(metadata);\n        if (local) {\n          var docIdRev = docId + \"::\" + rev;\n          // remove all seq entries\n          // associated with this docId\n          var start = docId + \"::\";\n          var end = docId + \"::~\";\n          var index = seqStore.index('_doc_id_rev');\n          var range = IDBKeyRange.bound(start, end, false, false);\n          var seqCursor = index.openCursor(range);\n          seqCursor.onsuccess = function (e) {\n            seqCursor = e.target.result;\n            if (!seqCursor) {\n              // done\n              docStore.delete(cursor.primaryKey);\n              cursor.continue();\n            } else {\n              var data = seqCursor.value;\n              if (data._doc_id_rev === docIdRev) {\n                localStore.put(data);\n              }\n              seqStore.delete(seqCursor.primaryKey);\n              seqCursor.continue();\n            }\n          };\n        } else {\n          cursor.continue();\n        }\n      } else if (cb) {\n        cb();\n      }\n    };\n  }\n\n  // migration to version 4 (part 1)\n  function addAttachAndSeqStore(db) {\n    var attAndSeqStore = db.createObjectStore(ATTACH_AND_SEQ_STORE,\n      {autoIncrement: true});\n    attAndSeqStore.createIndex('seq', 'seq');\n    attAndSeqStore.createIndex('digestSeq', 'digestSeq', {unique: true});\n  }\n\n  // migration to version 4 (part 2)\n  function migrateAttsAndSeqs(txn, callback) {\n    var seqStore = txn.objectStore(BY_SEQ_STORE);\n    var attStore = txn.objectStore(ATTACH_STORE);\n    var attAndSeqStore = txn.objectStore(ATTACH_AND_SEQ_STORE);\n\n    // need to actually populate the table. this is the expensive part,\n    // so as an optimization, check first that this database even\n    // contains attachments\n    var req = attStore.count();\n    req.onsuccess = function (e) {\n      var count = e.target.result;\n      if (!count) {\n        return callback(); // done\n      }\n\n      seqStore.openCursor().onsuccess = function (e) {\n        var cursor = e.target.result;\n        if (!cursor) {\n          return callback(); // done\n        }\n        var doc = cursor.value;\n        var seq = cursor.primaryKey;\n        var atts = Object.keys(doc._attachments || {});\n        var digestMap = {};\n        for (var j = 0; j < atts.length; j++) {\n          var att = doc._attachments[atts[j]];\n          digestMap[att.digest] = true; // uniq digests, just in case\n        }\n        var digests = Object.keys(digestMap);\n        for (j = 0; j < digests.length; j++) {\n          var digest = digests[j];\n          attAndSeqStore.put({\n            seq: seq,\n            digestSeq: digest + '::' + seq\n          });\n        }\n        cursor.continue();\n      };\n    };\n  }\n\n  // migration to version 5\n  // Instead of relying on on-the-fly migration of metadata,\n  // this brings the doc-store to its modern form:\n  // - metadata.winningrev\n  // - metadata.seq\n  // - stringify the metadata when storing it\n  function migrateMetadata(txn) {\n\n    function decodeMetadataCompat(storedObject) {\n      if (!storedObject.data) {\n        // old format, when we didn't store it stringified\n        storedObject.deleted = storedObject.deletedOrLocal === '1';\n        return storedObject;\n      }\n      return decodeMetadata(storedObject);\n    }\n\n    // ensure that every metadata has a winningRev and seq,\n    // which was previously created on-the-fly but better to migrate\n    var bySeqStore = txn.objectStore(BY_SEQ_STORE);\n    var docStore = txn.objectStore(DOC_STORE);\n    var cursor = docStore.openCursor();\n    cursor.onsuccess = function (e) {\n      var cursor = e.target.result;\n      if (!cursor) {\n        return; // done\n      }\n      var metadata = decodeMetadataCompat(cursor.value);\n\n      metadata.winningRev = metadata.winningRev ||\n        winningRev(metadata);\n\n      function fetchMetadataSeq() {\n        // metadata.seq was added post-3.2.0, so if it's missing,\n        // we need to fetch it manually\n        var start = metadata.id + '::';\n        var end = metadata.id + '::\\uffff';\n        var req = bySeqStore.index('_doc_id_rev').openCursor(\n          IDBKeyRange.bound(start, end));\n\n        var metadataSeq = 0;\n        req.onsuccess = function (e) {\n          var cursor = e.target.result;\n          if (!cursor) {\n            metadata.seq = metadataSeq;\n            return onGetMetadataSeq();\n          }\n          var seq = cursor.primaryKey;\n          if (seq > metadataSeq) {\n            metadataSeq = seq;\n          }\n          cursor.continue();\n        };\n      }\n\n      function onGetMetadataSeq() {\n        var metadataToStore = encodeMetadata(metadata,\n          metadata.winningRev, metadata.deleted);\n\n        var req = docStore.put(metadataToStore);\n        req.onsuccess = function () {\n          cursor.continue();\n        };\n      }\n\n      if (metadata.seq) {\n        return onGetMetadataSeq();\n      }\n\n      fetchMetadataSeq();\n    };\n\n  }\n\n  api._remote = false;\n  api.type = function () {\n    return 'idb';\n  };\n\n  api._id = toPromise(function (callback) {\n    callback(null, api._meta.instanceId);\n  });\n\n  api._bulkDocs = function idb_bulkDocs(req, reqOpts, callback) {\n    idbBulkDocs(opts, req, reqOpts, api, idb, callback);\n  };\n\n  // First we look up the metadata in the ids database, then we fetch the\n  // current revision(s) from the by sequence store\n  api._get = function idb_get(id, opts, callback) {\n    var doc;\n    var metadata;\n    var err;\n    var txn = opts.ctx;\n    if (!txn) {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n\n    function finish() {\n      callback(err, {doc: doc, metadata: metadata, ctx: txn});\n    }\n\n    txn.objectStore(DOC_STORE).get(id).onsuccess = function (e) {\n      metadata = decodeMetadata(e.target.result);\n      // we can determine the result here if:\n      // 1. there is no such document\n      // 2. the document is deleted and we don't ask about specific rev\n      // When we ask with opts.rev we expect the answer to be either\n      // doc (possibly with _deleted=true) or missing error\n      if (!metadata) {\n        err = createError(MISSING_DOC, 'missing');\n        return finish();\n      }\n\n      var rev;\n      if (!opts.rev) {\n        rev = metadata.winningRev;\n        var deleted = isDeleted(metadata);\n        if (deleted) {\n          err = createError(MISSING_DOC, \"deleted\");\n          return finish();\n        }\n      } else {\n        rev = opts.latest ? latest(opts.rev, metadata) : opts.rev;\n      }\n\n      var objectStore = txn.objectStore(BY_SEQ_STORE);\n      var key = metadata.id + '::' + rev;\n\n      objectStore.index('_doc_id_rev').get(key).onsuccess = function (e) {\n        doc = e.target.result;\n        if (doc) {\n          doc = decodeDoc(doc);\n        }\n        if (!doc) {\n          err = createError(MISSING_DOC, 'missing');\n          return finish();\n        }\n        finish();\n      };\n    };\n  };\n\n  api._getAttachment = function (docId, attachId, attachment, opts, callback) {\n    var txn;\n    if (opts.ctx) {\n      txn = opts.ctx;\n    } else {\n      var txnResult = openTransactionSafely(idb,\n        [DOC_STORE, BY_SEQ_STORE, ATTACH_STORE], 'readonly');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      txn = txnResult.txn;\n    }\n    var digest = attachment.digest;\n    var type = attachment.content_type;\n\n    txn.objectStore(ATTACH_STORE).get(digest).onsuccess = function (e) {\n      var body = e.target.result.body;\n      readBlobData(body, type, opts.binary, function (blobData) {\n        callback(null, blobData);\n      });\n    };\n  };\n\n  api._info = function idb_info(callback) {\n    var updateSeq;\n    var docCount;\n\n    var txnResult = openTransactionSafely(idb, [META_STORE, BY_SEQ_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      docCount = e.target.result.docCount;\n    };\n    txn.objectStore(BY_SEQ_STORE).openCursor(null, 'prev').onsuccess = function (e) {\n      var cursor = e.target.result;\n      updateSeq = cursor ? cursor.key : 0;\n    };\n\n    txn.oncomplete = function () {\n      callback(null, {\n        doc_count: docCount,\n        update_seq: updateSeq,\n        // for debugging\n        idb_attachment_format: (api._meta.blobSupport ? 'binary' : 'base64')\n      });\n    };\n  };\n\n  api._allDocs = function idb_allDocs(opts, callback) {\n    idbAllDocs(opts, idb, callback);\n  };\n\n  api._changes = function idbChanges(opts) {\n    return changes(opts, api, dbName, idb);\n  };\n\n  api._close = function (callback) {\n    // https://developer.mozilla.org/en-US/docs/IndexedDB/IDBDatabase#close\n    // \"Returns immediately and closes the connection in a separate thread...\"\n    idb.close();\n    cachedDBs.delete(dbName);\n    callback();\n  };\n\n  api._getRevisionTree = function (docId, callback) {\n    var txnResult = openTransactionSafely(idb, [DOC_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n    var req = txn.objectStore(DOC_STORE).get(docId);\n    req.onsuccess = function (event) {\n      var doc = decodeMetadata(event.target.result);\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        callback(null, doc.rev_tree);\n      }\n    };\n  };\n\n  // This function removes revisions of document docId\n  // which are listed in revs and sets this document\n  // revision to to rev_tree\n  api._doCompaction = function (docId, revs, callback) {\n    var stores = [\n      DOC_STORE,\n      BY_SEQ_STORE,\n      ATTACH_STORE,\n      ATTACH_AND_SEQ_STORE\n    ];\n    var txnResult = openTransactionSafely(idb, stores, 'readwrite');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var txn = txnResult.txn;\n\n    var docStore = txn.objectStore(DOC_STORE);\n\n    docStore.get(docId).onsuccess = function (event) {\n      var metadata = decodeMetadata(event.target.result);\n      traverseRevTree(metadata.rev_tree, function (isLeaf, pos,\n                                                         revHash, ctx, opts) {\n        var rev = pos + '-' + revHash;\n        if (revs.indexOf(rev) !== -1) {\n          opts.status = 'missing';\n        }\n      });\n      compactRevs(revs, docId, txn);\n      var winningRev$$1 = metadata.winningRev;\n      var deleted = metadata.deleted;\n      txn.objectStore(DOC_STORE).put(\n        encodeMetadata(metadata, winningRev$$1, deleted));\n    };\n    txn.onabort = idbError(callback);\n    txn.oncomplete = function () {\n      callback();\n    };\n  };\n\n\n  api._getLocal = function (id, callback) {\n    var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readonly');\n    if (txnResult.error) {\n      return callback(txnResult.error);\n    }\n    var tx = txnResult.txn;\n    var req = tx.objectStore(LOCAL_STORE).get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var doc = e.target.result;\n      if (!doc) {\n        callback(createError(MISSING_DOC));\n      } else {\n        delete doc['_doc_id_rev']; // for backwards compat\n        callback(null, doc);\n      }\n    };\n  };\n\n  api._putLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    delete doc._revisions; // ignore this, trust the rev\n    var oldRev = doc._rev;\n    var id = doc._id;\n    if (!oldRev) {\n      doc._rev = '0-1';\n    } else {\n      doc._rev = '0-' + (parseInt(oldRev.split('-')[1], 10) + 1);\n    }\n\n    var tx = opts.ctx;\n    var ret;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.onerror = idbError(callback);\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req;\n    if (oldRev) {\n      req = oStore.get(id);\n      req.onsuccess = function (e) {\n        var oldDoc = e.target.result;\n        if (!oldDoc || oldDoc._rev !== oldRev) {\n          callback(createError(REV_CONFLICT));\n        } else { // update\n          var req = oStore.put(doc);\n          req.onsuccess = function () {\n            ret = {ok: true, id: doc._id, rev: doc._rev};\n            if (opts.ctx) { // return immediately\n              callback(null, ret);\n            }\n          };\n        }\n      };\n    } else { // new doc\n      req = oStore.add(doc);\n      req.onerror = function (e) {\n        // constraint error, already exists\n        callback(createError(REV_CONFLICT));\n        e.preventDefault(); // avoid transaction abort\n        e.stopPropagation(); // avoid transaction onerror\n      };\n      req.onsuccess = function () {\n        ret = {ok: true, id: doc._id, rev: doc._rev};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      };\n    }\n  };\n\n  api._removeLocal = function (doc, opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var tx = opts.ctx;\n    if (!tx) {\n      var txnResult = openTransactionSafely(idb, [LOCAL_STORE], 'readwrite');\n      if (txnResult.error) {\n        return callback(txnResult.error);\n      }\n      tx = txnResult.txn;\n      tx.oncomplete = function () {\n        if (ret) {\n          callback(null, ret);\n        }\n      };\n    }\n    var ret;\n    var id = doc._id;\n    var oStore = tx.objectStore(LOCAL_STORE);\n    var req = oStore.get(id);\n\n    req.onerror = idbError(callback);\n    req.onsuccess = function (e) {\n      var oldDoc = e.target.result;\n      if (!oldDoc || oldDoc._rev !== doc._rev) {\n        callback(createError(MISSING_DOC));\n      } else {\n        oStore.delete(id);\n        ret = {ok: true, id: id, rev: '0-0'};\n        if (opts.ctx) { // return immediately\n          callback(null, ret);\n        }\n      }\n    };\n  };\n\n  api._destroy = function (opts, callback) {\n    changesHandler$1.removeAllListeners(dbName);\n\n    //Close open request for \"dbName\" database to fix ie delay.\n    var openReq = openReqList.get(dbName);\n    if (openReq && openReq.result) {\n      openReq.result.close();\n      cachedDBs.delete(dbName);\n    }\n    var req = indexedDB.deleteDatabase(dbName);\n\n    req.onsuccess = function () {\n      //Remove open request from the list.\n      openReqList.delete(dbName);\n      if (hasLocalStorage() && (dbName in localStorage)) {\n        delete localStorage[dbName];\n      }\n      callback(null, { 'ok': true });\n    };\n\n    req.onerror = idbError(callback);\n  };\n\n  var cached = cachedDBs.get(dbName);\n\n  if (cached) {\n    idb = cached.idb;\n    api._meta = cached.global;\n    return nextTick(function () {\n      callback(null, api);\n    });\n  }\n\n  var req;\n  if (opts.storage) {\n    req = tryStorageOption(dbName, opts.storage);\n  } else {\n    req = indexedDB.open(dbName, ADAPTER_VERSION);\n  }\n\n  openReqList.set(dbName, req);\n\n  req.onupgradeneeded = function (e) {\n    var db = e.target.result;\n    if (e.oldVersion < 1) {\n      return createSchema(db); // new db, initial schema\n    }\n    // do migrations\n\n    var txn = e.currentTarget.transaction;\n    // these migrations have to be done in this function, before\n    // control is returned to the event loop, because IndexedDB\n\n    if (e.oldVersion < 3) {\n      createLocalStoreSchema(db); // v2 -> v3\n    }\n    if (e.oldVersion < 4) {\n      addAttachAndSeqStore(db); // v3 -> v4\n    }\n\n    var migrations = [\n      addDeletedOrLocalIndex, // v1 -> v2\n      migrateLocalStore,      // v2 -> v3\n      migrateAttsAndSeqs,     // v3 -> v4\n      migrateMetadata         // v4 -> v5\n    ];\n\n    var i = e.oldVersion;\n\n    function next() {\n      var migration = migrations[i - 1];\n      i++;\n      if (migration) {\n        migration(txn, next);\n      }\n    }\n\n    next();\n  };\n\n  req.onsuccess = function (e) {\n\n    idb = e.target.result;\n\n    idb.onversionchange = function () {\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    idb.onabort = function (e) {\n      guardedConsole('error', 'Database has a global failure', e.target.error);\n      idb.close();\n      cachedDBs.delete(dbName);\n    };\n\n    // Do a few setup operations (in parallel as much as possible):\n    // 1. Fetch meta doc\n    // 2. Check blob support\n    // 3. Calculate docCount\n    // 4. Generate an instanceId if necessary\n    // 5. Store docCount and instanceId on meta doc\n\n    var txn = idb.transaction([\n      META_STORE,\n      DETECT_BLOB_SUPPORT_STORE,\n      DOC_STORE\n    ], 'readwrite');\n\n    var storedMetaDoc = false;\n    var metaDoc;\n    var docCount;\n    var blobSupport;\n    var instanceId;\n\n    function completeSetup() {\n      if (typeof blobSupport === 'undefined' || !storedMetaDoc) {\n        return;\n      }\n      api._meta = {\n        name: dbName,\n        instanceId: instanceId,\n        blobSupport: blobSupport\n      };\n\n      cachedDBs.set(dbName, {\n        idb: idb,\n        global: api._meta\n      });\n      callback(null, api);\n    }\n\n    function storeMetaDocIfReady() {\n      if (typeof docCount === 'undefined' || typeof metaDoc === 'undefined') {\n        return;\n      }\n      var instanceKey = dbName + '_id';\n      if (instanceKey in metaDoc) {\n        instanceId = metaDoc[instanceKey];\n      } else {\n        metaDoc[instanceKey] = instanceId = uuid();\n      }\n      metaDoc.docCount = docCount;\n      txn.objectStore(META_STORE).put(metaDoc);\n    }\n\n    //\n    // fetch or generate the instanceId\n    //\n    txn.objectStore(META_STORE).get(META_STORE).onsuccess = function (e) {\n      metaDoc = e.target.result || { id: META_STORE };\n      storeMetaDocIfReady();\n    };\n\n    //\n    // countDocs\n    //\n    countDocs(txn, function (count) {\n      docCount = count;\n      storeMetaDocIfReady();\n    });\n\n    //\n    // check blob support\n    //\n    if (!blobSupportPromise) {\n      // make sure blob support is only checked once\n      blobSupportPromise = checkBlobSupport(txn);\n    }\n\n    blobSupportPromise.then(function (val) {\n      blobSupport = val;\n      completeSetup();\n    });\n\n    // only when the metadata put transaction has completed,\n    // consider the setup done\n    txn.oncomplete = function () {\n      storedMetaDoc = true;\n      completeSetup();\n    };\n  };\n\n  req.onerror = function () {\n    var msg = 'Failed to open indexedDB, are you in private browsing mode?';\n    guardedConsole('error', msg);\n    callback(createError(IDB_ERROR, msg));\n  };\n}\n\nIdbPouch.valid = function () {\n  // Issue #2533, we finally gave up on doing bug\n  // detection instead of browser sniffing. Safari brought us\n  // to our knees.\n  var isSafari = typeof openDatabase !== 'undefined' &&\n    /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) &&\n    !/Chrome/.test(navigator.userAgent) &&\n    !/BlackBerry/.test(navigator.platform);\n\n  // some outdated implementations of IDB that appear on Samsung\n  // and HTC Android devices <4.4 are missing IDBKeyRange\n  return !isSafari && typeof indexedDB !== 'undefined' &&\n    typeof IDBKeyRange !== 'undefined';\n};\n\nfunction tryStorageOption(dbName, storage) {\n  try { // option only available in Firefox 26+\n    return indexedDB.open(dbName, {\n      version: ADAPTER_VERSION,\n      storage: storage\n    });\n  } catch (err) {\n      return indexedDB.open(dbName, ADAPTER_VERSION);\n  }\n}\n\nvar index = function (PouchDB) {\n  PouchDB.adapter('idb', IdbPouch, true);\n};\n\nexport default index;\n","import { assign, clone } from 'pouchdb-utils';\nimport Promise from 'pouchdb-promise';\nimport { blob, readAsArrayBuffer } from 'pouchdb-binary-utils';\nimport { generateErrorFromResponse } from 'pouchdb-errors';\n\n/* global fetch */\n/* global Headers */\nfunction wrappedFetch() {\n  var wrappedPromise = {};\n\n  var promise = new Promise(function (resolve, reject) {\n    wrappedPromise.resolve = resolve;\n    wrappedPromise.reject = reject;\n  });\n\n  var args = new Array(arguments.length);\n\n  for (var i = 0; i < args.length; i++) {\n    args[i] = arguments[i];\n  }\n\n  wrappedPromise.promise = promise;\n\n  Promise.resolve().then(function () {\n    return fetch.apply(null, args);\n  }).then(function (response) {\n    wrappedPromise.resolve(response);\n  }).catch(function (error) {\n    wrappedPromise.reject(error);\n  });\n\n  return wrappedPromise;\n}\n\nfunction fetchRequest(options, callback) {\n  var wrappedPromise, timer, response;\n\n  var headers = new Headers();\n\n  var fetchOptions = {\n    method: options.method,\n    credentials: 'include',\n    headers: headers\n  };\n\n  if (options.json) {\n    headers.set('Accept', 'application/json');\n    headers.set('Content-Type', options.headers['Content-Type'] ||\n      'application/json');\n  }\n\n  if (options.body &&\n      options.processData &&\n      typeof options.body !== 'string') {\n    fetchOptions.body = JSON.stringify(options.body);\n  } else if ('body' in options) {\n    fetchOptions.body = options.body;\n  } else {\n    fetchOptions.body = null;\n  }\n\n  Object.keys(options.headers).forEach(function (key) {\n    if (options.headers.hasOwnProperty(key)) {\n      headers.set(key, options.headers[key]);\n    }\n  });\n\n  wrappedPromise = wrappedFetch(options.url, fetchOptions);\n\n  if (options.timeout > 0) {\n    timer = setTimeout(function () {\n      wrappedPromise.reject(new Error('Load timeout for resource: ' +\n        options.url));\n    }, options.timeout);\n  }\n\n  wrappedPromise.promise.then(function (fetchResponse) {\n    response = {\n      statusCode: fetchResponse.status\n    };\n\n    if (options.timeout > 0) {\n      clearTimeout(timer);\n    }\n\n    if (response.statusCode >= 200 && response.statusCode < 300) {\n      return options.binary ? fetchResponse.blob() : fetchResponse.text();\n    }\n\n    return fetchResponse.json();\n  }).then(function (result) {\n    if (response.statusCode >= 200 && response.statusCode < 300) {\n      callback(null, response, result);\n    } else {\n      result.status = response.statusCode;\n      callback(result);\n    }\n  }).catch(function (error) {\n    if (!error) {\n      // this happens when the listener is canceled\n      error = new Error('canceled');\n    }\n    callback(error);\n  });\n\n  return {abort: wrappedPromise.reject};\n}\n\nfunction xhRequest(options, callback) {\n\n  var xhr, timer;\n  var timedout = false;\n\n  var abortReq = function () {\n    xhr.abort();\n    cleanUp();\n  };\n\n  var timeoutReq = function () {\n    timedout = true;\n    xhr.abort();\n    cleanUp();\n  };\n\n  var ret = {abort: abortReq};\n\n  var cleanUp = function () {\n    clearTimeout(timer);\n    ret.abort = function () {};\n    if (xhr) {\n      xhr.onprogress = undefined;\n      if (xhr.upload) {\n        xhr.upload.onprogress = undefined;\n      }\n      xhr.onreadystatechange = undefined;\n      xhr = undefined;\n    }\n  };\n\n  if (options.xhr) {\n    xhr = new options.xhr();\n  } else {\n    xhr = new XMLHttpRequest();\n  }\n\n  try {\n    xhr.open(options.method, options.url);\n  } catch (exception) {\n    return callback(new Error(exception.name || 'Url is invalid'));\n  }\n\n  xhr.withCredentials = ('withCredentials' in options) ?\n    options.withCredentials : true;\n\n  if (options.method === 'GET') {\n    delete options.headers['Content-Type'];\n  } else if (options.json) {\n    options.headers.Accept = 'application/json';\n    options.headers['Content-Type'] = options.headers['Content-Type'] ||\n      'application/json';\n    if (options.body &&\n        options.processData &&\n        typeof options.body !== \"string\") {\n      options.body = JSON.stringify(options.body);\n    }\n  }\n\n  if (options.binary) {\n    xhr.responseType = 'arraybuffer';\n  }\n\n  if (!('body' in options)) {\n    options.body = null;\n  }\n\n  for (var key in options.headers) {\n    if (options.headers.hasOwnProperty(key)) {\n      xhr.setRequestHeader(key, options.headers[key]);\n    }\n  }\n\n  if (options.timeout > 0) {\n    timer = setTimeout(timeoutReq, options.timeout);\n    xhr.onprogress = function () {\n      clearTimeout(timer);\n      if (xhr.readyState !== 4) {\n        timer = setTimeout(timeoutReq, options.timeout);\n      }\n    };\n    if (typeof xhr.upload !== 'undefined') { // does not exist in ie9\n      xhr.upload.onprogress = xhr.onprogress;\n    }\n  }\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    var response = {\n      statusCode: xhr.status\n    };\n\n    if (xhr.status >= 200 && xhr.status < 300) {\n      var data;\n      if (options.binary) {\n        data = blob([xhr.response || ''], {\n          type: xhr.getResponseHeader('Content-Type')\n        });\n      } else {\n        data = xhr.responseText;\n      }\n      callback(null, response, data);\n    } else {\n      var err = {};\n      if (timedout) {\n        err = new Error('ETIMEDOUT');\n        err.code = 'ETIMEDOUT';\n      } else if (typeof xhr.response === 'string') {\n        try {\n          err = JSON.parse(xhr.response);\n        } catch (e) {}\n      }\n      err.status = xhr.status;\n      callback(err);\n    }\n    cleanUp();\n  };\n\n  if (options.body && (options.body instanceof Blob)) {\n    readAsArrayBuffer(options.body, function (arrayBuffer) {\n      xhr.send(arrayBuffer);\n    });\n  } else {\n    xhr.send(options.body);\n  }\n\n  return ret;\n}\n\nfunction testXhr() {\n  try {\n    new XMLHttpRequest();\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nvar hasXhr = testXhr();\n\nfunction ajax$1(options, callback) {\n  if (!false && (hasXhr || options.xhr)) {\n    return xhRequest(options, callback);\n  } else {\n    return fetchRequest(options, callback);\n  }\n}\n\n// the blob already has a type; do nothing\nvar res = function () {};\n\nfunction defaultBody() {\n  return '';\n}\n\nfunction ajaxCore(options, callback) {\n\n  options = clone(options);\n\n  var defaultOptions = {\n    method : \"GET\",\n    headers: {},\n    json: true,\n    processData: true,\n    timeout: 10000,\n    cache: false\n  };\n\n  options = assign(defaultOptions, options);\n\n  function onSuccess(obj, resp, cb) {\n    if (!options.binary && options.json && typeof obj === 'string') {\n      /* istanbul ignore next */\n      try {\n        obj = JSON.parse(obj);\n      } catch (e) {\n        // Probably a malformed JSON from server\n        return cb(e);\n      }\n    }\n    if (Array.isArray(obj)) {\n      obj = obj.map(function (v) {\n        if (v.error || v.missing) {\n          return generateErrorFromResponse(v);\n        } else {\n          return v;\n        }\n      });\n    }\n    if (options.binary) {\n      res(obj, resp);\n    }\n    cb(null, obj, resp);\n  }\n\n  if (options.json) {\n    if (!options.binary) {\n      options.headers.Accept = 'application/json';\n    }\n    options.headers['Content-Type'] = options.headers['Content-Type'] ||\n      'application/json';\n  }\n\n  if (options.binary) {\n    options.encoding = null;\n    options.json = false;\n  }\n\n  if (!options.processData) {\n    options.json = false;\n  }\n\n  return ajax$1(options, function (err, response, body) {\n\n    if (err) {\n      return callback(generateErrorFromResponse(err));\n    }\n\n    var error;\n    var content_type = response.headers && response.headers['content-type'];\n    var data = body || defaultBody();\n\n    // CouchDB doesn't always return the right content-type for JSON data, so\n    // we check for ^{ and }$ (ignoring leading/trailing whitespace)\n    if (!options.binary && (options.json || !options.processData) &&\n        typeof data !== 'object' &&\n        (/json/.test(content_type) ||\n         (/^[\\s]*\\{/.test(data) && /\\}[\\s]*$/.test(data)))) {\n      try {\n        data = JSON.parse(data.toString());\n      } catch (e) {}\n    }\n\n    if (response.statusCode >= 200 && response.statusCode < 300) {\n      onSuccess(data, response, callback);\n    } else {\n      error = generateErrorFromResponse(data);\n      error.status = response.statusCode;\n      callback(error);\n    }\n  });\n}\n\nfunction ajax(opts, callback) {\n\n  // cache-buster, specifically designed to work around IE's aggressive caching\n  // see http://www.dashbay.com/2011/05/internet-explorer-caches-ajax/\n  // Also Safari caches POSTs, so we need to cache-bust those too.\n  var ua = (navigator && navigator.userAgent) ?\n    navigator.userAgent.toLowerCase() : '';\n\n  var isSafari = ua.indexOf('safari') !== -1 && ua.indexOf('chrome') === -1;\n  var isIE = ua.indexOf('msie') !== -1;\n  var isEdge = ua.indexOf('edge') !== -1;\n\n  // it appears the new version of safari also caches GETs,\n  // see https://github.com/pouchdb/pouchdb/issues/5010\n  var shouldCacheBust = (isSafari ||\n    ((isIE || isEdge) && opts.method === 'GET'));\n\n  var cache = 'cache' in opts ? opts.cache : true;\n\n  var isBlobUrl = /^blob:/.test(opts.url); // don't append nonces for blob URLs\n\n  if (!isBlobUrl && (shouldCacheBust || !cache)) {\n    var hasArgs = opts.url.indexOf('?') !== -1;\n    opts.url += (hasArgs ? '&' : '?') + '_nonce=' + Date.now();\n  }\n\n  return ajaxCore(opts, callback);\n}\n\nexport default ajax;\n","import Promise from 'pouchdb-promise';\nimport { adapterFun, assign, bulkGetShim, clone, explainError, filterChange, flatten, nextTick, parseUri, pick } from 'pouchdb-utils';\nimport ajaxCore from 'pouchdb-ajax';\nimport getArguments from 'argsarray';\nimport { atob, base64StringToBlobOrBuffer, binaryStringToBlobOrBuffer, blobOrBufferToBase64, btoa } from 'pouchdb-binary-utils';\nimport { BAD_ARG, createError } from 'pouchdb-errors';\n\n// dead simple promise pool, inspired by https://github.com/timdp/es6-promise-pool\n// but much smaller in code size. limits the number of concurrent promises that are executed\n\n\nfunction pool(promiseFactories, limit) {\n  return new Promise(function (resolve, reject) {\n    var running = 0;\n    var current = 0;\n    var done = 0;\n    var len = promiseFactories.length;\n    var err;\n\n    function runNext() {\n      running++;\n      promiseFactories[current++]().then(onSuccess, onError);\n    }\n\n    function doNext() {\n      if (++done === len) {\n        /* istanbul ignore if */\n        if (err) {\n          reject(err);\n        } else {\n          resolve();\n        }\n      } else {\n        runNextBatch();\n      }\n    }\n\n    function onSuccess() {\n      running--;\n      doNext();\n    }\n\n    /* istanbul ignore next */\n    function onError(thisErr) {\n      running--;\n      err = err || thisErr;\n      doNext();\n    }\n\n    function runNextBatch() {\n      while (running < limit && current < len) {\n        runNext();\n      }\n    }\n\n    runNextBatch();\n  });\n}\n\nvar CHANGES_BATCH_SIZE = 25;\nvar MAX_SIMULTANEOUS_REVS = 50;\nvar CHANGES_TIMEOUT_BUFFER = 5000;\nvar DEFAULT_HEARTBEAT = 10000;\n\nvar supportsBulkGetMap = {};\n\nfunction readAttachmentsAsBlobOrBuffer(row) {\n  var atts = row.doc && row.doc._attachments;\n  if (!atts) {\n    return;\n  }\n  Object.keys(atts).forEach(function (filename) {\n    var att = atts[filename];\n    att.data = base64StringToBlobOrBuffer(att.data, att.content_type);\n  });\n}\n\nfunction encodeDocId(id) {\n  if (/^_design/.test(id)) {\n    return '_design/' + encodeURIComponent(id.slice(8));\n  }\n  if (/^_local/.test(id)) {\n    return '_local/' + encodeURIComponent(id.slice(7));\n  }\n  return encodeURIComponent(id);\n}\n\nfunction preprocessAttachments(doc) {\n  if (!doc._attachments || !Object.keys(doc._attachments)) {\n    return Promise.resolve();\n  }\n\n  return Promise.all(Object.keys(doc._attachments).map(function (key) {\n    var attachment = doc._attachments[key];\n    if (attachment.data && typeof attachment.data !== 'string') {\n      return new Promise(function (resolve) {\n        blobOrBufferToBase64(attachment.data, resolve);\n      }).then(function (b64) {\n        attachment.data = b64;\n      });\n    }\n  }));\n}\n\nfunction hasUrlPrefix(opts) {\n  if (!opts.prefix) {\n    return false;\n  }\n\n  var protocol = parseUri(opts.prefix).protocol;\n\n  return protocol === 'http' || protocol === 'https';\n}\n\n// Get all the information you possibly can about the URI given by name and\n// return it as a suitable object.\nfunction getHost(name, opts) {\n\n  // encode db name if opts.prefix is a url (#5574)\n  if (hasUrlPrefix(opts)) {\n    var dbName = opts.name.substr(opts.prefix.length);\n    name = opts.prefix + encodeURIComponent(dbName);\n  }\n\n  // Prase the URI into all its little bits\n  var uri = parseUri(name);\n\n  // Store the user and password as a separate auth object\n  if (uri.user || uri.password) {\n    uri.auth = {username: uri.user, password: uri.password};\n  }\n\n  // Split the path part of the URI into parts using '/' as the delimiter\n  // after removing any leading '/' and any trailing '/'\n  var parts = uri.path.replace(/(^\\/|\\/$)/g, '').split('/');\n\n  // Store the first part as the database name and remove it from the parts\n  // array\n  uri.db = parts.pop();\n  // Prevent double encoding of URI component\n  if (uri.db.indexOf('%') === -1) {\n    uri.db = encodeURIComponent(uri.db);\n  }\n\n  // Restore the path by joining all the remaining parts (all the parts\n  // except for the database name) with '/'s\n  uri.path = parts.join('/');\n\n  return uri;\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genDBUrl(opts, path) {\n  return genUrl(opts, opts.db + '/' + path);\n}\n\n// Generate a URL with the host data given by opts and the given path\nfunction genUrl(opts, path) {\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  var pathDel = !opts.path ? '' : '/';\n\n  // If the host already has a path, then we need to have a path delimiter\n  // Otherwise, the path delimiter is the empty string\n  return opts.protocol + '://' + opts.host +\n         (opts.port ? (':' + opts.port) : '') +\n         '/' + opts.path + pathDel + path;\n}\n\nfunction paramsToStr(params) {\n  return '?' + Object.keys(params).map(function (k) {\n    return k + '=' + encodeURIComponent(params[k]);\n  }).join('&');\n}\n\n// Implements the PouchDB API for dealing with CouchDB instances over HTTP\nfunction HttpPouch(opts, callback) {\n\n  // The functions that will be publicly available for HttpPouch\n  var api = this;\n\n  var host = getHost(opts.name, opts);\n  var dbUrl = genDBUrl(host, '');\n\n  opts = clone(opts);\n  var ajaxOpts = opts.ajax || {};\n\n  if (opts.auth || host.auth) {\n    var nAuth = opts.auth || host.auth;\n    var str = nAuth.username + ':' + nAuth.password;\n    var token = btoa(unescape(encodeURIComponent(str)));\n    ajaxOpts.headers = ajaxOpts.headers || {};\n    ajaxOpts.headers.Authorization = 'Basic ' + token;\n  }\n\n  // Not strictly necessary, but we do this because numerous tests\n  // rely on swapping ajax in and out.\n  api._ajax = ajaxCore;\n\n  function ajax(userOpts, options, callback) {\n    var reqAjax = userOpts.ajax || {};\n    var reqOpts = assign(clone(ajaxOpts), reqAjax, options);\n    var defaultHeaders = clone(ajaxOpts.headers || {});\n    reqOpts.headers = assign(defaultHeaders, reqAjax.headers,\n      options.headers || {});\n    /* istanbul ignore if */\n    if (api.constructor.listeners('debug').length) {\n      api.constructor.emit('debug', ['http', reqOpts.method, reqOpts.url]);\n    }\n    return api._ajax(reqOpts, callback);\n  }\n\n  function ajaxPromise(userOpts, opts) {\n    return new Promise(function (resolve, reject) {\n      ajax(userOpts, opts, function (err, res) {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err);\n        }\n        resolve(res);\n      });\n    });\n  }\n\n  function adapterFun$$1(name, fun) {\n    return adapterFun(name, getArguments(function (args) {\n      setup().then(function () {\n        return fun.apply(this, args);\n      }).catch(function (e) {\n        var callback = args.pop();\n        callback(e);\n      });\n    }));\n  }\n\n  var setupPromise;\n\n  function setup() {\n    // TODO: Remove `skipSetup` in favor of `skip_setup` in a future release\n    if (opts.skipSetup || opts.skip_setup) {\n      return Promise.resolve();\n    }\n\n    // If there is a setup in process or previous successful setup\n    // done then we will use that\n    // If previous setups have been rejected we will try again\n    if (setupPromise) {\n      return setupPromise;\n    }\n\n    var checkExists = {method: 'GET', url: dbUrl};\n    setupPromise = ajaxPromise({}, checkExists).catch(function (err) {\n      if (err && err.status && err.status === 404) {\n        // Doesnt exist, create it\n        explainError(404, 'PouchDB is just detecting if the remote exists.');\n        return ajaxPromise({}, {method: 'PUT', url: dbUrl});\n      } else {\n        return Promise.reject(err);\n      }\n    }).catch(function (err) {\n      // If we try to create a database that already exists, skipped in\n      // istanbul since its catching a race condition.\n      /* istanbul ignore if */\n      if (err && err.status && err.status === 412) {\n        return true;\n      }\n      return Promise.reject(err);\n    });\n\n    setupPromise.catch(function () {\n      setupPromise = null;\n    });\n\n    return setupPromise;\n  }\n\n  nextTick(function () {\n    callback(null, api);\n  });\n\n  api._remote = true;\n  /* istanbul ignore next */\n  api.type = function () {\n    return 'http';\n  };\n\n  api.id = adapterFun$$1('id', function (callback) {\n    ajax({}, {method: 'GET', url: genUrl(host, '')}, function (err, result) {\n      var uuid = (result && result.uuid) ?\n        (result.uuid + host.db) : genDBUrl(host, '');\n      callback(null, uuid);\n    });\n  });\n\n  api.request = adapterFun$$1('request', function (options, callback) {\n    options.url = genDBUrl(host, options.url);\n    ajax({}, options, callback);\n  });\n\n  // Sends a POST request to the host calling the couchdb _compact function\n  //    version: The version of CouchDB it is running\n  api.compact = adapterFun$$1('compact', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n    ajax(opts, {\n      url: genDBUrl(host, '_compact'),\n      method: 'POST'\n    }, function () {\n      function ping() {\n        api.info(function (err, res) {\n          // CouchDB may send a \"compact_running:true\" if it's\n          // already compacting. PouchDB Server doesn't.\n          /* istanbul ignore else */\n          if (res && !res.compact_running) {\n            callback(null, {ok: true});\n          } else {\n            setTimeout(ping, opts.interval || 200);\n          }\n        });\n      }\n      // Ping the http if it's finished compaction\n      ping();\n    });\n  });\n\n  api.bulkGet = adapterFun('bulkGet', function (opts, callback) {\n    var self = this;\n\n    function doBulkGet(cb) {\n      var params = {};\n      if (opts.revs) {\n        params.revs = true;\n      }\n      if (opts.attachments) {\n        /* istanbul ignore next */\n        params.attachments = true;\n      }\n      if (opts.latest) {\n        params.latest = true;\n      }\n      ajax(opts, {\n        url: genDBUrl(host, '_bulk_get' + paramsToStr(params)),\n        method: 'POST',\n        body: { docs: opts.docs}\n      }, cb);\n    }\n\n    /* istanbul ignore next */\n    function doBulkGetShim() {\n      // avoid \"url too long error\" by splitting up into multiple requests\n      var batchSize = MAX_SIMULTANEOUS_REVS;\n      var numBatches = Math.ceil(opts.docs.length / batchSize);\n      var numDone = 0;\n      var results = new Array(numBatches);\n\n      function onResult(batchNum) {\n        return function (err, res) {\n          // err is impossible because shim returns a list of errs in that case\n          results[batchNum] = res.results;\n          if (++numDone === numBatches) {\n            callback(null, {results: flatten(results)});\n          }\n        };\n      }\n\n      for (var i = 0; i < numBatches; i++) {\n        var subOpts = pick(opts, ['revs', 'attachments', 'latest']);\n        subOpts.ajax = ajaxOpts;\n        subOpts.docs = opts.docs.slice(i * batchSize,\n          Math.min(opts.docs.length, (i + 1) * batchSize));\n        bulkGetShim(self, subOpts, onResult(i));\n      }\n    }\n\n    // mark the whole database as either supporting or not supporting _bulk_get\n    var dbUrl = genUrl(host, '');\n    var supportsBulkGet = supportsBulkGetMap[dbUrl];\n\n    /* istanbul ignore next */\n    if (typeof supportsBulkGet !== 'boolean') {\n      // check if this database supports _bulk_get\n      doBulkGet(function (err, res) {\n        if (err) {\n          supportsBulkGetMap[dbUrl] = false;\n          explainError(\n            err.status,\n            'PouchDB is just detecting if the remote ' +\n            'supports the _bulk_get API.'\n          );\n          doBulkGetShim();\n        } else {\n          supportsBulkGetMap[dbUrl] = true;\n          callback(null, res);\n        }\n      });\n    } else if (supportsBulkGet) {\n      doBulkGet(callback);\n    } else {\n      doBulkGetShim();\n    }\n  });\n\n  // Calls GET on the host, which gets back a JSON string containing\n  //    couchdb: A welcome string\n  //    version: The version of CouchDB it is running\n  api._info = function (callback) {\n    setup().then(function () {\n      ajax({}, {\n        method: 'GET',\n        url: genDBUrl(host, '')\n      }, function (err, res) {\n        /* istanbul ignore next */\n        if (err) {\n        return callback(err);\n        }\n        res.host = genDBUrl(host, '');\n        callback(null, res);\n      });\n    }).catch(callback);\n  };\n\n  // Get the document with the given id from the database given by host.\n  // The id could be solely the _id in the database, or it may be a\n  // _design/ID or _local/ID path\n  api.get = adapterFun$$1('get', function (id, opts, callback) {\n    // If no options were given, set the callback to the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n\n    if (opts.revs) {\n      params.revs = true;\n    }\n\n    if (opts.revs_info) {\n      params.revs_info = true;\n    }\n\n    if (opts.latest) {\n      params.latest = true;\n    }\n\n    if (opts.open_revs) {\n      if (opts.open_revs !== \"all\") {\n        opts.open_revs = JSON.stringify(opts.open_revs);\n      }\n      params.open_revs = opts.open_revs;\n    }\n\n    if (opts.rev) {\n      params.rev = opts.rev;\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = opts.conflicts;\n    }\n\n    id = encodeDocId(id);\n\n    // Set the options for the ajax call\n    var options = {\n      method: 'GET',\n      url: genDBUrl(host, id + paramsToStr(params))\n    };\n\n    function fetchAttachments(doc) {\n      var atts = doc._attachments;\n      var filenames = atts && Object.keys(atts);\n      if (!atts || !filenames.length) {\n        return;\n      }\n      // we fetch these manually in separate XHRs, because\n      // Sync Gateway would normally send it back as multipart/mixed,\n      // which we cannot parse. Also, this is more efficient than\n      // receiving attachments as base64-encoded strings.\n      function fetch(filename) {\n        var att = atts[filename];\n        var path = encodeDocId(doc._id) + '/' + encodeAttachmentId(filename) +\n          '?rev=' + doc._rev;\n        return ajaxPromise(opts, {\n          method: 'GET',\n          url: genDBUrl(host, path),\n          binary: true\n        }).then(function (blob) {\n          if (opts.binary) {\n            return blob;\n          }\n          return new Promise(function (resolve) {\n            blobOrBufferToBase64(blob, resolve);\n          });\n        }).then(function (data) {\n          delete att.stub;\n          delete att.length;\n          att.data = data;\n        });\n      }\n\n      var promiseFactories = filenames.map(function (filename) {\n        return function () {\n          return fetch(filename);\n        };\n      });\n\n      // This limits the number of parallel xhr requests to 5 any time\n      // to avoid issues with maximum browser request limits\n      return pool(promiseFactories, 5);\n    }\n\n    function fetchAllAttachments(docOrDocs) {\n      if (Array.isArray(docOrDocs)) {\n        return Promise.all(docOrDocs.map(function (doc) {\n          if (doc.ok) {\n            return fetchAttachments(doc.ok);\n          }\n        }));\n      }\n      return fetchAttachments(docOrDocs);\n    }\n\n    ajaxPromise(opts, options).then(function (res) {\n      return Promise.resolve().then(function () {\n        if (opts.attachments) {\n          return fetchAllAttachments(res);\n        }\n      }).then(function () {\n        callback(null, res);\n      });\n    }).catch(function (e) {\n      e.docId = id;\n      callback(e);\n    });\n  });\n\n  // Delete the document given by doc from the database given by host.\n  api.remove = adapterFun$$1('remove',\n      function (docOrId, optsOrRev, opts, callback) {\n    var doc;\n    if (typeof optsOrRev === 'string') {\n      // id, rev, opts, callback style\n      doc = {\n        _id: docOrId,\n        _rev: optsOrRev\n      };\n      if (typeof opts === 'function') {\n        callback = opts;\n        opts = {};\n      }\n    } else {\n      // doc, opts, callback style\n      doc = docOrId;\n      if (typeof optsOrRev === 'function') {\n        callback = optsOrRev;\n        opts = {};\n      } else {\n        callback = opts;\n        opts = optsOrRev;\n      }\n    }\n\n    var rev = (doc._rev || opts.rev);\n\n    // Delete the document\n    ajax(opts, {\n      method: 'DELETE',\n      url: genDBUrl(host, encodeDocId(doc._id)) + '?rev=' + rev\n    }, callback);\n  });\n\n  function encodeAttachmentId(attachmentId) {\n    return attachmentId.split(\"/\").map(encodeURIComponent).join(\"/\");\n  }\n\n  // Get the attachment\n  api.getAttachment =\n    adapterFun$$1('getAttachment', function (docId, attachmentId, opts,\n                                                callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    var params = opts.rev ? ('?rev=' + opts.rev) : '';\n    var url = genDBUrl(host, encodeDocId(docId)) + '/' +\n      encodeAttachmentId(attachmentId) + params;\n    ajax(opts, {\n      method: 'GET',\n      url: url,\n      binary: true\n    }, callback);\n  });\n\n  // Remove the attachment given by the id and rev\n  api.removeAttachment =\n    adapterFun$$1('removeAttachment', function (docId, attachmentId, rev,\n                                                   callback) {\n\n    var url = genDBUrl(host, encodeDocId(docId) + '/' +\n      encodeAttachmentId(attachmentId)) + '?rev=' + rev;\n\n    ajax({}, {\n      method: 'DELETE',\n      url: url\n    }, callback);\n  });\n\n  // Add the attachment given by blob and its contentType property\n  // to the document with the given id, the revision given by rev, and\n  // add it to the database given by host.\n  api.putAttachment =\n    adapterFun$$1('putAttachment', function (docId, attachmentId, rev, blob,\n                                                type, callback) {\n    if (typeof type === 'function') {\n      callback = type;\n      type = blob;\n      blob = rev;\n      rev = null;\n    }\n    var id = encodeDocId(docId) + '/' + encodeAttachmentId(attachmentId);\n    var url = genDBUrl(host, id);\n    if (rev) {\n      url += '?rev=' + rev;\n    }\n\n    if (typeof blob === 'string') {\n      // input is assumed to be a base64 string\n      var binary;\n      try {\n        binary = atob(blob);\n      } catch (err) {\n        return callback(createError(BAD_ARG,\n                        'Attachment is not a valid base64 string'));\n      }\n      blob = binary ? binaryStringToBlobOrBuffer(binary, type) : '';\n    }\n\n    var opts = {\n      headers: {'Content-Type': type},\n      method: 'PUT',\n      url: url,\n      processData: false,\n      body: blob,\n      timeout: ajaxOpts.timeout || 60000\n    };\n    // Add the attachment\n    ajax({}, opts, callback);\n  });\n\n  // Update/create multiple documents given by req in the database\n  // given by host.\n  api._bulkDocs = function (req, opts, callback) {\n    // If new_edits=false then it prevents the database from creating\n    // new revision numbers for the documents. Instead it just uses\n    // the old ones. This is used in database replication.\n    req.new_edits = opts.new_edits;\n\n    setup().then(function () {\n      return Promise.all(req.docs.map(preprocessAttachments));\n    }).then(function () {\n      // Update/create the documents\n      ajax(opts, {\n        method: 'POST',\n        url: genDBUrl(host, '_bulk_docs'),\n        timeout: opts.timeout,\n        body: req\n      }, function (err, results) {\n        if (err) {\n          return callback(err);\n        }\n        results.forEach(function (result) {\n          result.ok = true; // smooths out cloudant not adding this\n        });\n        callback(null, results);\n      });\n    }).catch(callback);\n  };\n\n\n  // Update/create document\n  api._put = function (doc, opts, callback) {\n    setup().then(function () {\n      return preprocessAttachments(doc);\n    }).then(function () {\n      // Update/create the document\n      ajax(opts, {\n        method: 'PUT',\n        url: genDBUrl(host, encodeDocId(doc._id)),\n        body: doc\n      }, function (err, result) {\n        if (err) {\n          err.docId = doc && doc._id;\n          return callback(err);\n        }\n        callback(null, result);\n      });\n    }).catch(callback);\n  };\n\n\n  // Get a listing of the documents in the database given\n  // by host and ordered by increasing id.\n  api.allDocs = adapterFun$$1('allDocs', function (opts, callback) {\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n    opts = clone(opts);\n\n    // List of parameters to add to the GET request\n    var params = {};\n    var body;\n    var method = 'GET';\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if (opts.include_docs) {\n      params.include_docs = true;\n    }\n\n    // added in CouchDB 1.6.0\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.key) {\n      params.key = JSON.stringify(opts.key);\n    }\n\n    if (opts.start_key) {\n      opts.startkey = opts.start_key;\n    }\n\n    if (opts.startkey) {\n      params.startkey = JSON.stringify(opts.startkey);\n    }\n\n    if (opts.end_key) {\n      opts.endkey = opts.end_key;\n    }\n\n    if (opts.endkey) {\n      params.endkey = JSON.stringify(opts.endkey);\n    }\n\n    if (typeof opts.inclusive_end !== 'undefined') {\n      params.inclusive_end = !!opts.inclusive_end;\n    }\n\n    if (typeof opts.limit !== 'undefined') {\n      params.limit = opts.limit;\n    }\n\n    if (typeof opts.skip !== 'undefined') {\n      params.skip = opts.skip;\n    }\n\n    var paramStr = paramsToStr(params);\n\n    if (typeof opts.keys !== 'undefined') {\n      method = 'POST';\n      body = {keys: opts.keys};\n    }\n\n    // Get the document listing\n    ajaxPromise(opts, {\n      method: method,\n      url: genDBUrl(host, '_all_docs' + paramStr),\n      body: body\n    }).then(function (res) {\n      if (opts.include_docs && opts.attachments && opts.binary) {\n        res.rows.forEach(readAttachmentsAsBlobOrBuffer);\n      }\n      callback(null, res);\n    }).catch(callback);\n  });\n\n  // Get a list of changes made to documents in the database given by host.\n  // TODO According to the README, there should be two other methods here,\n  // api.changes.addListener and api.changes.removeListener.\n  api._changes = function (opts) {\n\n    // We internally page the results of a changes request, this means\n    // if there is a large set of changes to be returned we can start\n    // processing them quicker instead of waiting on the entire\n    // set of changes to return and attempting to process them at once\n    var batchSize = 'batch_size' in opts ? opts.batch_size : CHANGES_BATCH_SIZE;\n\n    opts = clone(opts);\n\n    if (opts.continuous && !('heartbeat' in opts)) {\n      opts.heartbeat = DEFAULT_HEARTBEAT;\n    }\n\n    var requestTimeout = ('timeout' in opts) ? opts.timeout :\n      ('timeout' in ajaxOpts) ? ajaxOpts.timeout :\n      30 * 1000;\n\n    // ensure CHANGES_TIMEOUT_BUFFER applies\n    if ('timeout' in opts && opts.timeout &&\n      (requestTimeout - opts.timeout) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.timeout + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    if ('heartbeat' in opts && opts.heartbeat &&\n       (requestTimeout - opts.heartbeat) < CHANGES_TIMEOUT_BUFFER) {\n        requestTimeout = opts.heartbeat + CHANGES_TIMEOUT_BUFFER;\n    }\n\n    var params = {};\n    if ('timeout' in opts && opts.timeout) {\n      params.timeout = opts.timeout;\n    }\n\n    var limit = (typeof opts.limit !== 'undefined') ? opts.limit : false;\n    var returnDocs;\n    if ('return_docs' in opts) {\n      returnDocs = opts.return_docs;\n    } else if ('returnDocs' in opts) {\n      // TODO: Remove 'returnDocs' in favor of 'return_docs' in a future release\n      returnDocs = opts.returnDocs;\n    } else {\n      returnDocs = true;\n    }\n    //\n    var leftToFetch = limit;\n\n    if (opts.style) {\n      params.style = opts.style;\n    }\n\n    if (opts.include_docs || opts.filter && typeof opts.filter === 'function') {\n      params.include_docs = true;\n    }\n\n    if (opts.attachments) {\n      params.attachments = true;\n    }\n\n    if (opts.continuous) {\n      params.feed = 'longpoll';\n    }\n\n    if (opts.conflicts) {\n      params.conflicts = true;\n    }\n\n    if (opts.descending) {\n      params.descending = true;\n    }\n\n    if ('heartbeat' in opts) {\n      // If the heartbeat value is false, it disables the default heartbeat\n      if (opts.heartbeat) {\n        params.heartbeat = opts.heartbeat;\n      }\n    }\n\n    if (opts.filter && typeof opts.filter === 'string') {\n      params.filter = opts.filter;\n    }\n\n    if (opts.view && typeof opts.view === 'string') {\n      params.filter = '_view';\n      params.view = opts.view;\n    }\n\n    // If opts.query_params exists, pass it through to the changes request.\n    // These parameters may be used by the filter on the source database.\n    if (opts.query_params && typeof opts.query_params === 'object') {\n      for (var param_name in opts.query_params) {\n        /* istanbul ignore else */\n        if (opts.query_params.hasOwnProperty(param_name)) {\n          params[param_name] = opts.query_params[param_name];\n        }\n      }\n    }\n\n    var method = 'GET';\n    var body;\n\n    if (opts.doc_ids) {\n      // set this automagically for the user; it's annoying that couchdb\n      // requires both a \"filter\" and a \"doc_ids\" param.\n      params.filter = '_doc_ids';\n      method = 'POST';\n      body = {doc_ids: opts.doc_ids };\n    }\n    /* istanbul ignore next */\n    else if (opts.selector) {\n      // set this automagically for the user, similar to above\n      params.filter = '_selector';\n      method = 'POST';\n      body = {selector: opts.selector };\n    }\n\n    var xhr;\n    var lastFetchedSeq;\n\n    // Get all the changes starting wtih the one immediately after the\n    // sequence number given by since.\n    var fetch = function (since, callback) {\n      if (opts.aborted) {\n        return;\n      }\n      params.since = since;\n      // \"since\" can be any kind of json object in Coudant/CouchDB 2.x\n      /* istanbul ignore next */\n      if (typeof params.since === \"object\") {\n        params.since = JSON.stringify(params.since);\n      }\n\n      if (opts.descending) {\n        if (limit) {\n          params.limit = leftToFetch;\n        }\n      } else {\n        params.limit = (!limit || leftToFetch > batchSize) ?\n          batchSize : leftToFetch;\n      }\n\n      // Set the options for the ajax call\n      var xhrOpts = {\n        method: method,\n        url: genDBUrl(host, '_changes' + paramsToStr(params)),\n        timeout: requestTimeout,\n        body: body\n      };\n      lastFetchedSeq = since;\n\n      /* istanbul ignore if */\n      if (opts.aborted) {\n        return;\n      }\n\n      // Get the changes\n      setup().then(function () {\n        xhr = ajax(opts, xhrOpts, callback);\n      }).catch(callback);\n    };\n\n    // If opts.since exists, get all the changes from the sequence\n    // number given by opts.since. Otherwise, get all the changes\n    // from the sequence number 0.\n    var results = {results: []};\n\n    var fetched = function (err, res) {\n      if (opts.aborted) {\n        return;\n      }\n      var raw_results_length = 0;\n      // If the result of the ajax call (res) contains changes (res.results)\n      if (res && res.results) {\n        raw_results_length = res.results.length;\n        results.last_seq = res.last_seq;\n        // For each change\n        var req = {};\n        req.query = opts.query_params;\n        res.results = res.results.filter(function (c) {\n          leftToFetch--;\n          var ret = filterChange(opts)(c);\n          if (ret) {\n            if (opts.include_docs && opts.attachments && opts.binary) {\n              readAttachmentsAsBlobOrBuffer(c);\n            }\n            if (returnDocs) {\n              results.results.push(c);\n            }\n            opts.onChange(c);\n          }\n          return ret;\n        });\n      } else if (err) {\n        // In case of an error, stop listening for changes and call\n        // opts.complete\n        opts.aborted = true;\n        opts.complete(err);\n        return;\n      }\n\n      // The changes feed may have timed out with no results\n      // if so reuse last update sequence\n      if (res && res.last_seq) {\n        lastFetchedSeq = res.last_seq;\n      }\n\n      var finished = (limit && leftToFetch <= 0) ||\n        (res && raw_results_length < batchSize) ||\n        (opts.descending);\n\n      if ((opts.continuous && !(limit && leftToFetch <= 0)) || !finished) {\n        // Queue a call to fetch again with the newest sequence number\n        nextTick(function () { fetch(lastFetchedSeq, fetched); });\n      } else {\n        // We're done, call the callback\n        opts.complete(null, results);\n      }\n    };\n\n    fetch(opts.since || 0, fetched);\n\n    // Return a method to cancel this method from processing any more\n    return {\n      cancel: function () {\n        opts.aborted = true;\n        if (xhr) {\n          xhr.abort();\n        }\n      }\n    };\n  };\n\n  // Given a set of document/revision IDs (given by req), tets the subset of\n  // those that do NOT correspond to revisions stored in the database.\n  // See http://wiki.apache.org/couchdb/HttpPostRevsDiff\n  api.revsDiff = adapterFun$$1('revsDiff', function (req, opts, callback) {\n    // If no options were given, set the callback to be the second parameter\n    if (typeof opts === 'function') {\n      callback = opts;\n      opts = {};\n    }\n\n    // Get the missing document/revision IDs\n    ajax(opts, {\n      method: 'POST',\n      url: genDBUrl(host, '_revs_diff'),\n      body: req\n    }, callback);\n  });\n\n  api._close = function (callback) {\n    callback();\n  };\n\n  api._destroy = function (options, callback) {\n    ajax(options, {\n      url: genDBUrl(host, ''),\n      method: 'DELETE'\n    }, function (err, resp) {\n      if (err && err.status && err.status !== 404) {\n        return callback(err);\n      }\n      callback(null, resp);\n    });\n  };\n}\n\n// HttpPouch is a valid adapter.\nHttpPouch.valid = function () {\n  return true;\n};\n\nvar index = function (PouchDB) {\n  PouchDB.adapter('http', HttpPouch, false);\n  PouchDB.adapter('https', HttpPouch, false);\n};\n\nexport default index;\n","import Promise from 'pouchdb-promise';\nimport { explainError } from 'pouchdb-utils';\nimport { collate } from 'pouchdb-collate';\n\nvar CHECKPOINT_VERSION = 1;\nvar REPLICATOR = \"pouchdb\";\n// This is an arbitrary number to limit the\n// amount of replication history we save in the checkpoint.\n// If we save too much, the checkpoing docs will become very big,\n// if we save fewer, we'll run a greater risk of having to\n// read all the changes from 0 when checkpoint PUTs fail\n// CouchDB 2.0 has a more involved history pruning,\n// but let's go for the simple version for now.\nvar CHECKPOINT_HISTORY_SIZE = 5;\nvar LOWEST_SEQ = 0;\n\nfunction updateCheckpoint(db, id, checkpoint, session, returnValue) {\n  return db.get(id).catch(function (err) {\n    if (err.status === 404) {\n      if (db.adapter === 'http' || db.adapter === 'https') {\n        explainError(\n          404, 'PouchDB is just checking if a remote checkpoint exists.'\n        );\n      }\n      return {\n        session_id: session,\n        _id: id,\n        history: [],\n        replicator: REPLICATOR,\n        version: CHECKPOINT_VERSION\n      };\n    }\n    throw err;\n  }).then(function (doc) {\n    if (returnValue.cancelled) {\n      return;\n    }\n\n    // if the checkpoint has not changed, do not update\n    if (doc.last_seq === checkpoint) {\n      return;\n    }\n\n    // Filter out current entry for this replication\n    doc.history = (doc.history || []).filter(function (item) {\n      return item.session_id !== session;\n    });\n\n    // Add the latest checkpoint to history\n    doc.history.unshift({\n      last_seq: checkpoint,\n      session_id: session\n    });\n\n    // Just take the last pieces in history, to\n    // avoid really big checkpoint docs.\n    // see comment on history size above\n    doc.history = doc.history.slice(0, CHECKPOINT_HISTORY_SIZE);\n\n    doc.version = CHECKPOINT_VERSION;\n    doc.replicator = REPLICATOR;\n\n    doc.session_id = session;\n    doc.last_seq = checkpoint;\n\n    return db.put(doc).catch(function (err) {\n      if (err.status === 409) {\n        // retry; someone is trying to write a checkpoint simultaneously\n        return updateCheckpoint(db, id, checkpoint, session, returnValue);\n      }\n      throw err;\n    });\n  });\n}\n\nfunction Checkpointer(src, target, id, returnValue, opts) {\n  this.src = src;\n  this.target = target;\n  this.id = id;\n  this.returnValue = returnValue;\n  this.opts = opts;\n}\n\nCheckpointer.prototype.writeCheckpoint = function (checkpoint, session) {\n  var self = this;\n  return this.updateTarget(checkpoint, session).then(function () {\n    return self.updateSource(checkpoint, session);\n  });\n};\n\nCheckpointer.prototype.updateTarget = function (checkpoint, session) {\n  if (this.opts.writeTargetCheckpoint) {\n    return updateCheckpoint(this.target, this.id, checkpoint,\n      session, this.returnValue);\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nCheckpointer.prototype.updateSource = function (checkpoint, session) {\n  if (this.opts.writeSourceCheckpoint) {\n    var self = this;\n    if (this.readOnlySource) {\n      return Promise.resolve(true);\n    }\n    return updateCheckpoint(this.src, this.id, checkpoint,\n      session, this.returnValue)\n      .catch(function (err) {\n        if (isForbiddenError(err)) {\n          self.readOnlySource = true;\n          return true;\n        }\n        throw err;\n      });\n  } else {\n    return Promise.resolve(true);\n  }\n};\n\nvar comparisons = {\n  \"undefined\": function (targetDoc, sourceDoc) {\n    // This is the previous comparison function\n    if (collate(targetDoc.last_seq, sourceDoc.last_seq) === 0) {\n      return sourceDoc.last_seq;\n    }\n    /* istanbul ignore next */\n    return 0;\n  },\n  \"1\": function (targetDoc, sourceDoc) {\n    // This is the comparison function ported from CouchDB\n    return compareReplicationLogs(sourceDoc, targetDoc).last_seq;\n  }\n};\n\nCheckpointer.prototype.getCheckpoint = function () {\n  var self = this;\n  return self.target.get(self.id).then(function (targetDoc) {\n    if (self.readOnlySource) {\n      return Promise.resolve(targetDoc.last_seq);\n    }\n\n    return self.src.get(self.id).then(function (sourceDoc) {\n      // Since we can't migrate an old version doc to a new one\n      // (no session id), we just go with the lowest seq in this case\n      /* istanbul ignore if */\n      if (targetDoc.version !== sourceDoc.version) {\n        return LOWEST_SEQ;\n      }\n\n      var version;\n      if (targetDoc.version) {\n        version = targetDoc.version.toString();\n      } else {\n        version = \"undefined\";\n      }\n\n      if (version in comparisons) {\n        return comparisons[version](targetDoc, sourceDoc);\n      }\n      /* istanbul ignore next */\n      return LOWEST_SEQ;\n    }, function (err) {\n      if (err.status === 404 && targetDoc.last_seq) {\n        return self.src.put({\n          _id: self.id,\n          last_seq: LOWEST_SEQ\n        }).then(function () {\n          return LOWEST_SEQ;\n        }, function (err) {\n          if (isForbiddenError(err)) {\n            self.readOnlySource = true;\n            return targetDoc.last_seq;\n          }\n          /* istanbul ignore next */\n          return LOWEST_SEQ;\n        });\n      }\n      throw err;\n    });\n  }).catch(function (err) {\n    if (err.status !== 404) {\n      throw err;\n    }\n    return LOWEST_SEQ;\n  });\n};\n// This checkpoint comparison is ported from CouchDBs source\n// they come from here:\n// https://github.com/apache/couchdb-couch-replicator/blob/master/src/couch_replicator.erl#L863-L906\n\nfunction compareReplicationLogs(srcDoc, tgtDoc) {\n  if (srcDoc.session_id === tgtDoc.session_id) {\n    return {\n      last_seq: srcDoc.last_seq,\n      history: srcDoc.history\n    };\n  }\n\n  return compareReplicationHistory(srcDoc.history, tgtDoc.history);\n}\n\nfunction compareReplicationHistory(sourceHistory, targetHistory) {\n  // the erlang loop via function arguments is not so easy to repeat in JS\n  // therefore, doing this as recursion\n  var S = sourceHistory[0];\n  var sourceRest = sourceHistory.slice(1);\n  var T = targetHistory[0];\n  var targetRest = targetHistory.slice(1);\n\n  if (!S || targetHistory.length === 0) {\n    return {\n      last_seq: LOWEST_SEQ,\n      history: []\n    };\n  }\n\n  var sourceId = S.session_id;\n  /* istanbul ignore if */\n  if (hasSessionId(sourceId, targetHistory)) {\n    return {\n      last_seq: S.last_seq,\n      history: sourceHistory\n    };\n  }\n\n  var targetId = T.session_id;\n  if (hasSessionId(targetId, sourceRest)) {\n    return {\n      last_seq: T.last_seq,\n      history: targetRest\n    };\n  }\n\n  return compareReplicationHistory(sourceRest, targetRest);\n}\n\nfunction hasSessionId(sessionId, history) {\n  var props = history[0];\n  var rest = history.slice(1);\n\n  if (!sessionId || history.length === 0) {\n    return false;\n  }\n\n  if (sessionId === props.session_id) {\n    return true;\n  }\n\n  return hasSessionId(sessionId, rest);\n}\n\nfunction isForbiddenError(err) {\n  return typeof err.status === 'number' && Math.floor(err.status / 100) === 4;\n}\n\nexport default Checkpointer;\n","import Promise from 'pouchdb-promise';\nimport { binaryMd5 } from 'pouchdb-md5';\nimport { collate } from 'pouchdb-collate';\n\nfunction sortObjectPropertiesByKey(queryParams) {\n  return Object.keys(queryParams).sort(collate).reduce(function (result, key) {\n    result[key] = queryParams[key];\n    return result;\n  }, {});\n}\n\n// Generate a unique id particular to this replication.\n// Not guaranteed to align perfectly with CouchDB's rep ids.\nfunction generateReplicationId(src, target, opts) {\n  var docIds = opts.doc_ids ? opts.doc_ids.sort(collate) : '';\n  var filterFun = opts.filter ? opts.filter.toString() : '';\n  var queryParams = '';\n  var filterViewName =  '';\n  var selector = '';\n\n  // possibility for checkpoints to be lost here as behaviour of\n  // JSON.stringify is not stable (see #6226)\n  /* istanbul ignore if */\n  if (opts.selector) {\n    selector = JSON.stringify(opts.selector);\n  }\n\n  if (opts.filter && opts.query_params) {\n    queryParams = JSON.stringify(sortObjectPropertiesByKey(opts.query_params));\n  }\n\n  if (opts.filter && opts.filter === '_view') {\n    filterViewName = opts.view.toString();\n  }\n\n  return Promise.all([src.id(), target.id()]).then(function (res) {\n    var queryData = res[0] + res[1] + filterFun + filterViewName +\n      queryParams + docIds + selector;\n    return new Promise(function (resolve) {\n      binaryMd5(queryData, resolve);\n    });\n  }).then(function (md5sum) {\n    // can't use straight-up md5 alphabet, because\n    // the char '/' is interpreted as being for attachments,\n    // and + is also not url-safe\n    md5sum = md5sum.replace(/\\//g, '.').replace(/\\+/g, '_');\n    return '_local/' + md5sum;\n  });\n}\n\nexport default generateReplicationId;\n","import Promise from 'pouchdb-promise';\nimport { assign, clone, defaultBackOff, filterChange, flatten, isRemote, uuid } from 'pouchdb-utils';\nimport Checkpointer from 'pouchdb-checkpointer';\nimport generateReplicationId from 'pouchdb-generate-replication-id';\nimport { BAD_REQUEST, createError } from 'pouchdb-errors';\nimport { EventEmitter } from 'events';\nimport inherits from 'inherits';\n\nfunction isGenOne(rev) {\n  return /^1-/.test(rev);\n}\n\nfunction fileHasChanged(localDoc, remoteDoc, filename) {\n  return !localDoc._attachments ||\n         !localDoc._attachments[filename] ||\n         localDoc._attachments[filename].digest !== remoteDoc._attachments[filename].digest;\n}\n\nfunction getDocAttachments(db, doc) {\n  var filenames = Object.keys(doc._attachments);\n  return Promise.all(filenames.map(function (filename) {\n    return db.getAttachment(doc._id, filename, {rev: doc._rev});\n  }));\n}\n\nfunction getDocAttachmentsFromTargetOrSource(target, src, doc) {\n  var doCheckForLocalAttachments = isRemote(src) && !isRemote(target);\n  var filenames = Object.keys(doc._attachments);\n\n  if (!doCheckForLocalAttachments) {\n    return getDocAttachments(src, doc);\n  }\n\n  return target.get(doc._id).then(function (localDoc) {\n    return Promise.all(filenames.map(function (filename) {\n      if (fileHasChanged(localDoc, doc, filename)) {\n        return src.getAttachment(doc._id, filename);\n      }\n\n      return target.getAttachment(localDoc._id, filename);\n    }));\n  }).catch(function (error) {\n    /* istanbul ignore if */\n    if (error.status !== 404) {\n      throw error;\n    }\n\n    return getDocAttachments(src, doc);\n  });\n}\n\nfunction createBulkGetOpts(diffs) {\n  var requests = [];\n  Object.keys(diffs).forEach(function (id) {\n    var missingRevs = diffs[id].missing;\n    missingRevs.forEach(function (missingRev) {\n      requests.push({\n        id: id,\n        rev: missingRev\n      });\n    });\n  });\n\n  return {\n    docs: requests,\n    revs: true,\n    latest: true\n  };\n}\n\n//\n// Fetch all the documents from the src as described in the \"diffs\",\n// which is a mapping of docs IDs to revisions. If the state ever\n// changes to \"cancelled\", then the returned promise will be rejected.\n// Else it will be resolved with a list of fetched documents.\n//\nfunction getDocs(src, target, diffs, state) {\n  diffs = clone(diffs); // we do not need to modify this\n\n  var resultDocs = [],\n      ok = true;\n\n  function getAllDocs() {\n\n    var bulkGetOpts = createBulkGetOpts(diffs);\n\n    if (!bulkGetOpts.docs.length) { // optimization: skip empty requests\n      return;\n    }\n\n    return src.bulkGet(bulkGetOpts).then(function (bulkGetResponse) {\n      /* istanbul ignore if */\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      return Promise.all(bulkGetResponse.results.map(function (bulkGetInfo) {\n        return Promise.all(bulkGetInfo.docs.map(function (doc) {\n          var remoteDoc = doc.ok;\n\n          if (doc.error) {\n            // when AUTO_COMPACTION is set, docs can be returned which look\n            // like this: {\"missing\":\"1-7c3ac256b693c462af8442f992b83696\"}\n            ok = false;\n          }\n\n          if (!remoteDoc || !remoteDoc._attachments) {\n            return remoteDoc;\n          }\n\n          return getDocAttachmentsFromTargetOrSource(target, src, remoteDoc)\n                   .then(function (attachments) {\n                           var filenames = Object.keys(remoteDoc._attachments);\n                           attachments\n                             .forEach(function (attachment, i) {\n                                        var att = remoteDoc._attachments[filenames[i]];\n                                        delete att.stub;\n                                        delete att.length;\n                                        att.data = attachment;\n                                      });\n\n                                      return remoteDoc;\n                                    });\n        }));\n      }))\n\n      .then(function (results) {\n        resultDocs = resultDocs.concat(flatten(results).filter(Boolean));\n      });\n    });\n  }\n\n  function hasAttachments(doc) {\n    return doc._attachments && Object.keys(doc._attachments).length > 0;\n  }\n\n  function hasConflicts(doc) {\n    return doc._conflicts && doc._conflicts.length > 0;\n  }\n\n  function fetchRevisionOneDocs(ids) {\n    // Optimization: fetch gen-1 docs and attachments in\n    // a single request using _all_docs\n    return src.allDocs({\n      keys: ids,\n      include_docs: true,\n      conflicts: true\n    }).then(function (res) {\n      if (state.cancelled) {\n        throw new Error('cancelled');\n      }\n      res.rows.forEach(function (row) {\n        if (row.deleted || !row.doc || !isGenOne(row.value.rev) ||\n            hasAttachments(row.doc) || hasConflicts(row.doc)) {\n          // if any of these conditions apply, we need to fetch using get()\n          return;\n        }\n\n        // strip _conflicts array to appease CSG (#5793)\n        /* istanbul ignore if */\n        if (row.doc._conflicts) {\n          delete row.doc._conflicts;\n        }\n\n        // the doc we got back from allDocs() is sufficient\n        resultDocs.push(row.doc);\n        delete diffs[row.id];\n      });\n    });\n  }\n\n  function getRevisionOneDocs() {\n    // filter out the generation 1 docs and get them\n    // leaving the non-generation one docs to be got otherwise\n    var ids = Object.keys(diffs).filter(function (id) {\n      var missing = diffs[id].missing;\n      return missing.length === 1 && isGenOne(missing[0]);\n    });\n    if (ids.length > 0) {\n      return fetchRevisionOneDocs(ids);\n    }\n  }\n\n  function returnResult() {\n    return { ok:ok, docs:resultDocs };\n  }\n\n  return Promise.resolve()\n    .then(getRevisionOneDocs)\n    .then(getAllDocs)\n    .then(returnResult);\n}\n\nvar STARTING_BACK_OFF = 0;\n\nfunction backOff(opts, returnValue, error, callback) {\n  if (opts.retry === false) {\n    returnValue.emit('error', error);\n    returnValue.removeAllListeners();\n    return;\n  }\n  if (typeof opts.back_off_function !== 'function') {\n    opts.back_off_function = defaultBackOff;\n  }\n  returnValue.emit('requestError', error);\n  if (returnValue.state === 'active' || returnValue.state === 'pending') {\n    returnValue.emit('paused', error);\n    returnValue.state = 'stopped';\n    var backOffSet = function backoffTimeSet() {\n      opts.current_back_off = STARTING_BACK_OFF;\n    };\n    var removeBackOffSetter = function removeBackOffTimeSet() {\n      returnValue.removeListener('active', backOffSet);\n    };\n    returnValue.once('paused', removeBackOffSetter);\n    returnValue.once('active', backOffSet);\n  }\n\n  opts.current_back_off = opts.current_back_off || STARTING_BACK_OFF;\n  opts.current_back_off = opts.back_off_function(opts.current_back_off);\n  setTimeout(callback, opts.current_back_off);\n}\n\nfunction replicate(src, target, opts, returnValue, result) {\n  var batches = [];               // list of batches to be processed\n  var currentBatch;               // the batch currently being processed\n  var pendingBatch = {\n    seq: 0,\n    changes: [],\n    docs: []\n  }; // next batch, not yet ready to be processed\n  var writingCheckpoint = false;  // true while checkpoint is being written\n  var changesCompleted = false;   // true when all changes received\n  var replicationCompleted = false; // true when replication has completed\n  var last_seq = 0;\n  var continuous = opts.continuous || opts.live || false;\n  var batch_size = opts.batch_size || 100;\n  var batches_limit = opts.batches_limit || 10;\n  var changesPending = false;     // true while src.changes is running\n  var doc_ids = opts.doc_ids;\n  var selector = opts.selector;\n  var repId;\n  var checkpointer;\n  var changedDocs = [];\n  // Like couchdb, every replication gets a unique session id\n  var session = uuid();\n\n  result = result || {\n    ok: true,\n    start_time: new Date(),\n    docs_read: 0,\n    docs_written: 0,\n    doc_write_failures: 0,\n    errors: []\n  };\n\n  var changesOpts = {};\n  returnValue.ready(src, target);\n\n  function initCheckpointer() {\n    if (checkpointer) {\n      return Promise.resolve();\n    }\n    return generateReplicationId(src, target, opts).then(function (res) {\n      repId = res;\n\n      var checkpointOpts = {};\n      if (opts.checkpoint === false) {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'source') {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: false };\n      } else if (opts.checkpoint === 'target') {\n        checkpointOpts = { writeSourceCheckpoint: false, writeTargetCheckpoint: true };\n      } else {\n        checkpointOpts = { writeSourceCheckpoint: true, writeTargetCheckpoint: true };\n      }\n\n      checkpointer = new Checkpointer(src, target, repId, returnValue, checkpointOpts);\n    });\n  }\n\n  function writeDocs() {\n    changedDocs = [];\n\n    if (currentBatch.docs.length === 0) {\n      return;\n    }\n    var docs = currentBatch.docs;\n    var bulkOpts = {timeout: opts.timeout};\n    return target.bulkDocs({docs: docs, new_edits: false}, bulkOpts).then(function (res) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n\n      // `res` doesn't include full documents (which live in `docs`), so we create a map of \n      // (id -> error), and check for errors while iterating over `docs`\n      var errorsById = Object.create(null);\n      res.forEach(function (res) {\n        if (res.error) {\n          errorsById[res.id] = res;\n        }\n      });\n\n      var errorsNo = Object.keys(errorsById).length;\n      result.doc_write_failures += errorsNo;\n      result.docs_written += docs.length - errorsNo;\n\n      docs.forEach(function (doc) {\n        var error = errorsById[doc._id];\n        if (error) {\n          result.errors.push(error);\n          if (error.name === 'unauthorized' || error.name === 'forbidden') {\n            returnValue.emit('denied', clone(error));\n          } else {\n            throw error;\n          }\n        } else {\n          changedDocs.push(doc);\n        }\n      });\n\n    }, function (err) {\n      result.doc_write_failures += docs.length;\n      throw err;\n    });\n  }\n\n  function finishBatch() {\n    if (currentBatch.error) {\n      throw new Error('There was a problem getting docs.');\n    }\n    result.last_seq = last_seq = currentBatch.seq;\n    var outResult = clone(result);\n    if (changedDocs.length) {\n      outResult.docs = changedDocs;\n      returnValue.emit('change', outResult);\n    }\n    writingCheckpoint = true;\n    return checkpointer.writeCheckpoint(currentBatch.seq,\n        session).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      currentBatch = undefined;\n      getChanges();\n    }).catch(function (err) {\n      onCheckpointError(err);\n      throw err;\n    });\n  }\n\n  function getDiffs() {\n    var diff = {};\n    currentBatch.changes.forEach(function (change) {\n      // Couchbase Sync Gateway emits these, but we can ignore them\n      /* istanbul ignore if */\n      if (change.id === \"_user/\") {\n        return;\n      }\n      diff[change.id] = change.changes.map(function (x) {\n        return x.rev;\n      });\n    });\n    return target.revsDiff(diff).then(function (diffs) {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        throw new Error('cancelled');\n      }\n      // currentBatch.diffs elements are deleted as the documents are written\n      currentBatch.diffs = diffs;\n    });\n  }\n\n  function getBatchDocs() {\n    return getDocs(src, target, currentBatch.diffs, returnValue).then(function (got) {\n      currentBatch.error = !got.ok;\n      got.docs.forEach(function (doc) {\n        delete currentBatch.diffs[doc._id];\n        result.docs_read++;\n        currentBatch.docs.push(doc);\n      });\n    });\n  }\n\n  function startNextBatch() {\n    if (returnValue.cancelled || currentBatch) {\n      return;\n    }\n    if (batches.length === 0) {\n      processPendingBatch(true);\n      return;\n    }\n    currentBatch = batches.shift();\n    getDiffs()\n      .then(getBatchDocs)\n      .then(writeDocs)\n      .then(finishBatch)\n      .then(startNextBatch)\n      .catch(function (err) {\n        abortReplication('batch processing terminated with error', err);\n      });\n  }\n\n\n  function processPendingBatch(immediate) {\n    if (pendingBatch.changes.length === 0) {\n      if (batches.length === 0 && !currentBatch) {\n        if ((continuous && changesOpts.live) || changesCompleted) {\n          returnValue.state = 'pending';\n          returnValue.emit('paused');\n        }\n        if (changesCompleted) {\n          completeReplication();\n        }\n      }\n      return;\n    }\n    if (\n      immediate ||\n      changesCompleted ||\n      pendingBatch.changes.length >= batch_size\n    ) {\n      batches.push(pendingBatch);\n      pendingBatch = {\n        seq: 0,\n        changes: [],\n        docs: []\n      };\n      if (returnValue.state === 'pending' || returnValue.state === 'stopped') {\n        returnValue.state = 'active';\n        returnValue.emit('active');\n      }\n      startNextBatch();\n    }\n  }\n\n\n  function abortReplication(reason, err) {\n    if (replicationCompleted) {\n      return;\n    }\n    if (!err.message) {\n      err.message = reason;\n    }\n    result.ok = false;\n    result.status = 'aborting';\n    batches = [];\n    pendingBatch = {\n      seq: 0,\n      changes: [],\n      docs: []\n    };\n    completeReplication(err);\n  }\n\n\n  function completeReplication(fatalError) {\n    if (replicationCompleted) {\n      return;\n    }\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      result.status = 'cancelled';\n      if (writingCheckpoint) {\n        return;\n      }\n    }\n    result.status = result.status || 'complete';\n    result.end_time = new Date();\n    result.last_seq = last_seq;\n    replicationCompleted = true;\n\n    if (fatalError) {\n      // need to extend the error because Firefox considers \".result\" read-only\n      fatalError = createError(fatalError);\n      fatalError.result = result;\n\n      if (fatalError.name === 'unauthorized' || fatalError.name === 'forbidden') {\n        returnValue.emit('error', fatalError);\n        returnValue.removeAllListeners();\n      } else {\n        backOff(opts, returnValue, fatalError, function () {\n          replicate(src, target, opts, returnValue);\n        });\n      }\n    } else {\n      returnValue.emit('complete', result);\n      returnValue.removeAllListeners();\n    }\n  }\n\n\n  function onChange(change) {\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    var filter = filterChange(opts)(change);\n    if (!filter) {\n      return;\n    }\n    pendingBatch.seq = change.seq;\n    pendingBatch.changes.push(change);\n    processPendingBatch(batches.length === 0 && changesOpts.live);\n  }\n\n\n  function onChangesComplete(changes) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n\n    // if no results were returned then we're done,\n    // else fetch more\n    if (changes.results.length > 0) {\n      changesOpts.since = changes.last_seq;\n      getChanges();\n      processPendingBatch(true);\n    } else {\n\n      var complete = function () {\n        if (continuous) {\n          changesOpts.live = true;\n          getChanges();\n        } else {\n          changesCompleted = true;\n        }\n        processPendingBatch(true);\n      };\n\n      // update the checkpoint so we start from the right seq next time\n      if (!currentBatch && changes.results.length === 0) {\n        writingCheckpoint = true;\n        checkpointer.writeCheckpoint(changes.last_seq,\n            session).then(function () {\n          writingCheckpoint = false;\n          result.last_seq = last_seq = changes.last_seq;\n          complete();\n        })\n        .catch(onCheckpointError);\n      } else {\n        complete();\n      }\n    }\n  }\n\n\n  function onChangesError(err) {\n    changesPending = false;\n    /* istanbul ignore if */\n    if (returnValue.cancelled) {\n      return completeReplication();\n    }\n    abortReplication('changes rejected', err);\n  }\n\n\n  function getChanges() {\n    if (!(\n      !changesPending &&\n      !changesCompleted &&\n      batches.length < batches_limit\n      )) {\n      return;\n    }\n    changesPending = true;\n    function abortChanges() {\n      changes.cancel();\n    }\n    function removeListener() {\n      returnValue.removeListener('cancel', abortChanges);\n    }\n\n    if (returnValue._changes) { // remove old changes() and listeners\n      returnValue.removeListener('cancel', returnValue._abortChanges);\n      returnValue._changes.cancel();\n    }\n    returnValue.once('cancel', abortChanges);\n\n    var changes = src.changes(changesOpts)\n      .on('change', onChange);\n    changes.then(removeListener, removeListener);\n    changes.then(onChangesComplete)\n      .catch(onChangesError);\n\n    if (opts.retry) {\n      // save for later so we can cancel if necessary\n      returnValue._changes = changes;\n      returnValue._abortChanges = abortChanges;\n    }\n  }\n\n\n  function startChanges() {\n    initCheckpointer().then(function () {\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      return checkpointer.getCheckpoint().then(function (checkpoint) {\n        last_seq = checkpoint;\n        changesOpts = {\n          since: last_seq,\n          limit: batch_size,\n          batch_size: batch_size,\n          style: 'all_docs',\n          doc_ids: doc_ids,\n          selector: selector,\n          return_docs: true // required so we know when we're done\n        };\n        if (opts.filter) {\n          if (typeof opts.filter !== 'string') {\n            // required for the client-side filter in onChange\n            changesOpts.include_docs = true;\n          } else { // ddoc filter\n            changesOpts.filter = opts.filter;\n          }\n        }\n        if ('heartbeat' in opts) {\n          changesOpts.heartbeat = opts.heartbeat;\n        }\n        if ('timeout' in opts) {\n          changesOpts.timeout = opts.timeout;\n        }\n        if (opts.query_params) {\n          changesOpts.query_params = opts.query_params;\n        }\n        if (opts.view) {\n          changesOpts.view = opts.view;\n        }\n        getChanges();\n      });\n    }).catch(function (err) {\n      abortReplication('getCheckpoint rejected with ', err);\n    });\n  }\n\n  /* istanbul ignore next */\n  function onCheckpointError(err) {\n    writingCheckpoint = false;\n    abortReplication('writeCheckpoint completed with error', err);\n  }\n\n  /* istanbul ignore if */\n  if (returnValue.cancelled) { // cancelled immediately\n    completeReplication();\n    return;\n  }\n\n  if (!returnValue._addedListeners) {\n    returnValue.once('cancel', completeReplication);\n\n    if (typeof opts.complete === 'function') {\n      returnValue.once('error', opts.complete);\n      returnValue.once('complete', function (result) {\n        opts.complete(null, result);\n      });\n    }\n    returnValue._addedListeners = true;\n  }\n\n  if (typeof opts.since === 'undefined') {\n    startChanges();\n  } else {\n    initCheckpointer().then(function () {\n      writingCheckpoint = true;\n      return checkpointer.writeCheckpoint(opts.since, session);\n    }).then(function () {\n      writingCheckpoint = false;\n      /* istanbul ignore if */\n      if (returnValue.cancelled) {\n        completeReplication();\n        return;\n      }\n      last_seq = opts.since;\n      startChanges();\n    }).catch(onCheckpointError);\n  }\n}\n\n// We create a basic promise so the caller can cancel the replication possibly\n// before we have actually started listening to changes etc\ninherits(Replication, EventEmitter);\nfunction Replication() {\n  EventEmitter.call(this);\n  this.cancelled = false;\n  this.state = 'pending';\n  var self = this;\n  var promise = new Promise(function (fulfill, reject) {\n    self.once('complete', fulfill);\n    self.once('error', reject);\n  });\n  self.then = function (resolve, reject) {\n    return promise.then(resolve, reject);\n  };\n  self.catch = function (reject) {\n    return promise.catch(reject);\n  };\n  // As we allow error handling via \"error\" event as well,\n  // put a stub in here so that rejecting never throws UnhandledError.\n  self.catch(function () {});\n}\n\nReplication.prototype.cancel = function () {\n  this.cancelled = true;\n  this.state = 'cancelled';\n  this.emit('cancel');\n};\n\nReplication.prototype.ready = function (src, target) {\n  var self = this;\n  if (self._readyCalled) {\n    return;\n  }\n  self._readyCalled = true;\n\n  function onDestroy() {\n    self.cancel();\n  }\n  src.once('destroyed', onDestroy);\n  target.once('destroyed', onDestroy);\n  function cleanup() {\n    src.removeListener('destroyed', onDestroy);\n    target.removeListener('destroyed', onDestroy);\n  }\n  self.once('complete', cleanup);\n};\n\nfunction toPouch(db, opts) {\n  var PouchConstructor = opts.PouchConstructor;\n  if (typeof db === 'string') {\n    return new PouchConstructor(db, opts);\n  } else {\n    return db;\n  }\n}\n\nfunction replicateWrapper(src, target, opts, callback) {\n\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n\n  if (opts.doc_ids && !Array.isArray(opts.doc_ids)) {\n    throw createError(BAD_REQUEST,\n                       \"`doc_ids` filter parameter is not a list.\");\n  }\n\n  opts.complete = callback;\n  opts = clone(opts);\n  opts.continuous = opts.continuous || opts.live;\n  opts.retry = ('retry' in opts) ? opts.retry : false;\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  var replicateRet = new Replication(opts);\n  var srcPouch = toPouch(src, opts);\n  var targetPouch = toPouch(target, opts);\n  replicate(srcPouch, targetPouch, opts, replicateRet);\n  return replicateRet;\n}\n\ninherits(Sync, EventEmitter);\nfunction sync$1(src, target, opts, callback) {\n  if (typeof opts === 'function') {\n    callback = opts;\n    opts = {};\n  }\n  if (typeof opts === 'undefined') {\n    opts = {};\n  }\n  opts = clone(opts);\n  /*jshint validthis:true */\n  opts.PouchConstructor = opts.PouchConstructor || this;\n  src = toPouch(src, opts);\n  target = toPouch(target, opts);\n  return new Sync(src, target, opts, callback);\n}\n\nfunction Sync(src, target, opts, callback) {\n  var self = this;\n  this.canceled = false;\n\n  var optsPush = opts.push ? assign({}, opts, opts.push) : opts;\n  var optsPull = opts.pull ? assign({}, opts, opts.pull) : opts;\n\n  this.push = replicateWrapper(src, target, optsPush);\n  this.pull = replicateWrapper(target, src, optsPull);\n\n  this.pushPaused = true;\n  this.pullPaused = true;\n\n  function pullChange(change) {\n    self.emit('change', {\n      direction: 'pull',\n      change: change\n    });\n  }\n  function pushChange(change) {\n    self.emit('change', {\n      direction: 'push',\n      change: change\n    });\n  }\n  function pushDenied(doc) {\n    self.emit('denied', {\n      direction: 'push',\n      doc: doc\n    });\n  }\n  function pullDenied(doc) {\n    self.emit('denied', {\n      direction: 'pull',\n      doc: doc\n    });\n  }\n  function pushPaused() {\n    self.pushPaused = true;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('paused');\n    }\n  }\n  function pullPaused() {\n    self.pullPaused = true;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('paused');\n    }\n  }\n  function pushActive() {\n    self.pushPaused = false;\n    /* istanbul ignore if */\n    if (self.pullPaused) {\n      self.emit('active', {\n        direction: 'push'\n      });\n    }\n  }\n  function pullActive() {\n    self.pullPaused = false;\n    /* istanbul ignore if */\n    if (self.pushPaused) {\n      self.emit('active', {\n        direction: 'pull'\n      });\n    }\n  }\n\n  var removed = {};\n\n  function removeAll(type) { // type is 'push' or 'pull'\n    return function (event, func) {\n      var isChange = event === 'change' &&\n        (func === pullChange || func === pushChange);\n      var isDenied = event === 'denied' &&\n        (func === pullDenied || func === pushDenied);\n      var isPaused = event === 'paused' &&\n        (func === pullPaused || func === pushPaused);\n      var isActive = event === 'active' &&\n        (func === pullActive || func === pushActive);\n\n      if (isChange || isDenied || isPaused || isActive) {\n        if (!(event in removed)) {\n          removed[event] = {};\n        }\n        removed[event][type] = true;\n        if (Object.keys(removed[event]).length === 2) {\n          // both push and pull have asked to be removed\n          self.removeAllListeners(event);\n        }\n      }\n    };\n  }\n\n  if (opts.live) {\n    this.push.on('complete', self.pull.cancel.bind(self.pull));\n    this.pull.on('complete', self.push.cancel.bind(self.push));\n  }\n\n  function addOneListener(ee, event, listener) {\n    if (ee.listeners(event).indexOf(listener) == -1) {\n      ee.on(event, listener);\n    }\n  }\n\n  this.on('newListener', function (event) {\n    if (event === 'change') {\n      addOneListener(self.pull, 'change', pullChange);\n      addOneListener(self.push, 'change', pushChange);\n    } else if (event === 'denied') {\n      addOneListener(self.pull, 'denied', pullDenied);\n      addOneListener(self.push, 'denied', pushDenied);\n    } else if (event === 'active') {\n      addOneListener(self.pull, 'active', pullActive);\n      addOneListener(self.push, 'active', pushActive);\n    } else if (event === 'paused') {\n      addOneListener(self.pull, 'paused', pullPaused);\n      addOneListener(self.push, 'paused', pushPaused);\n    }\n  });\n\n  this.on('removeListener', function (event) {\n    if (event === 'change') {\n      self.pull.removeListener('change', pullChange);\n      self.push.removeListener('change', pushChange);\n    } else if (event === 'denied') {\n      self.pull.removeListener('denied', pullDenied);\n      self.push.removeListener('denied', pushDenied);\n    } else if (event === 'active') {\n      self.pull.removeListener('active', pullActive);\n      self.push.removeListener('active', pushActive);\n    } else if (event === 'paused') {\n      self.pull.removeListener('paused', pullPaused);\n      self.push.removeListener('paused', pushPaused);\n    }\n  });\n\n  this.pull.on('removeListener', removeAll('pull'));\n  this.push.on('removeListener', removeAll('push'));\n\n  var promise = Promise.all([\n    this.push,\n    this.pull\n  ]).then(function (resp) {\n    var out = {\n      push: resp[0],\n      pull: resp[1]\n    };\n    self.emit('complete', out);\n    if (callback) {\n      callback(null, out);\n    }\n    self.removeAllListeners();\n    return out;\n  }, function (err) {\n    self.cancel();\n    if (callback) {\n      // if there's a callback, then the callback can receive\n      // the error event\n      callback(err);\n    } else {\n      // if there's no callback, then we're safe to emit an error\n      // event, which would otherwise throw an unhandled error\n      // due to 'error' being a special event in EventEmitters\n      self.emit('error', err);\n    }\n    self.removeAllListeners();\n    if (callback) {\n      // no sense throwing if we're already emitting an 'error' event\n      throw err;\n    }\n  });\n\n  this.then = function (success, err) {\n    return promise.then(success, err);\n  };\n\n  this.catch = function (err) {\n    return promise.catch(err);\n  };\n}\n\nSync.prototype.cancel = function () {\n  if (!this.canceled) {\n    this.canceled = true;\n    this.push.cancel();\n    this.pull.cancel();\n  }\n};\n\nfunction replication(PouchDB) {\n  PouchDB.replicate = replicateWrapper;\n  PouchDB.sync = sync$1;\n\n  Object.defineProperty(PouchDB.prototype, 'replicate', {\n    get: function () {\n      var self = this;\n      return {\n        from: function (other, opts, callback) {\n          return self.constructor.replicate(other, self, opts, callback);\n        },\n        to: function (other, opts, callback) {\n          return self.constructor.replicate(self, other, opts, callback);\n        }\n      };\n    }\n  });\n\n  PouchDB.prototype.sync = function (dbName, opts, callback) {\n    return this.constructor.sync(this, dbName, opts, callback);\n  };\n}\n\nexport default replication;\n","/**\n * @wearegenki/db (web worker)\n * Vue + vuex plugin for reactive PouchDB (in a web worker)\n * @author: Max Milton <max@wearegenki.com>\n *\n * Copyright 2017 We Are Genki\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// NOTE: The `i` var is the message sequence id used to keep track of which\n//  method the message originated from.\n\nimport PouchDB from 'pouchdb-core';\nimport AdapterIdb from 'pouchdb-adapter-idb';\nimport AdapterHttp from 'pouchdb-adapter-http';\nimport Replication from 'pouchdb-replication';\nimport { rev } from 'pouchdb-utils';\nimport SparkMD5 from 'spark-md5';\n\n// initialise PouchDB plugins\nif (process.env.NODE_ENV === 'test') {\n  // in-memory database for testing\n  PouchDB.plugin(require('pouchdb-adapter-memory')); // eslint-disable-line\n}\nPouchDB.plugin(AdapterIdb);\nPouchDB.plugin(AdapterHttp);\nPouchDB.plugin(Replication);\n\nlet localDB;\nlet remoteDB;\nlet queries = new Map();\nlet namespace;\n\nfunction init(opts) {\n  if (opts.debug) PouchDB.debug.enable(opts.debug);\n\n  localDB = new PouchDB(opts.local);\n  remoteDB = opts.remote ? new PouchDB(opts.remote) : undefined;\n\n  queries = new Map(opts.queries);\n  namespace = opts.namespace; // eslint-disable-line prefer-destructuring\n\n  // handle local database events\n  localDB.changes({ since: 'now', live: true })\n    .on('change', change => handleChange(change))\n    .on('error', (err) => { throw new Error(err); });\n\n  if (opts.remote && opts.sync) {\n    // populate local database; replicate from remote database\n    localDB.replicate.from(remoteDB).on('complete', () => {\n      // keep local and remote databases in sync\n      localDB.sync(remoteDB, {\n        live: true,\n        retry: true,\n        filter: opts.filter,\n      });\n    });\n  }\n\n  if (queries.size) {\n    handleChange({});\n  }\n}\n\nfunction get(i, docId) {\n  localDB.get(docId)\n    .then(doc => send({ i, res: doc }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction put(i, doc) {\n  localDB.put(doc)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction post(i, doc) {\n  localDB.post(doc)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction remove(i, doc) {\n  localDB.remove(doc)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction allDocs(i, opts) {\n  localDB.allDocs(opts)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction bulkDocs(i, docs, opts) {\n  localDB.bulkDocs(docs, opts)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction revsDiff(i, diff) {\n  localDB.revsDiff(diff)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction changes(i, opts) {\n  if (opts.live) {\n    send({ i, rej: 'Can\\'t use live option from web worker' });\n    return;\n  }\n\n  localDB.changes(opts)\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nfunction compact(i) {\n  localDB.compact()\n    .then(res => send({ i, res }))\n    .catch(err => send({ i, rej: err }));\n}\n\nasync function runQuery(key, query) {\n  try {\n    let res;\n\n    if (key === 'docs') {\n      // simple list of doc _ids\n      res = await localDB.allDocs({\n        include_docs: true,\n        keys: query,\n      });\n    } else {\n      // type query with filter and sort\n      let { rows } = await localDB.allDocs({\n        include_docs: true,\n        startkey: query.type,\n        endkey: `${query.type}\\ufff0`,\n      });\n\n      if (query.filter !== undefined) {\n        rows = rows.filter(row => row.doc[query.filter.field] === query.filter.value);\n      }\n\n      // clean up results so we just have an array of docs\n      res = rows.map(row => row.doc);\n\n      if (query.sort !== undefined) {\n        res = res.sort((a, b) => a[query.sort].localeCompare(b[query.sort]));\n      }\n    }\n    return { key, res };\n  } catch (err) {\n    throw err;\n  }\n}\n\nasync function handleChange(change, oneShot) {\n  if (queries.size) {\n    const batch = [];\n\n    if (!oneShot) {\n      // TODO: Optimise which queries are run based on change.id (?)\n      // FIXME: Wait until initial sync is finished before running (to avoid\n      // running many times on first login)\n      console.debug('CHANGE', change);\n\n      queries.forEach((query, key) => {\n        batch.push(runQuery(key, query));\n      });\n    } else if (change.key === change.query) {\n      // one shot doc _id query\n      batch.push(runQuery('docs', [change.query]));\n    } else {\n      // one shot custom query\n      batch.push(runQuery(change.key, change.query));\n    }\n\n    const processItem = async (input) => {\n      const { key, res } = await input;\n\n      if (res.rows) {\n        // doc _id result\n        res.rows.forEach(row => send({\n          commit: `${namespace}/setQueryResult`,\n          data: { key: row.id, data: row.doc },\n        }));\n      } else {\n        // custom query result\n        send({\n          commit: `${namespace}/setQueryResult`,\n          data: { key, data: res },\n        });\n      }\n    };\n\n    batch.map(processItem);\n  }\n}\n\nfunction register(query, key) {\n  if (typeof query === 'string') {\n    // simple doc _id query\n    key = query; // eslint-disable-line no-param-reassign\n\n    if (!queries.has('docs')) {\n      queries.set('docs', [key]);\n    } else {\n      const keys = queries.get('docs');\n      queries.set('docs', [...keys, key]);\n    }\n  } else {\n    // custom query\n    queries.set(key, query);\n  }\n\n  // register a new reactive vuex object\n  send({ commit: `${namespace}/addQuery`, data: { key }});\n\n  // run the query once to populate the vuex object\n  handleChange({ key, query }, true);\n}\n\nfunction unregister(key, isDoc) {\n  if (!isDoc) {\n    queries.delete(key);\n  } else {\n    const docs = queries.get('docs');\n    queries.set('docs', docs.filter(doc => doc !== key));\n  }\n  send({ commit: `${namespace}/removeQuery`, data: { key }});\n}\n\nfunction waitUntil(i, docId, newOnly, timeout) {\n  let docIds;\n  if (typeof docId === 'string') {\n    docIds = [docId];\n  } else {\n    // clone the array\n    docIds = docId.slice(0);\n  }\n\n  // listen to database changes feed\n  const listener = localDB.changes({ since: 'now', live: true })\n    .on('change', (change) => {\n      docIds = docIds.filter(id => id !== change.id);\n\n      if (!docIds.length) {\n        send({ i, res: docId });\n        listener.cancel();\n      }\n    })\n    .on('error', (err) => {\n      send({ i, rej: err });\n      listener.cancel();\n    });\n\n  // check existing docs\n  if (!newOnly) {\n    const filterFun = (doc) => {\n      docIds = docIds.filter(id => id !== doc._id);\n\n      if (!docIds.length) {\n        send({ i, res: docId });\n        listener.cancel();\n      }\n    };\n\n    docIds.forEach((docId2) => {\n      localDB.get(docId2)\n        .then(filterFun)\n        .catch(() => {}); // no-op; keep looking in changes feed\n    });\n  }\n\n  // handle timeout\n  self.setTimeout(() => { // eslint-disable-line no-restricted-globals\n    send({ i, rej: `Can't find ${docId}, timeout` });\n    listener.cancel();\n  }, timeout);\n}\n\nfunction dbRev(i) {\n  send({ i, res: rev() });\n}\n\nfunction md5(i, string) {\n  send({ i, res: SparkMD5.hash(string) });\n}\n\n// outgoing message handler\nfunction send(msg) {\n  postMessage(JSON.stringify(msg));\n}\n\n// incoming message event handler\nself.addEventListener('message', receive); // eslint-disable-line no-restricted-globals\n\nfunction receive(event) {\n  const data = JSON.parse(event.data);\n\n  if (data.get !== undefined) {\n    get(data.get.i, data.get.opts[0]);\n  } else if (data.allDocs !== undefined) {\n    allDocs(data.allDocs.i, data.allDocs.opts[0]);\n  } else if (data.put !== undefined) {\n    put(data.put.i, data.put.opts[0]);\n  } else if (data.register !== undefined) {\n    register(data.register.query, data.register.key);\n  } else if (data.unregister !== undefined) {\n    unregister(data.unregister.key, data.unregister.isDoc);\n  } else if (data.remove !== undefined) {\n    remove(data.remove.i, data.remove.opts[0]);\n  } else if (data.waitUntil !== undefined) {\n    waitUntil(data.waitUntil.i, data.waitUntil.opts[0], data.waitUntil.opts[1], data.waitUntil.opts[2]);\n  } else if (data.changes !== undefined) {\n    changes(data.changes.i, data.changes.opts[0]);\n  } else if (data.bulkDocs !== undefined) {\n    bulkDocs(data.bulkDocs.i, data.bulkDocs.opts[0], data.bulkDocs.opts[1]);\n  } else if (data.local !== undefined) {\n    init(data);\n  } else if (data.rev !== undefined) {\n    dbRev(data.rev.i);\n  } else if (data.md5 !== undefined) {\n    md5(data.md5.i, data.md5.opts[0]);\n  } else if (data.compact !== undefined) {\n    compact(data.compact.i);\n  } else if (data.revsDiff !== undefined) {\n    revsDiff(data.revsDiff.i, data.revsDiff.opts[0]);\n  } else if (data.post !== undefined) {\n    post(data.post.i, data.post.opts[0]);\n  } else {\n    throw new Error('Unknown event:', event);\n  }\n}\n"],"names":["global","rng","bytesToUuid","uuid","v4","v1","Promise","immediate","lie","inherits","getArguments","Map","Changes","uuidV4","require$$0","ms","debug","compare","normalizeDdocFunctionName","parseDdocFunctionName","assign","nextTick","bulkGetShim","pouchDebug","pouchChangesFilter","btoa","Md5","atob","binaryStringToBlobOrBuffer","blobOrBufferToBinaryString","blobOrBufferToBase64","pop","blob","base64StringToBlobOrBuffer","rev","changesHandler","isLocalId$1","queue","changes","Set","init","preprocessAttachments","ajaxCore","ajax","index","process","env","NODE_ENV","plugin","require","PouchDB","AdapterIdb","AdapterHttp","Replication","localDB","remoteDB","queries","namespace","opts","enable","local","remote","undefined","on","change","handleChange","err","Error","sync","replicate","from","filter","size","get","i","docId","then","doc","send","catch","put","res","post","remove","allDocs","bulkDocs","docs","revsDiff","diff","live","compact","runQuery","key","query","type","rows","row","field","value","map","sort","a","b","localeCompare","oneShot","batch","forEach","push","processItem","input","id","register","has","set","keys","unregister","isDoc","delete","waitUntil","newOnly","timeout","docIds","slice","listener","length","cancel","filterFun","_id","docId2","setTimeout","dbRev","md5","string","SparkMD5","hash","msg","JSON","stringify","self","addEventListener","receive","event","data","parse"],"mappings":"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"}